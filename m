Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 92CD175E25
	for <lists+spice-devel@lfdr.de>; Fri, 26 Jul 2019 07:08:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 75D9D6E881;
	Fri, 26 Jul 2019 05:08:21 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-io1-xd41.google.com (mail-io1-xd41.google.com
 [IPv6:2607:f8b0:4864:20::d41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A07B36E881
 for <spice-devel@lists.freedesktop.org>; Fri, 26 Jul 2019 05:08:20 +0000 (UTC)
Received: by mail-io1-xd41.google.com with SMTP id q22so102180210iog.4
 for <spice-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 22:08:20 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=5tXBxbf2QtQPR8QOTcnWFNXjj1/UTfIdmc5I20564Dw=;
 b=JSgSU3h9lnXUmtKIuE0Y9l+mZMnVnudFmiL50qJ7bQZJmyXgHpjMaOE99TqRab5/ES
 1Bp2HyHXisZSXHvsilMQhDjj0uDJ3t9sW+BxRHTeKQFgiqF4tNF+1HIv9OJhbXi3OkXz
 56DAtl9mEzwdCay5QxLn724l9e+b6ZBftPKefx9cC301b53yIZWMIEvpaUjJDiv32mfY
 vOjv41m+h5CXKtupzzUEGTcutsJrlsdbCBkBLWDz/4a3qRr8rBG6x6g1xCnb8OFgT3ZQ
 1YfHK8nc06cPudYpMifzsrN6P4NGqYri/Ce1mR5i/FzlHJtawVGsD+8OKRXxl5BQy3iM
 3XAw==
X-Gm-Message-State: APjAAAWpMeuiCEw/y4ctWFYi7BsxVMELqjADr8Aybi7DAMdzF/w6c4Ak
 RhiH4ehnDq4lAjC/a27X5agFeHErjPEcL40zjU2Yep/M
X-Google-Smtp-Source: APXvYqxnxcer/GU9nk6hM2YEyrBEk3eezwHh8hJSj6H3SHBa3k+B8SP00o+mz9yvAtBJ6dcyJrQtfiJ0OqwmO5k8IiA=
X-Received: by 2002:a6b:6611:: with SMTP id a17mr61504719ioc.179.1564117699957; 
 Thu, 25 Jul 2019 22:08:19 -0700 (PDT)
MIME-Version: 1.0
References: <20190724105351.13753-1-yuri.benditovich@daynix.com>
 <20190724105351.13753-3-yuri.benditovich@daynix.com>
 <1528197574.2953680.1564045298943.JavaMail.zimbra@redhat.com>
 <CAOEp5OdB0hg4u=+Nk+2T8P=cdjdQ1n0m0GwkuhPxgLxk6rWiQg@mail.gmail.com>
 <1392106279.2977164.1564054045587.JavaMail.zimbra@redhat.com>
 <615004152.3040546.1564076765218.JavaMail.zimbra@redhat.com>
In-Reply-To: <615004152.3040546.1564076765218.JavaMail.zimbra@redhat.com>
From: Yuri Benditovich <yuri.benditovich@daynix.com>
Date: Fri, 26 Jul 2019 08:08:07 +0300
Message-ID: <CAOEp5Od0O_GGhnF9q_Ne1rt0-uJUX4LQyFM9Xap+6POqE8=f_Q@mail.gmail.com>
To: Frediano Ziglio <fziglio@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=5tXBxbf2QtQPR8QOTcnWFNXjj1/UTfIdmc5I20564Dw=;
 b=C8q20gSiEz9noHS2IAaNCDf0inaMYHlg8UrsF3rNYakf232MYlf9Pfr77I3oUfy7Xe
 KzkB7hfdBY/0j3E1ZkoaLH8TiRPWfTVSnX/ENF5/IegK1xBmHfcfhYd73gsqpzZN6Wc6
 6RfxZ4ZBSdzua7NPPA/+GmPTeulvCHUfaWs8CJb8DuTz+lz0nOy+GZQB6I3KNERzYUYJ
 qPWsaNrZ5WNGg/HI8x9XSUIPLfe2vTHdgFtIqSNTw7ovnt+SFogpbDS3msz4cuTCpDU9
 YTtYJUG78U3c4UTYU60lbt26JqjwbaZ09lMv0PiK1mbFpy5B4ryZjxhe39Lw76IyZjqI
 YO4w==
Subject: Re: [Spice-devel] [spice-gtk 2/9] usb-redir: device error signal
 without device object
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Yan Vugenfirer <yan@daynix.com>,
 Spice List <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBKdWwgMjUsIDIwMTkgYXQgODo0NiBQTSBGcmVkaWFubyBaaWdsaW8gPGZ6aWdsaW9A
cmVkaGF0LmNvbT4gd3JvdGU6Cj4KPiA+ID4KPiA+ID4gT24gVGh1LCBKdWwgMjUsIDIwMTkgYXQg
MTI6MDEgUE0gRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlvQHJlZGhhdC5jb20+Cj4gPiA+IHdyb3Rl
Ogo+ID4gPiA+Cj4gPiA+ID4gPgo+ID4gPiA+ID4gQWRkIGFiaWxpdHkgdG8gaW5kaWNhdGUgZXJy
b3IgdG8gZXh0ZXJuYWwgbW9kdWxlcyB2aWEKPiA+ID4gPiA+ICdkZXZpY2UgZXJyb3InIHNpZ25h
bCB3aGVuIHJlYWwgU3BpY2VVc2JEZXZpY2UgaXMgbm90IHBhc3NlZC4KPiA+ID4gPiA+IFRoaXMg
aXMgbmVlZGVkIHRvIGluZGljYXRlIGVycm9yIGR1cmluZyBjcmVhdGlvbiBvZiBlbXVsYXRlZAo+
ID4gPiA+ID4gZGV2aWNlLCB3aGVuIHRoZSBkZXZpY2UgaXMgbm90IGNyZWF0ZWQgeWV0LiBGb3Ig
dGhhdCB3ZQo+ID4gPiA+ID4gYWxsb2NhdGUgdGVtcG9yYXJ5IFNwaWNlVXNiRGV2aWNlIHN0cnVj
dHVyZSB3aXRoIGJhY2tlbmQKPiA+ID4gPiA+IGRldmljZSBmaWVsZHMgc2V0IHRvIE5VTEwgYW5k
IHVzZSBpdCBmb3IgaW5kaWNhdGlvbi4gRGV2aWNlCj4gPiA+ID4gPiBkZXNjcmlwdGlvbiBmb3Ig
c3VjaCBkZXZpY2Ugd2lsbCBiZSAnVVNCIFJlZGlyZWN0aW9uJy4KPiA+ID4gPiA+IFVucmVmZXJl
bmNpbmcgb2Ygc3VjaCBkZXZpY2Ugd2lsbCBiZSAnbm8gb3BlcmF0aW9uJy4KPiA+ID4gPiA+Cj4g
PiA+ID4gPiBTaWduZWQtb2ZmLWJ5OiBZdXJpIEJlbmRpdG92aWNoIDx5dXJpLmJlbmRpdG92aWNo
QGRheW5peC5jb20+Cj4gPiA+ID4gPiAtLS0KPiA+ID4gPiA+ICBzcmMvdXNiLWJhY2tlbmQuYyAg
ICAgICAgfCAgMyArKysKPiA+ID4gPiA+ICBzcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMgfCAxNCAr
KysrKysrKysrKystLQo+ID4gPiA+ID4gIDIgZmlsZXMgY2hhbmdlZCwgMTUgaW5zZXJ0aW9ucygr
KSwgMiBkZWxldGlvbnMoLSkKPiA+ID4gPiA+Cj4gPiA+ID4gPiBkaWZmIC0tZ2l0IGEvc3JjL3Vz
Yi1iYWNrZW5kLmMgYi9zcmMvdXNiLWJhY2tlbmQuYwo+ID4gPiA+ID4gaW5kZXggMGJmMmVjYy4u
YzE3OTE4OCAxMDA2NDQKPiA+ID4gPiA+IC0tLSBhL3NyYy91c2ItYmFja2VuZC5jCj4gPiA+ID4g
PiArKysgYi9zcmMvdXNiLWJhY2tlbmQuYwo+ID4gPiA+ID4gQEAgLTUyOCw2ICs1MjgsOSBAQCBT
cGljZVVzYkJhY2tlbmREZXZpY2UKPiA+ID4gPiA+ICpzcGljZV91c2JfYmFja2VuZF9kZXZpY2Vf
cmVmKFNwaWNlVXNiQmFja2VuZERldmljZSAqZGV2KQo+ID4gPiA+ID4KPiA+ID4gPiA+ICB2b2lk
IHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV91bnJlZihTcGljZVVzYkJhY2tlbmREZXZpY2UgKmRl
dikKPiA+ID4gPiA+ICB7Cj4gPiA+ID4gPiArICAgIGlmICghZGV2KSB7Cj4gPiA+ID4gPiArICAg
ICAgICByZXR1cm47Cj4gPiA+ID4gPiArICAgIH0KPiA+ID4gPiA+ICAgICAgTE9VRF9ERUJVRygi
JXMgPj4gJXAoJWQpIiwgX19GVU5DVElPTl9fLCBkZXYsIGRldi0+cmVmX2NvdW50KTsKPiA+ID4g
PiA+ICAgICAgaWYgKGdfYXRvbWljX2ludF9kZWNfYW5kX3Rlc3QoJmRldi0+cmVmX2NvdW50KSkg
ewo+ID4gPiA+ID4gICAgICAgICAgaWYgKGRldi0+bGlidXNiX2RldmljZSkgewo+ID4gPiA+ID4g
ZGlmZiAtLWdpdCBhL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYyBiL3NyYy91c2ItZGV2aWNlLW1h
bmFnZXIuYwo+ID4gPiA+ID4gaW5kZXggYTUzMGJlOS4uMDk2MWQxNiAxMDA2NDQKPiA+ID4gPiA+
IC0tLSBhL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYwo+ID4gPiA+ID4gKysrIGIvc3JjL3VzYi1k
ZXZpY2UtbWFuYWdlci5jCj4gPiA+ID4gPiBAQCAtOTM1LDEwICs5MzUsMTYgQEAgc3RhdGljIHZv
aWQKPiA+ID4gPiA+IHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9jaGVja19yZWRpcl9vbl9jb25u
ZWN0KAo+ID4gPiA+ID4gIHZvaWQgc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2RldmljZV9lcnJv
cigKPiA+ID4gPiA+ICAgICAgU3BpY2VVc2JEZXZpY2VNYW5hZ2VyICpzZWxmLCBTcGljZVVzYkRl
dmljZSAqZGV2aWNlLCBHRXJyb3IgKmVycikKPiA+ID4gPiA+ICB7Cj4gPiA+ID4gPiArICAgIFNw
aWNlVXNiRGV2aWNlICpkZXYgPSBkZXZpY2U7Cj4gPiA+ID4KPiA+ID4gPiAiZGV2IiBhbmQgImRl
dmljZSIgZG8gbm90IHNvdW5kIGdyZWF0LiBNYXliZSAidGVtcF9kZXYiIG9yICJmYWtlX2RldiIg
Pwo+ID4gPiA+Cj4gPiA+ID4gPiAgICAgIGdfcmV0dXJuX2lmX2ZhaWwoU1BJQ0VfSVNfVVNCX0RF
VklDRV9NQU5BR0VSKHNlbGYpKTsKPiA+ID4gPiA+IC0gICAgZ19yZXR1cm5faWZfZmFpbChkZXZp
Y2UgIT0gTlVMTCk7Cj4gPiA+ID4gPiAtCj4gPiA+ID4gPiArICAgIGlmIChkZXZpY2UgPT0gTlVM
TCkgewo+ID4gPiA+ID4gKyAgICAgICAgZGV2ID0gZ19uZXcwKFNwaWNlVXNiRGV2aWNlLCAxKTsK
PiA+ID4gPiA+ICsgICAgICAgIGRldi0+cmVmID0gMTsKPiA+ID4gPiA+ICsgICAgfQo+ID4gPiA+
ID4gICAgICBnX3NpZ25hbF9lbWl0KHNlbGYsIHNpZ25hbHNbREVWSUNFX0VSUk9SXSwgMCwgZGV2
aWNlLCBlcnIpOwo+ID4gPiA+Cj4gPiA+ID4gSWYgZGV2aWNlIHdhcyBpbml0aWFsbHkgTlVMTCBh
dCBmdW5jdGlvbiBjYWxsIHRoaXMgaXMgc3RpbGwgTlVMTC4KPiA+ID4KPiA+ID4gU29ycnksIHR5
cG8uCj4gPiA+Cj4gPiA+ID4KPiA+ID4gPiA+ICsgICAgaWYgKGRldmljZSA9PSBOVUxMKSB7Cj4g
PiA+ID4gPiArICAgICAgICBzcGljZV91c2JfZGV2aWNlX3VucmVmKGRldik7Cj4gPiA+ID4KPiA+
ID4gPiBJZiBkZXZpY2Ugd2FzIE5VTEwgeW91IGFsbG9jYXRlIGEgbmV3IGVtcHR5IFNwaWNlVXNi
RGV2aWNlIGFuZAo+ID4gPiA+IHRoZW4gZnJlZSBpdC4gTm90IHN1cmUgaXMgd2hhdCB5b3Ugd2Fu
dCB0byBkby4KPiA+ID4gPgo+ID4gPiA+ID4gKyAgICB9Cj4gPgo+ID4gSSB3b3VsZCB0aGVuIHJl
d3JpdGUgYXMKPiA+Cj4gPiB7Cj4gPiAgICAgU3BpY2VVc2JEZXZpY2UgKmR1bW15X2RldmljZSA9
IE5VTEw7Cj4gPiAgICAgZ19yZXR1cm5faWZfZmFpbChTUElDRV9JU19VU0JfREVWSUNFX01BTkFH
RVIoc2VsZikpOwo+ID4KPiA+ICAgICBpZiAoZGV2aWNlID09IE5VTEwpIHsKPiA+ICAgICAgICAg
ZHVtbXlfZGV2aWNlID0gZ19uZXcwKFNwaWNlVXNiRGV2aWNlLCAxKTsKPiA+ICAgICAgICAgZHVt
bXlfZGV2aWNlLT5yZWYgPSAxOwo+ID4gICAgICAgICBkZXZpY2UgPSBkdW1teV9kZXZpY2U7Cj4g
PiAgICAgfQo+ID4gICAgIGdfc2lnbmFsX2VtaXQoc2VsZiwgc2lnbmFsc1tERVZJQ0VfRVJST1Jd
LCAwLCBkZXZpY2UsIGVycik7Cj4gPiAgICAgaWYgKGR1bW15X2RldmljZSAhPSBOVUxMKSB7Cj4g
PiAgICAgICAgIHNwaWNlX3VzYl9kZXZpY2VfdW5yZWYoZHVtbXlfZGV2aWNlKTsKPiA+ICAgICB9
Cj4gPiB9Cj4gPgo+ID4gPiA+ID4gIH0KPiA+ID4gPiA+ICAjZW5kaWYKPiA+ID4gPiA+Cj4gPiA+
ID4gPiBAQCAtMTQ0MCw2ICsxNDQ2LDEwIEBAIGdjaGFyCj4gPiA+ID4gPiAqc3BpY2VfdXNiX2Rl
dmljZV9nZXRfZGVzY3JpcHRpb24oU3BpY2VVc2JEZXZpY2UKPiA+ID4gPiA+ICpkZXZpY2UsIGNv
bnN0IGdjaGFyICpmb3IKPiA+ID4gPiA+Cj4gPiA+ID4gPiAgICAgIGdfcmV0dXJuX3ZhbF9pZl9m
YWlsKGRldmljZSAhPSBOVUxMLCBOVUxMKTsKPiA+ID4gPiA+Cj4gPiA+ID4gPiArICAgIGlmICgh
ZGV2aWNlLT5iZGV2KSB7Cj4gPiA+ID4gPiArICAgICAgICByZXR1cm4gZ19zdHJkdXAoXygiVVNC
IHJlZGlyZWN0aW9uIikpOwo+ID4gPiA+ID4gKyAgICB9Cj4gPiA+ID4gPiArCj4gPiA+ID4gPiAg
ICAgIGJ1cyAgICAgPSBzcGljZV91c2JfZGV2aWNlX2dldF9idXNudW0oZGV2aWNlKTsKPiA+ID4g
PiA+ICAgICAgYWRkcmVzcyA9IHNwaWNlX3VzYl9kZXZpY2VfZ2V0X2RldmFkZHIoZGV2aWNlKTsK
PiA+ID4gPiA+ICAgICAgdmlkICAgICA9IHNwaWNlX3VzYl9kZXZpY2VfZ2V0X3ZpZChkZXZpY2Up
Owo+ID4gPiA+Cj4KPiBPaywgbm93IEkgaGFkIHVuZGVyc3RhbmQgdGhpcyBwYXRjaC4gVGhpcyBp
cyByZW1vdmluZyB0aGUKPiBhc3N1bXB0aW9uIHRoYXQgYmRldiBpcyBuZXZlciBOVUxMLgo+IE9u
bHkgdG8gc3VwcG9ydCBjYWxsaW5nIHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9kZXZpY2VfZXJy
b3IKPiB3aXRoIGEgTlVMTCBkZXZpY2UuCj4gSSB3b3VsZCBzYXkgbmFjayB0byB0aGlzIHBhdGNo
IGFuZCBmaW5kIGFub3RoZXIgc29sdXRpb24uCj4gTWF5YmUgYWRkaW5nIGEgImRldmljZV9jcmVh
dGlvbl9lcnJvciIgc2lnbmFsIHdpdGggImVycm9yIgo+IGJ1dCBubyBkZXZpY2UuCgpJTU8sIGNy
ZWF0aW5nIHNwZWNpYWwgZW50aXR5IGZvciBlYWNoIGNhc2UgdGhhdCBpcyBsaXR0bGUgZGlmZmVy
ZW50CmZyb20gZXhpc3Rpbmcgb25lcwppcyBkaXNyZXNwZWN0IHRvIE9jY2FtJ3MgcHJpbmNpcGxl
IChhbmQgc2V2ZXJhbCBzaW1pbGFyIG9uZXMpLiBJbiBjb250ZXh0IG9mCidkZXZpY2UgZXJyb3Ig
c2lnbmFsJyB0aGUgJ2RldmljZScgaXMgc29tZXRoaW5nIHRoYXQgY2FuCnJlZmVyZW5jZWQvZGVy
ZWZlcmVuY2VkIGFuZAp3aGljaCBuYW1lIGNhbiBiZSByZXRyaWV2ZWQuCgo+IFRoaXMgaXMgbm90
IGEgZGV2aWNlIGVycm9yLCBpdCdzIGEgZGV2aWNlIG1hbmFnZXIgZXJyb3IuCgpXZSBjYW4gdmll
dyBkZXZpY2UgbWFuYWdlciBhcyBraW5kIG9mIGRldmljZSwgdGhlbiB0aGVyZSBpcyBjb25mbGlj
dC4KCj4gVGhpcyBpcyBjYXVzZWQgYnkgd2FudGluZyB0byB1c2UgYW4gaW50ZXJmYWNlIChwcm9w
ZXJ0aWVzKQo+IHRoYXQgZG9lcyBub3QgYWxsb3cgdG8gcmV0dXJuIGFuIGVycm9yIGluc3RlYWQu
CgpBcyBhbnkgc29sdXRpb24sIHRoaXMgb25lIGhhcyBwcm9zIGFuZCBjb25zLiBGcm9tIG15IHBl
cnNvbmFsIHBvaW50IG9mIHZpZXcsCml0IGhhcyBzaWduaWZpY2FudCBwcm8gKGxvdyBjb3N0IG9m
IGltcGxlbWVudGF0aW9uKSBhbmQgZG9lcyBub3QgaGF2ZQphbnkgc2lnbmlmaWNhbnQgY29uLgoK
PiBGcmVkaWFubwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2Ut
ZGV2ZWw=
