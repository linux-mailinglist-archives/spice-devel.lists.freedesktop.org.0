Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id E017D43302
	for <lists+spice-devel@lfdr.de>; Thu, 13 Jun 2019 08:54:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D48C88928F;
	Thu, 13 Jun 2019 06:53:59 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id E96DB8928F
 for <spice-devel@lists.freedesktop.org>; Thu, 13 Jun 2019 06:53:57 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx01.intmail.prod.int.phx2.redhat.com
 [10.5.11.11])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 6BA9A30821BF
 for <spice-devel@lists.freedesktop.org>; Thu, 13 Jun 2019 06:53:57 +0000 (UTC)
Received: from fziglio.remote.csb (ovpn-204-51.brq.redhat.com [10.40.204.51])
 by smtp.corp.redhat.com (Postfix) with ESMTP id AD2F17C551;
 Thu, 13 Jun 2019 06:53:55 +0000 (UTC)
From: Frediano Ziglio <fziglio@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Thu, 13 Jun 2019 07:53:47 +0100
Message-Id: <20190613065347.22946-1-fziglio@redhat.com>
In-Reply-To: <545660586.22410007.1560321048559.JavaMail.zimbra@redhat.com>
References: <545660586.22410007.1560321048559.JavaMail.zimbra@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.11
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.47]); Thu, 13 Jun 2019 06:53:57 +0000 (UTC)
Subject: [Spice-devel] [PATCH spice-server] Remove compile warnings on Linux
 32bit system
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

QmFzZWQgb24gYSBwYXRjaCBmcm9tIEhvbmd6aGkuU29uZyA8aG9uZ3poaS5zb25nQHdpbmRyaXZl
ci5jb20+LgoKVGhlcmUgYXJlIGZvbGxvd2luZyBjb21waWxlIGVycm9ycyBvbiBMaW51eCAzMmJp
dCBzeXN0ZW0gd2l0aCAtV2Vycm9yCmZvciBnY2MuCgpyZWQtY2hhbm5lbC5jOjIwNzo3MzogZXJy
b3I6IGZvcm1hdCAnJXgnIGV4cGVjdHMgYXJndW1lbnQgb2YgdHlwZQondW5zaWduZWQgaW50Jywg
YnV0IGFyZ3VtZW50IDcgaGFzIHR5cGUgJ2xvbmcgdW5zaWduZWQgaW50JyBbLVdlcnJvcj1mb3Jt
YXQ9XQp8MjA3fCByZWRfY2hhbm5lbF9kZWJ1ZyhzZWxmLCAidGhyZWFkX2lkIDB4JSIgR19HU0la
RV9NT0RJRklFUiAieCIsCgkJCQl+fn5+fn5+fn5+fn5+fn5+fn5+fn5eCgkJCXNlbGYtPnByaXYt
PnRocmVhZF9pZCk7CgkJfn5+fn5+fn5+fn5+fn5+fn5+fn5+XgoKcHRocmVhZF90IGlzIGFuIG9w
YXF1ZSB0eXBlIHNvIGl0J3Mgbm90IGVhc3kgdG8gZ2V0IHBvcnRhYmx5CnRoZSBwcmludGYgZm9y
bWF0IHN0cmluZy4gSG93ZXZlciB0aGUgdHlwZSBtdXN0IGJlIGNvbXBhcmFibGUgaW4gQwpzbyB0
aGlzIChleGNsdWRpbmcgZmxvYXRpbmcgcG9pbnQgd2hpY2ggZG9lcyBub3QgbWFrZSBzZW5zZSkg
bWVhbnMKYW4gaW50ZWdyYWwgdHlwZSBvciBhIHBvaW50ZXIuClVuZGVyICpCU0QgdGhpcyBpcyBh
IHBvaW50ZXIgc28gY2FuIGJlIGNvbnZlcnRlZCB3aXRob3V0IGxvb3NpbmcKcHJlY2lzaW9uIHRv
IHZvaWQqLgpVbmRlciBMaW51eCB0aGlzIGlzIGEgInVuc2lnbmVkIGxvbmcgaW50IiB0eXBlLCBi
ZWluZyBMaW51eCBJTFAzMiBvcgpMUDY0IHRoaXMgbWVhbnMgdGhhdCB0aGUgc2l6ZSBvZiBwdGhy
ZWFkX3QgaXMgdGhlIHNhbWUgYXMgc2l6ZV90CnNvIGNhbiBiZSBjb252ZXJ0ZWQgd2l0aG91dCBs
b29zaW5nIHByZWNpc2lvbiB0byB2b2lkKi4KVW5kZXIgTWluZ1cgKHRoZSBwdGhyZWFkIHBvcnQg
dG8gV2luZG93cykgdGhpcyBpcyBhIHVpbnRwdHJfdCB0eXBlCnRoYXQgaXMgY2FuIGJlIGNvbnZl
cnRlZCB3aXRob3V0IGxvb3NpbmcgcHJlY2lzaW9uIHRvIHZvaWQqLgpPbiBhbnkgcG90ZW50aWFs
IGZ1dHVyZSBwbGF0Zm9ybXMgaWYgdGhlIGludGVncmFsIHR5cGUgaXMgc21hbGxlcgp0aGFuIGEg
dWludHB0cl90IHR5cGUgKHdoaWNoIGhhcyB0aGUgc2FtZSBzaXplIG9mIHZvaWQqKSB0aGUgY2Fz
dApzaG91bGQgdHJpZ2dlciBhIHdhcm5pbmcgYW5kIGlmIG5vdCB3b24ndCBsb29zZSBwcmVjaXNp
b247IHRoZQppbnRlZ3JhbCB0eXBlIGlzIHVubGlrZWx5IHRvIGJlIGJpZ2dlciB0aGFuIGEgcG9p
bnRlciBhbmQgbGlrZWx5CnRoZSBjYXN0IHdvdWxkIHRyaWdnZXIgYSB3YXJuaW5nLgoKVGhlIGNh
c3Qgb24gcmVhZF9iaW5hcnkgKHJlZC1yZXBsYXktcXhsLmMpIGlzIHNhZmUsICIqc2l6ZSIgaXMg
YQpzaXplX3Qgd2hpbGUgInN0cm0udG90YWxfb3V0IiBpcyB0aGUgbnVtYmVyIG9mIHdyaXR0ZW4g
Ynl0ZXMgaW4KYSBidWZmZXIgd2hpY2ggY2Fubm90IGJlIGJpZ2dlciB0aGFuIGEgc2l6ZV90LgoK
U2lnbmVkLW9mZi1ieTogRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlvQHJlZGhhdC5jb20+Ci0tLQog
c2VydmVyL3JlZC1jaGFubmVsLmMgICAgfCAgOCArKysrLS0tLQogc2VydmVyL3JlZC1jbGllbnQu
YyAgICAgfCAxNCArKysrKysrLS0tLS0tLQogc2VydmVyL3JlZC1yZXBsYXktcXhsLmMgfCAgMiAr
LQogMyBmaWxlcyBjaGFuZ2VkLCAxMiBpbnNlcnRpb25zKCspLCAxMiBkZWxldGlvbnMoLSkKCmRp
ZmYgLS1naXQgYS9zZXJ2ZXIvcmVkLWNoYW5uZWwuYyBiL3NlcnZlci9yZWQtY2hhbm5lbC5jCmlu
ZGV4IDgyZTUyMjM5NS4uZTA5ZWRhY2Y4IDEwMDY0NAotLS0gYS9zZXJ2ZXIvcmVkLWNoYW5uZWwu
YworKysgYi9zZXJ2ZXIvcmVkLWNoYW5uZWwuYwpAQCAtMjAyLDcgKzIwMiw3IEBAIHJlZF9jaGFu
bmVsX2NvbnN0cnVjdGVkKEdPYmplY3QgKm9iamVjdCkKIHsKICAgICBSZWRDaGFubmVsICpzZWxm
ID0gUkVEX0NIQU5ORUwob2JqZWN0KTsKIAotICAgIHJlZF9jaGFubmVsX2RlYnVnKHNlbGYsICJ0
aHJlYWRfaWQgMHglIiBHX0dTSVpFX01PRElGSUVSICJ4Iiwgc2VsZi0+cHJpdi0+dGhyZWFkX2lk
KTsKKyAgICByZWRfY2hhbm5lbF9kZWJ1ZyhzZWxmLCAidGhyZWFkX2lkICVwIiwgKHZvaWQqKSBz
ZWxmLT5wcml2LT50aHJlYWRfaWQpOwogCiAgICAgUmVkQ2hhbm5lbENsYXNzICprbGFzcyA9IFJF
RF9DSEFOTkVMX0dFVF9DTEFTUyhzZWxmKTsKIApAQCAtNDczLDExICs0NzMsMTEgQEAgdm9pZCBy
ZWRfY2hhbm5lbF9yZW1vdmVfY2xpZW50KFJlZENoYW5uZWwgKmNoYW5uZWwsIFJlZENoYW5uZWxD
bGllbnQgKnJjYykKIAogICAgIGlmICghcHRocmVhZF9lcXVhbChwdGhyZWFkX3NlbGYoKSwgY2hh
bm5lbC0+cHJpdi0+dGhyZWFkX2lkKSkgewogICAgICAgICByZWRfY2hhbm5lbF93YXJuaW5nKGNo
YW5uZWwsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgImNoYW5uZWwtPnRocmVhZF9pZCAo
MHglIiBHX0dTSVpFX01PRElGSUVSICJ4KSAhPSAiCi0gICAgICAgICAgICAgICAgICAgICAgICAg
ICAgInB0aHJlYWRfc2VsZiAoMHglIiBHX0dTSVpFX01PRElGSUVSICJ4KS4iCisgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgImNoYW5uZWwtPnRocmVhZF9pZCAoJXApICE9ICIKKyAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAicHRocmVhZF9zZWxmICglcCkuIgogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICJJZiBvbmUgb2YgdGhlIHRocmVhZHMgaXMgIT0gaW8tdGhyZWFkICYmICE9
IHZjcHUtdGhyZWFkLCAiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInRoaXMgbWlnaHQg
YmUgYSBCVUciLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwtPnByaXYtPnRo
cmVhZF9pZCwgcHRocmVhZF9zZWxmKCkpOworICAgICAgICAgICAgICAgICAgICAgICAgICAgICh2
b2lkKikgY2hhbm5lbC0+cHJpdi0+dGhyZWFkX2lkLCAodm9pZCopIHB0aHJlYWRfc2VsZigpKTsK
ICAgICB9CiAgICAgc3BpY2VfcmV0dXJuX2lmX2ZhaWwoY2hhbm5lbCk7CiAgICAgbGluayA9IGdf
bGlzdF9maW5kKGNoYW5uZWwtPnByaXYtPmNsaWVudHMsIHJjYyk7CmRpZmYgLS1naXQgYS9zZXJ2
ZXIvcmVkLWNsaWVudC5jIGIvc2VydmVyL3JlZC1jbGllbnQuYwppbmRleCA5NjFiNDk3MGUuLmE0
Yzc5YTE3NCAxMDA2NDQKLS0tIGEvc2VydmVyL3JlZC1jbGllbnQuYworKysgYi9zZXJ2ZXIvcmVk
LWNsaWVudC5jCkBAIC0xNzQsMTEgKzE3NCwxMSBAQCB2b2lkIHJlZF9jbGllbnRfbWlncmF0ZShS
ZWRDbGllbnQgKmNsaWVudCkKICAgICBSZWRDaGFubmVsICpjaGFubmVsOwogCiAgICAgaWYgKCFw
dGhyZWFkX2VxdWFsKHB0aHJlYWRfc2VsZigpLCBjbGllbnQtPnRocmVhZF9pZCkpIHsKLSAgICAg
ICAgc3BpY2Vfd2FybmluZygiY2xpZW50LT50aHJlYWRfaWQgKDB4JSIgR19HU0laRV9NT0RJRklF
UiAieCkgIT0gIgotICAgICAgICAgICAgICAgICAgICAgICJwdGhyZWFkX3NlbGYgKDB4JSIgR19H
U0laRV9NT0RJRklFUiAieCkuIgorICAgICAgICBzcGljZV93YXJuaW5nKCJjbGllbnQtPnRocmVh
ZF9pZCAoJXApICE9ICIKKyAgICAgICAgICAgICAgICAgICAgICAicHRocmVhZF9zZWxmICglcCku
IgogICAgICAgICAgICAgICAgICAgICAgICJJZiBvbmUgb2YgdGhlIHRocmVhZHMgaXMgIT0gaW8t
dGhyZWFkICYmICE9IHZjcHUtdGhyZWFkLCIKICAgICAgICAgICAgICAgICAgICAgICAiIHRoaXMg
bWlnaHQgYmUgYSBCVUciLAotICAgICAgICAgICAgICAgICAgICAgIGNsaWVudC0+dGhyZWFkX2lk
LCBwdGhyZWFkX3NlbGYoKSk7CisgICAgICAgICAgICAgICAgICAgICAgKHZvaWQqKSBjbGllbnQt
PnRocmVhZF9pZCwgKHZvaWQqKSBwdGhyZWFkX3NlbGYoKSk7CiAgICAgfQogICAgIEZPUkVBQ0hf
Q0hBTk5FTF9DTElFTlQoY2xpZW50LCByY2MpIHsKICAgICAgICAgaWYgKHJlZF9jaGFubmVsX2Ns
aWVudF9pc19jb25uZWN0ZWQocmNjKSkgewpAQCAtMTkzLDEyICsxOTMsMTIgQEAgdm9pZCByZWRf
Y2xpZW50X2Rlc3Ryb3koUmVkQ2xpZW50ICpjbGllbnQpCiAgICAgUmVkQ2hhbm5lbENsaWVudCAq
cmNjOwogCiAgICAgaWYgKCFwdGhyZWFkX2VxdWFsKHB0aHJlYWRfc2VsZigpLCBjbGllbnQtPnRo
cmVhZF9pZCkpIHsKLSAgICAgICAgc3BpY2Vfd2FybmluZygiY2xpZW50LT50aHJlYWRfaWQgKDB4
JSIgR19HU0laRV9NT0RJRklFUiAieCkgIT0gIgotICAgICAgICAgICAgICAgICAgICAgICJwdGhy
ZWFkX3NlbGYgKDB4JSIgR19HU0laRV9NT0RJRklFUiAieCkuIgorICAgICAgICBzcGljZV93YXJu
aW5nKCJjbGllbnQtPnRocmVhZF9pZCAoJXApICE9ICIKKyAgICAgICAgICAgICAgICAgICAgICAi
cHRocmVhZF9zZWxmICglcCkuIgogICAgICAgICAgICAgICAgICAgICAgICJJZiBvbmUgb2YgdGhl
IHRocmVhZHMgaXMgIT0gaW8tdGhyZWFkICYmICE9IHZjcHUtdGhyZWFkLCIKICAgICAgICAgICAg
ICAgICAgICAgICAiIHRoaXMgbWlnaHQgYmUgYSBCVUciLAotICAgICAgICAgICAgICAgICAgICAg
IGNsaWVudC0+dGhyZWFkX2lkLAotICAgICAgICAgICAgICAgICAgICAgIHB0aHJlYWRfc2VsZigp
KTsKKyAgICAgICAgICAgICAgICAgICAgICAodm9pZCopIGNsaWVudC0+dGhyZWFkX2lkLAorICAg
ICAgICAgICAgICAgICAgICAgICh2b2lkKikgcHRocmVhZF9zZWxmKCkpOwogICAgIH0KICAgICBy
ZWRfY2xpZW50X3NldF9kaXNjb25uZWN0aW5nKGNsaWVudCk7CiAgICAgRk9SRUFDSF9DSEFOTkVM
X0NMSUVOVChjbGllbnQsIHJjYykgewpkaWZmIC0tZ2l0IGEvc2VydmVyL3JlZC1yZXBsYXktcXhs
LmMgYi9zZXJ2ZXIvcmVkLXJlcGxheS1xeGwuYwppbmRleCA2ZDM0ODE4MDUuLmZhNDRmYTdjNCAx
MDA2NDQKLS0tIGEvc2VydmVyL3JlZC1yZXBsYXktcXhsLmMKKysrIGIvc2VydmVyL3JlZC1yZXBs
YXktcXhsLmMKQEAgLTI2NSw3ICsyNjUsNyBAQCBzdGF0aWMgcmVwbGF5X3QgcmVhZF9iaW5hcnko
U3BpY2VSZXBsYXkgKnJlcGxheSwgY29uc3QgY2hhciAqcHJlZml4LCBzaXplX3QgKnNpegogICAg
ICAgICB9CiAgICAgICAgIGlmICgocmV0ID0gaW5mbGF0ZSgmc3RybSwgWl9OT19GTFVTSCkpICE9
IFpfU1RSRUFNX0VORCkgewogICAgICAgICAgICAgc3BpY2VfZXJyb3IoImluZmxhdGUgZXJyb3Ig
JWQgKGRpc2M6ICUiIEdfR1NTSVpFX0ZPUk1BVCAiKSIsCi0gICAgICAgICAgICAgICAgICAgICAg
ICByZXQsICpzaXplIC0gc3RybS50b3RhbF9vdXQpOworICAgICAgICAgICAgICAgICAgICAgICAg
cmV0LCAoc2l6ZV90KSAoKnNpemUgLSBzdHJtLnRvdGFsX291dCkpOwogICAgICAgICAgICAgaWYg
KHJldCA9PSBaX0RBVEFfRVJST1IpIHsKICAgICAgICAgICAgICAgICAvKiBsYXN0IG9wZXJhdGlv
biBtYXkgYmUgd3JvbmcuIHNpbmNlIHdlIGRvIHRoZSByZWNvcmRpbmcKICAgICAgICAgICAgICAg
ICAgKiBpbiByZWRfd29ya2VyLCB3aGVuIHRoZXJlIGlzIGEgc2h1dGRvd24gZnJvbSB0aGUgdmNw
dS9pbyB0aHJlYWQKLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0ClNwaWNlLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL3NwaWNlLWRldmVs
