Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id B1F30DAE6F
	for <lists+spice-devel@lfdr.de>; Thu, 17 Oct 2019 15:31:04 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DDB386EA98;
	Thu, 17 Oct 2019 13:31:02 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from us-smtp-delivery-1.mimecast.com (us-smtp-1.mimecast.com
 [207.211.31.81])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 914756E48F
 for <spice-devel@lists.freedesktop.org>; Thu, 17 Oct 2019 13:31:01 +0000 (UTC)
Received: from mail-wm1-f70.google.com (mail-wm1-f70.google.com
 [209.85.128.70]) (Using TLS) by relay.mimecast.com with ESMTP id
 us-mta-191-HL1sviBWNnm_GaYT4u41QQ-1; Thu, 17 Oct 2019 09:30:57 -0400
Received: by mail-wm1-f70.google.com with SMTP id m16so1061178wmg.8
 for <spice-devel@lists.freedesktop.org>; Thu, 17 Oct 2019 06:30:56 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:subject:date:message-id:mime-version
 :content-transfer-encoding;
 bh=DA7z82NZLL5oUymuG0Csq9yzYHD9dloeG1MRnj/6348=;
 b=NpAjmAyMAlOorlhfo+xyV20seNmcMDL1aTIrn89kLA4iLjFmJqJCdCCFD4t9B940BW
 NWuQS0Qsf3u/exflBHhz+YiXb9zFWK1Xjlgjwvpox9xPQxYs9BhMeI9TdCCayCnXIFdD
 ry06wd9/jqmjeflRHXBRNgwcgvZc4lbutRpwrJ1YrFVGHmllQ9U+dZUWCHGqInTwFl6t
 n8Aa52hvA9db5aYCzt5q7AEDfoqgTnLQeZc5qz3QNfxiW6Y0dY8F1SGLMdjLYT2orCC3
 qbaIpQwUwsJXTE8OO0HGHiDEqwLVr1XhbC+OhbnFhg4X7C77ysK7Mj0fHXZ1ReHl2WCT
 sxSQ==
X-Gm-Message-State: APjAAAUaCPl60vXIPQN9VFgt5x9BjCm1TSUejgJweJ/yWbEeFfEjN+P4
 6rS8s/s2Npo2+16rlo+rpPgdlCxT7bf/rLut1+6+62ODFCJoads91Sf+47i2zK71BqLNYhovpU/
 omeICou8OCkTFIVR/JUioTOrFiAKAQnM=
X-Received: by 2002:a5d:670b:: with SMTP id o11mr3084923wru.31.1571319055430; 
 Thu, 17 Oct 2019 06:30:55 -0700 (PDT)
X-Google-Smtp-Source: APXvYqz4c+J4ynTaDUpqpSBAWcyQIXJQL+m6FFh0yrrIeUa6PNsH2phM3+nGDcVU0r9or3JoTcNWlQ==
X-Received: by 2002:a5d:670b:: with SMTP id o11mr3084864wru.31.1571319054425; 
 Thu, 17 Oct 2019 06:30:54 -0700 (PDT)
Received: from pinea.redhat.com ([2001:861:3440:6a0:2cf1:592d:314d:825])
 by smtp.gmail.com with ESMTPSA id y1sm2589055wrw.6.2019.10.17.06.30.52
 for <spice-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 17 Oct 2019 06:30:53 -0700 (PDT)
From: Kevin Pouget <kpouget@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Thu, 17 Oct 2019 15:30:45 +0200
Message-Id: <20191017133047.32259-1-kpouget@redhat.com>
X-Mailer: git-send-email 2.21.0
MIME-Version: 1.0
X-MC-Unique: HL1sviBWNnm_GaYT4u41QQ-1
X-Mimecast-Spam-Score: 0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=redhat.com; 
 s=mimecast20190719; t=1571319060;
 h=from:from:reply-to:subject:subject:date:date:message-id:message-id:
 to:to:cc:mime-version:mime-version:content-type:content-type:
 content-transfer-encoding:content-transfer-encoding;
 bh=MLGZ11pMqdWScyFw3eBaz5ivw8JtgHCcnj6nzrMmNds=;
 b=NB+NoB6Q8PyzSSrrW6UNgiMzceRqgDQf6MJmeLT4GKRnNZgyKE70dHseEHqPN9jNawjH/I
 edVbIEKfu/NyuF0bsF2vrh3pobZL6FOK+LTgvSskir7ZPT805j0DnioAjirhTpNeVu+utf
 7XyOiF4QKJRouXjWN5V9OeCvjxcT+9g=
Subject: [Spice-devel] [PATCH spice-common 1/3] agent-interface: introduce
 the core of the Agent Interface
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

V2hlbiBpbml0aWFsaXplZCAocmVjb3JkZXJfaW5pdGlhbGl6YXRpb24pLCB0aGUgQWdlbnQgSW50
ZXJmYWNlIGxhdW5jaAphIEdUaHJlYWQgKGhhbmRsZV9jb21tdW5pY2F0aW9ucykgdGhhdCBvcGVu
cyBhIFRDUCBzZXJ2ZXIgc29ja2V0IGFuZAp3YWl0cyBmb3IgU21hcnQgTG9jYWwgQWdlbnQgY29u
bmVjdGlvbnMuIFdoZW4gYSBMb2NhbCBBZ2VudCBjb25uZWN0cwp0byB0aGUgc29ja2V0cywgdGhl
IGNvbW11bmljYXRpb24gaXMgaW5pdGlhbGl6ZWQKKGFnZW50X2luaXRpYWxpemVfY29tbXVuaWNh
dGlvbiksIHRoZSBjb21tdW5pY2F0aW9uIHNvY2tldCBpcyBzdG9yZWQKYW5kIHRoZSBsaXN0IG9m
IFJlY29yZGVycyBpcyBzZW50LiBJbiByZXR1cm4sIHRoZSBsb2NhbCBhZ2VudAppbmRpY2F0ZXMg
d2hpY2ggcmVjb3JkZXJzIHRvIGVuYWJsZS4KCk9uIHRoZSBTUElDRSBzaWRlLCB0aGUgQWdlbnQg
SW50ZXJmYWNlIGhhbmRsZXMgdGhlIHJlY29yZCgpIGNhbGxzCihyZWNvcmRlcl9hcHBlbmQqKS4g
V2hlbiBhIHJlY29yZCBpcyByZWNlaXZlZCBmcm9tIFNQSUNFLCBhbmQgaWYgdGhlCnJlY29yZGVy
IGlzIGVuYWJsZWQsIHRoZSByZWNvcmQgZW50cnkgaXMgc2VudCB0aHJvdWdoIHRoZSBUQ1AKY29u
bmVjdGlvbi4gT3RoZXJ3aXNlLCB0aGUgcmVjb3JkIGlzIGRyb3BwZWQuCgpTaWduZWQtb2ZmLWJ5
OiBLZXZpbiBQb3VnZXQgPGtwb3VnZXRAcmVkaGF0LmNvbT4KLS0tCiBjb21tb24vYWdlbnRfaW50
ZXJmYWNlLmMgfCA0NjcgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrCiBjb21tb24v
YWdlbnRfaW50ZXJmYWNlLmggfCA1NDIgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrCiAyIGZpbGVzIGNoYW5nZWQsIDEwMDkgaW5zZXJ0aW9ucygrKQogY3JlYXRlIG1vZGUg
MTAwNjQ0IGNvbW1vbi9hZ2VudF9pbnRlcmZhY2UuYwogY3JlYXRlIG1vZGUgMTAwNjQ0IGNvbW1v
bi9hZ2VudF9pbnRlcmZhY2UuaAoKZGlmZiAtLWdpdCBhL2NvbW1vbi9hZ2VudF9pbnRlcmZhY2Uu
YyBiL2NvbW1vbi9hZ2VudF9pbnRlcmZhY2UuYwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAw
MDAwMDAwLi43NjhiNmE5Ci0tLSAvZGV2L251bGwKKysrIGIvY29tbW9uL2FnZW50X2ludGVyZmFj
ZS5jCkBAIC0wLDAgKzEsNDY3IEBACisvKiAtKi0gTW9kZTogQzsgYy1iYXNpYy1vZmZzZXQ6IDQ7
IGluZGVudC10YWJzLW1vZGU6IG5pbCAtKi0gKi8KKy8qCisgICBDb3B5cmlnaHQgKEMpIDIwMTkg
UmVkIEhhdCwgSW5jLgorCisgICBUaGlzIGxpYnJhcnkgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNh
biByZWRpc3RyaWJ1dGUgaXQgYW5kL29yCisgICBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9m
IHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCisgICBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBi
eSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRoZXIKKyAgIHZlcnNpb24gMi4xIG9m
IHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgorCisg
ICBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJl
IHVzZWZ1bCwKKyAgIGJ1dCBXSVRIT1VUIEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBp
bXBsaWVkIHdhcnJhbnR5IG9mCisgICBNRVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQ
QVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVQorICAgTGVzc2VyIEdlbmVyYWwgUHVibGlj
IExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KKworICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVk
IGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYworICAgTGljZW5zZSBhbG9u
ZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCBzZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNl
bnNlcy8+LgorKi8KKworI2luY2x1ZGUgPGNvbmZpZy5oPgorI2luY2x1ZGUgPHN0ZGxpYi5oPgor
I2luY2x1ZGUgPHN5cy90aW1lLmg+CisjaW5jbHVkZSA8c3RyaW5nLmg+CisjaW5jbHVkZSA8Z2xp
Yi5oPgorI2luY2x1ZGUgPHN0ZGlvLmg+CisjaW5jbHVkZSA8c3lzL3NvY2tldC5oPgorI2luY2x1
ZGUgPG5ldGluZXQvaW4uaD4KKyNpbmNsdWRlIDx1bmlzdGQuaD4KKyNpbmNsdWRlIDxhcnBhL2lu
ZXQuaD4KKyNpbmNsdWRlIDxzeXMvZXZlbnRmZC5oPgorI2luY2x1ZGUgPGVycm5vLmg+CisjaW5j
bHVkZSA8cG9sbC5oPgorCisjaW5jbHVkZSA8Y29tbW9uL2FnZW50X2ludGVyZmFjZS5oPgorCit0
eXBlZGVmIHN0cnVjdCBzb2NrYWRkciBTQTsKKworc3RhdGljIEdUaHJlYWQgKnJlY29yZGVyX2Nv
bW1fdGhyOworc3RhdGljIGJvb2wgYWdlbnRfdGVybWluYXRlZCA9IGZhbHNlOworc3RhdGljIGlu
dCB0ZXJtaW5hdGVfZWZkID0gLTE7CitzdGF0aWMgRklMRSAqY29tbXVuaWNhdGlvbl9mID0gTlVM
TDsKKworI2RlZmluZSBOQl9NQVhfUkVDT1JERVJTIDE2CitzdGF0aWMgcmVjb3JkZXJfaW5mbyAq
cmVjb3JkZXJzW05CX01BWF9SRUNPUkRFUlNdOworc3RhdGljIHVpbnQzMl90IG5iX3JlY29yZGVy
cyA9IDA7CisKK3N0YXRpYyB1aW50cHRyX3QgcmVjb3JkZXJfdGljayh2b2lkKTsKKworI2lmbmRl
ZiBSRUNPUkRFUl9IWgorI2RlZmluZSBSRUNPUkRFUl9IWiAgICAgMTAwMDAwMAorI2VuZGlmIC8v
IFJFQ09SREVSX0haCisKK3N0YXRpYyBHTXV0ZXggbXV0ZXhfc29ja2V0OworCitzdGF0aWMgaW50
IGFnZW50X2luaXRpYWxpemVfY29tbXVuaWNhdGlvbihpbnQgc29ja2V0KQoreworICAgIHVpbnQz
Ml90IGk7CisgICAgaW50IHJldCA9IC0xOworICAgIEZJTEUgKnNvY2tldF9mOworCisgICAgZ19t
dXRleF9sb2NrKCZtdXRleF9zb2NrZXQpOworCisgICAgaWYgKGNvbW11bmljYXRpb25fZiAhPSBO
VUxMKSB7CisgICAgICAgIGdfd2FybmluZygiQSBjbGllbnQgaXMgYWxyZWFkeSBjb25uZWN0ZWQs
IHJlamVjdGluZyB0aGUgY29ubmVjdGlvbi4iKTsKKworICAgICAgICBnb3RvIHVubG9jazsKKyAg
ICB9CisKKyAgICBzb2NrZXRfZiA9IGZkb3Blbihzb2NrZXQsICJ3K2IiKTsKKworICAgIGZwcmlu
dGYoc29ja2V0X2YsICJSZWNvcmRlcnM6ICIpOworICAgIGZvciAoaSA9IDA7IGkgPCBuYl9yZWNv
cmRlcnM7IGkrKykgeworICAgICAgICBnX2RlYnVnKCJTZW5kaW5nICVzIiwgcmVjb3JkZXJzW2ld
LT5uYW1lKTsKKyAgICAgICAgZnByaW50Zihzb2NrZXRfZiwgIiVzOyIsIHJlY29yZGVyc1tpXS0+
bmFtZSk7CisgICAgfQorICAgIGZwcmludGYoc29ja2V0X2YsICJcbiIpOworICAgIGZmbHVzaChz
b2NrZXRfZik7CisKKyAgICBmb3IgKGkgPSAwOyBpIDwgbmJfcmVjb3JkZXJzOyBpKyspIHsKKyAg
ICAgICAgY2hhciBlbmFibGU7CisKKyAgICAgICAgaWYgKHJlYWQoc29ja2V0LCAmZW5hYmxlLCBz
aXplb2YoZW5hYmxlKSkgIT0gc2l6ZW9mKGVuYWJsZSkpIHsKKyAgICAgICAgICAgIGdfd2Fybmlu
ZygiSW52YWxpZCByZWFkIG9uIHRoZSBjbGllbnQgc29ja2V0Iik7CisKKyAgICAgICAgICAgIGdv
dG8gdW5sb2NrOworICAgICAgICB9CisgICAgICAgIGlmIChlbmFibGUgIT0gJzAnICYmIGVuYWJs
ZSAhPSAnMScpIHsKKyAgICAgICAgICAgIGdfY3JpdGljYWwoIkludmFsaWQgZW5hYmxlLXZhbHVl
IHJlY2VpdmVkIGZvciByZWNvcmRlciAnJXMnOiAldSIsCisgICAgICAgICAgICAgICAgICAgICAg
IHJlY29yZGVyc1tpXS0+bmFtZSwgZW5hYmxlKTsKKworICAgICAgICAgICAgZ290byB1bmxvY2s7
CisgICAgICAgIH0KKworICAgICAgICBpZiAoZW5hYmxlID09ICcwJykgeworICAgICAgICAgICAg
Y29udGludWU7CisgICAgICAgIH0KKworICAgICAgICByZWNvcmRlcnNbaV0tPnRyYWNlID0gMTsK
KyAgICAgICAgZ19pbmZvKCJFbmFibGUgcmVjb3JkZXIgJyVzJyIsIHJlY29yZGVyc1tpXS0+bmFt
ZSk7CisgICAgfQorCisgICAgY29tbXVuaWNhdGlvbl9mID0gc29ja2V0X2Y7CisgICAgcmV0ID0g
MDsKKwordW5sb2NrOgorICAgIGdfbXV0ZXhfdW5sb2NrKCZtdXRleF9zb2NrZXQpOworCisgICAg
cmV0dXJuIHJldDsKK30KKworc3RhdGljIHZvaWQgYWdlbnRfZmluYWxpemVfY29tbXVuaWNhdGlv
bihpbnQgc29ja2V0KQoreworICAgIHVpbnQzMl90IGk7CisgICAgZ19pbmZvKCJDb21tdW5pY2F0
aW9uIHNvY2tldCBjbG9zZWQuIik7CisKKyAgICBnX211dGV4X2xvY2soJm11dGV4X3NvY2tldCk7
CisgICAgZ19hc3NlcnQoc29ja2V0ID09IGZpbGVubyhjb21tdW5pY2F0aW9uX2YpKTsKKworICAg
IGZjbG9zZShjb21tdW5pY2F0aW9uX2YpOworICAgIGNvbW11bmljYXRpb25fZiA9IE5VTEw7CisK
KyAgICBmb3IgKGkgPSAwOyBpIDwgbmJfcmVjb3JkZXJzOyBpKyspIHsKKyAgICAgICAgcmVjb3Jk
ZXJzW2ldLT50cmFjZSA9IDA7CisgICAgfQorICAgIGdfbXV0ZXhfdW5sb2NrKCZtdXRleF9zb2Nr
ZXQpOworfQorCitzdGF0aWMgaW50IGFnZW50X3Byb2Nlc3NfY29tbXVuaWNhdGlvbihpbnQgc29j
a2V0KQoreworICAgIHN0YXRpYyBjaGFyIG1zZ19pblsxMjhdOworCisgICAgc3RhdGljIGxvbmcg
dW5zaWduZWQgaW50IGxlbiA9IDA7CisKKyAgICBnX2Fzc2VydChzb2NrZXQgPT0gZmlsZW5vKGNv
bW11bmljYXRpb25fZikpOworCisgICAgaW50IG5ieXRlcyA9IHJlYWQoc29ja2V0LCBtc2dfaW4g
KyBsZW4sIDEpOworCisgICAgaWYgKG5ieXRlcyA8IDAgJiYgZXJybm8gPT0gRUlOVFIpIHsKKyAg
ICAgICByZXR1cm4gMDsKKyAgICB9CisKKyAgICBpZiAobmJ5dGVzIDw9IDApIHsKKyAgICAgICAg
YWdlbnRfZmluYWxpemVfY29tbXVuaWNhdGlvbihzb2NrZXQpOworICAgICAgICByZXR1cm4gLTE7
IC8vIHNvY2tldCBjbG9zZWQKKyAgICB9CisKKyAgICBpZiAobXNnX2luW2xlbl0gPT0gJ1wwJykg
eworICAgICAgICAvLyBUT0RPOiBwcm9jZXNzIHF1YWxpdHkgaW5kaWNhdG9yCisgICAgICAgIGxl
biA9IDA7CisgICAgICAgIHJldHVybiAwOworICAgIH0KKworICAgIGxlbiArPSBuYnl0ZXM7CisK
KyAgICBpZiAobGVuID49IHNpemVvZihtc2dfaW4pIC0gMSkgeworICAgICAgICBtc2dfaW5bc2l6
ZW9mKG1zZ19pbikgLSAxXSA9ICdcMCc7CisgICAgICAgIGdfd2FybmluZygiSW52YWxpZCBtZXNz
YWdlIHJlY2VpdmVkICh0b28gbG9uZz8pOiAlcyIsIG1zZ19pbik7CisgICAgICAgIGxlbiA9IDA7
CisgICAgfQorCisgICAgcmV0dXJuIDA7Cit9CisKK3N0YXRpYyBpbnQgbWFrZV9zb2NrZXQoZ3Vp
bnQgcG9ydCkKK3sKKyAgICBzdHJ1Y3Qgc29ja2FkZHJfaW4gc2VydmFkZHI7CisgICAgaW50IGxp
c3Rlbl9zb2NrZXQgPSBzb2NrZXQoQUZfSU5FVCwgU09DS19TVFJFQU0sIDApOworCisgICAgaWYg
KGxpc3Rlbl9zb2NrZXQgPT0gLTEpIHsKKyAgICAgICAgZ19jcml0aWNhbCgic29ja2V0IGNyZWF0
aW9uIGZhaWxlZCIpOworICAgICAgICByZXR1cm4gLTE7CisgICAgfQorCisgICAgaW50IGVuYWJs
ZSA9IDE7CisgICAgaWYgKHNldHNvY2tvcHQobGlzdGVuX3NvY2tldCwgU09MX1NPQ0tFVCwgU09f
UkVVU0VBRERSLCAmZW5hYmxlLCBzaXplb2YoaW50KSkgPCAwKSB7CisgICAgICAgIGdfY3JpdGlj
YWwoInNldHNvY2tvcHQoU09fUkVVU0VBRERSKSBmYWlsZWQiKTsKKyAgICAgICAgY2xvc2UobGlz
dGVuX3NvY2tldCk7CisgICAgICAgIHJldHVybiAtMTsKKyAgICB9CisKKyAgICBtZW1zZXQoJnNl
cnZhZGRyLCAwLCBzaXplb2Yoc2VydmFkZHIpKTsKKworICAgIHNlcnZhZGRyLnNpbl9mYW1pbHkg
PSBBRl9JTkVUOworICAgIHNlcnZhZGRyLnNpbl9hZGRyLnNfYWRkciA9IGh0b25sKElOQUREUl9B
TlkpOworICAgIHNlcnZhZGRyLnNpbl9wb3J0ID0gaHRvbnMocG9ydCk7CisKKyAgICBpZiAoYmlu
ZChsaXN0ZW5fc29ja2V0LCAoU0EgKikgJnNlcnZhZGRyLCBzaXplb2Yoc2VydmFkZHIpKSAhPSAw
KSB7CisgICAgICAgIGdfY3JpdGljYWwoInNvY2tldCBiaW5kIGZhaWxlZCIpOworICAgICAgICBj
bG9zZShsaXN0ZW5fc29ja2V0KTsKKyAgICAgICAgcmV0dXJuIC0xOworICAgIH0KKworICAgIHJl
dHVybiBsaXN0ZW5fc29ja2V0OworfQorCitzdGF0aWMgZ3BvaW50ZXIgaGFuZGxlX2NvbW11bmlj
YXRpb25zKGdwb2ludGVyIHVzZXJfZGF0YSkKK3sKKyAgICBzdHJ1Y3QgcG9sbGZkIGZkc1szXTsK
KyAgICBpbnQgbmJfZmQgPSAwOworICAgIGludCBsaXN0ZW5fc29ja2V0OworICAgIGludCBpOwor
ICAgIGd1aW50IHBvcnQgPSBHUE9JTlRFUl9UT19VSU5UKHVzZXJfZGF0YSk7CisKKyAgICBsaXN0
ZW5fc29ja2V0ID0gbWFrZV9zb2NrZXQocG9ydCk7CisgICAgaWYgKGxpc3Rlbl9zb2NrZXQgPCAw
KSB7CisgICAgICAgIHJldHVybiBOVUxMOworICAgIH0KKworICAgIGdfZGVidWcoIkxpc3Rlbmlu
ZyEiKTsKKworICAgIGlmICgobGlzdGVuKGxpc3Rlbl9zb2NrZXQsIDEpKSAhPSAwKSB7CisgICAg
ICAgIGdfY3JpdGljYWwoImxpc3RlbiBmYWlsZWQ6ICVtIik7CisgICAgICAgIHJldHVybiBOVUxM
OworICAgIH0KKworICAgIGZkc1swXS5mZCA9IHRlcm1pbmF0ZV9lZmQ7CisgICAgZmRzWzBdLmV2
ZW50cyA9IFBPTExJTjsKKyAgICBmZHNbMV0uZmQgPSBsaXN0ZW5fc29ja2V0OworICAgIGZkc1sx
XS5ldmVudHMgPSBQT0xMSU47CisgICAgbmJfZmQgPSAyOworCisgICAgd2hpbGUgKCFhZ2VudF90
ZXJtaW5hdGVkKSB7CisKKyAgICAgICAgLyogQmxvY2sgdW50aWwgaW5wdXQgYXJyaXZlcyBvbiBv
bmUgb3IgbW9yZSBhY3RpdmUgc29ja2V0cy4gKi8KKyAgICAgICAgaW50IHJldCA9IHBvbGwoZmRz
LCBuYl9mZCwgLTEpOworCisgICAgICAgIGlmIChyZXQgPCAwKSB7CisgICAgICAgICAgICBnX2Ny
aXRpY2FsKCJwb2xsIGZhaWxlZDogJW0iKTsKKyAgICAgICAgICAgIGJyZWFrOworICAgICAgICB9
CisKKyAgICAgICAgLyogU2VydmljZSBhbGwgdGhlIHNvY2tldHMgd2l0aCBpbnB1dCBwZW5kaW5n
LiAqLworICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmJfZmQ7IGkrKykgeworICAgICAgICAgICAg
aW50IGZkID0gZmRzW2ldLmZkOworICAgICAgICAgICAgaWYgKGZkID09IHRlcm1pbmF0ZV9lZmQp
IHsKKyAgICAgICAgICAgICAgICBpZiAoZmRzW2ldLnJldmVudHMgJiBQT0xMSU4pIHsKKyAgICAg
ICAgICAgICAgICAgICAgZ19hc3NlcnQoYWdlbnRfdGVybWluYXRlZCk7CisgICAgICAgICAgICAg
ICAgICAgIGJyZWFrOworICAgICAgICAgICAgICAgIH0KKyAgICAgICAgICAgIH0gZWxzZSBpZiAo
ZmQgPT0gbGlzdGVuX3NvY2tldCkgeworICAgICAgICAgICAgICAgIGlmIChmZHNbaV0ucmV2ZW50
cyAmIH5QT0xMSU4pIHsKKyAgICAgICAgICAgICAgICAgICAgZ19jcml0aWNhbCgic2VydmVyIHNv
Y2tldCBjbG9zZWQiKTsKKyAgICAgICAgICAgICAgICAgICAgYnJlYWs7CisgICAgICAgICAgICAg
ICAgfQorICAgICAgICAgICAgICAgIGlmICghKGZkc1tpXS5yZXZlbnRzICYgUE9MTElOKSkgewor
ICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsKKyAgICAgICAgICAgICAgICB9CisKKyAgICAg
ICAgICAgICAgICAvKiBDb25uZWN0aW9uIHJlcXVlc3Qgb24gb3JpZ2luYWwgc29ja2V0LiAqLwor
ICAgICAgICAgICAgICAgIGludCBuZXdfZmQgPSBhY2NlcHQobGlzdGVuX3NvY2tldCwgTlVMTCwg
TlVMTCk7CisKKyAgICAgICAgICAgICAgICBpZiAobmV3X2ZkIDwgMCkgeworICAgICAgICAgICAg
ICAgICAgICBnX2NyaXRpY2FsKCJhY2NlcHQgZmFpbGVkOiAlbSIpOworICAgICAgICAgICAgICAg
ICAgICBicmVhazsKKyAgICAgICAgICAgICAgICB9CisKKyAgICAgICAgICAgICAgICBpZiAobmJf
ZmQgPT0gMykgeworICAgICAgICAgICAgICAgICAgICBjbG9zZShuZXdfZmQpOworICAgICAgICAg
ICAgICAgICAgICBnX3dhcm5pbmcoIlRvbyBtYW55IGNsaWVudHMgYWNjZXB0ZWQgLi4uIik7Cisg
ICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOworICAgICAgICAgICAgICAgIH0KKworICAgICAg
ICAgICAgICAgIGdfZGVidWcoIkFnZW50IEludGVyZmFjZTogY2xpZW50IGNvbm5lY3RlZCEiKTsK
KworICAgICAgICAgICAgICAgIGlmIChhZ2VudF9pbml0aWFsaXplX2NvbW11bmljYXRpb24obmV3
X2ZkKSkgeworICAgICAgICAgICAgICAgICAgICBjbG9zZShuZXdfZmQpOworICAgICAgICAgICAg
ICAgICAgICBnX3dhcm5pbmcoIkluaXRpYWxpemF0aW9uIGZhaWxlZCAuLi4iKTsKKyAgICAgICAg
ICAgICAgICAgICAgY29udGludWU7CisgICAgICAgICAgICAgICAgfQorCisgICAgICAgICAgICAg
ICAgZmRzW25iX2ZkXS5mZCA9IG5ld19mZDsKKyAgICAgICAgICAgICAgICBmZHNbbmJfZmRdLmV2
ZW50cyA9IFBPTExJTjsKKyAgICAgICAgICAgICAgICBuYl9mZCsrOworCisgICAgICAgICAgICAg
ICAgLyogZmRzIGFycmF5IG1vZGlmaWVkLCByZXN0YXJ0IHRoZSBwb2xsLiAqLworICAgICAgICAg
ICAgICAgIGJyZWFrOworICAgICAgICAgICAgfSBlbHNlIHsKKyAgICAgICAgICAgICAgICBpZiAo
IShmZHNbaV0ucmV2ZW50cyAmIFBPTExJTikpIHsKKyAgICAgICAgICAgICAgICAgICAgY29udGlu
dWU7CisgICAgICAgICAgICAgICAgfQorCisgICAgICAgICAgICAgICAgLyogRGF0YSBhcnJpdmlu
ZyBvbiBhbiBhbHJlYWR5LWNvbm5lY3RlZCBzb2NrZXQuICovCisgICAgICAgICAgICAgICAgaWYg
KGFnZW50X3Byb2Nlc3NfY29tbXVuaWNhdGlvbihmZCkgPCAwKSB7CisgICAgICAgICAgICAgICAg
ICAgIG5iX2ZkLS07CisgICAgICAgICAgICAgICAgfQorICAgICAgICAgICAgfQorICAgICAgICB9
CisgICAgfQorCisgICAgY2xvc2UodGVybWluYXRlX2VmZCk7CisgICAgY2xvc2UobGlzdGVuX3Nv
Y2tldCk7CisKKyAgICBnX2luZm8oIkFnZW50IGludGVyZmFjZSB0aHJlYWQ6IGJ5ZSEiKTsKKyAg
ICByZXR1cm4gTlVMTDsKK30KKworc3RhdGljIHZvaWQgcmVjb3JkZXJfZGVyZWdpc3Rlcih2b2lk
KTsKKworc3RhdGljIHZvaWQgcmVjb3JkZXJfaW5pdGlhbGl6YXRpb24odW5zaWduZWQgaW50IHBv
cnQpCit7CisgICAgR0Vycm9yICplcnJvciA9IE5VTEw7CisKKyAgICB0ZXJtaW5hdGVfZWZkID0g
ZXZlbnRmZCgwLCAwKTsKKyAgICBpZiAodGVybWluYXRlX2VmZCA9PSAtMSkgeworICAgICAgICBn
X2NyaXRpY2FsKCJldmVudGZkIGZhaWxlZDogJW0iKTsKKyAgICAgICAgcmV0dXJuOworICAgIH0K
KworICAgIHJlY29yZGVyX2NvbW1fdGhyID0gZ190aHJlYWRfdHJ5X25ldygic21hcnRfYWdlbnRf
aW50ZXJmYWNlIiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFu
ZGxlX2NvbW11bmljYXRpb25zLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBHVUlOVF9UT19QT0lOVEVSKChndWludCkgcG9ydCksICZlcnJvcik7CisgICAgaWYgKGVy
cm9yKSB7CisgICAgICAgIGdfYXNzZXJ0KCFyZWNvcmRlcl9jb21tX3Rocik7CisgICAgICAgIGdf
Y3JpdGljYWwoIkVycm9yOiBDb3VsZCBub3Qgc3RhcnQgdGhlIGFnZW50IGludGVyZmFjZSB0aHJl
YWQ6ICVzIiwgZXJyb3ItPm1lc3NhZ2UpOworICAgICAgICBnX2Vycm9yX2ZyZWUoZXJyb3IpOwor
ICAgICAgICByZXR1cm47CisgICAgfQorCisgICAgYXRleGl0KHJlY29yZGVyX2RlcmVnaXN0ZXIp
OworfQorCitzdGF0aWMgdm9pZCByZWNvcmRlcl9pbnRlcnJ1cHRfY29tbXVuaWNhdGlvbnModm9p
ZCkKK3sKKyAgICBhZ2VudF90ZXJtaW5hdGVkID0gdHJ1ZTsKKworICAgIHVpbnQ2NF90IG1zZyA9
IDE7CisgICAgc3NpemVfdCBzID0gd3JpdGUodGVybWluYXRlX2VmZCwgJm1zZywgc2l6ZW9mKHVp
bnQ2NF90KSk7CisKKyAgICBpZiAocyAhPSBzaXplb2YodWludDY0X3QpKSB7CisgICAgICAgIGdf
d2FybmluZygiZmFpbGVkIHRvIHNlbmQgcmVjb3JkZXIgdGhyZWFkIHRlcm1pbmF0aW9uIGV2ZW50
OiAlbSIpOworICAgIH0KK30KKworCitzdGF0aWMgdm9pZCByZWNvcmRlcl9kZXJlZ2lzdGVyKHZv
aWQpCit7CisgICAgaWYgKHJlY29yZGVyX2NvbW1fdGhyKSB7CisgICAgICAgIHJlY29yZGVyX2lu
dGVycnVwdF9jb21tdW5pY2F0aW9ucygpOworICAgICAgICBnX3RocmVhZF9qb2luKHJlY29yZGVy
X2NvbW1fdGhyKTsKKyAgICAgICAgcmVjb3JkZXJfY29tbV90aHIgPSBOVUxMOworICAgIH0KK30K
Kwordm9pZCByZWNvcmRlcl9hY3RpdmF0ZShyZWNvcmRlcl9pbmZvICpyZWNvcmRlcikKK3sKKyAg
ICBpZiAobmJfcmVjb3JkZXJzID49IE5CX01BWF9SRUNPUkRFUlMpIHsKKyAgICAgICAgZ19jcml0
aWNhbCgiVG9vIG1hbnkgcmVjb3JkZXJzIGNvbmZpZ3VyZWQgKG5iIG1heDogJWQpIiwgTkJfTUFY
X1JFQ09SREVSUyk7CisgICAgICAgIHJldHVybjsKKyAgICB9CisKKyAgICByZWNvcmRlcnNbbmJf
cmVjb3JkZXJzXSA9IHJlY29yZGVyOworICAgIG5iX3JlY29yZGVycysrOworfQorCitzdGF0aWMg
dm9pZCBkb19zZW5kX2VudHJ5KEZJTEUgKmRlc3QsIHJlY29yZGVyX2luZm8gKmluZm8sIHJlY29y
ZGVyX2VudHJ5ICplbnRyeSwgdmFfbGlzdCBhcmdzKQoreworICAgIGZwcmludGYoZGVzdCwgIk5h
bWU6ICVzXG5GdW5jdGlvbjogJXNcblRpbWU6ICVsdVxuIiwKKyAgICAgICAgICAgIGluZm8tPm5h
bWUsIGVudHJ5LT53aGVyZSwgZW50cnktPnRpbWVzdGFtcCk7CisKKyAgICB2ZnByaW50ZihkZXN0
LCBlbnRyeS0+Zm9ybWF0LCBhcmdzKTsKKyAgICBmcHJpbnRmKGRlc3QsICJcblxuIik7CisKKyAg
ICBmZmx1c2goZGVzdCk7Cit9CisKKworc3RhdGljIHZvaWQgcmVjb3JkZXJfdHJhY2VfZW50cnko
cmVjb3JkZXJfaW5mbyAqaW5mbywgcmVjb3JkZXJfZW50cnkgKmVudHJ5LCAuLi4pCisvLyAtLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tCisvLyAgIFNob3cgYSByZWNvcmRlciBlbnRyeSB3aGVuIGEgdHJhY2Ug
aXMgZW5hYmxlZAorLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoreworICAgIHZhX2xpc3QgYXJnczsK
KworICAgIGlmIChzdHJjaHIoZW50cnktPmZvcm1hdCwgJ1xuJykgIT0gTlVMTCkgeworICAgICAg
ICBnX2NyaXRpY2FsKCJBZ2VudCByZWNvcmRzIGNhbm5vdCBjb250YWluICdcbicgY2hhciAuLi4g
KCVzKSIsIGVudHJ5LT53aGVyZSk7CisgICAgICAgIHJldHVybjsKKyAgICB9CisKKyAgICAvLyBz
ZW5kIGluZm8vZW50cnkgdG8gdGhlIHNvY2tldAorICAgIGdfbXV0ZXhfbG9jaygmbXV0ZXhfc29j
a2V0KTsKKworICAgIGlmIChjb21tdW5pY2F0aW9uX2YgPT0gTlVMTCkgeworICAgICAgICBnX211
dGV4X3VubG9jaygmbXV0ZXhfc29ja2V0KTsKKyAgICAgICAgcmV0dXJuOworICAgIH0KKworICAg
IHZhX3N0YXJ0KGFyZ3MsIGVudHJ5KTsKKyAgICBkb19zZW5kX2VudHJ5KGNvbW11bmljYXRpb25f
ZiwgaW5mbywgZW50cnksIGFyZ3MpOworICAgIHZhX2VuZChhcmdzKTsKKworICAgIGlmIChnX3N0
cmNtcDAoZ19nZXRlbnYoIlNQSUNFX0FHRU5UX0xPR19SRUNPUkRTIiksICIxIikgPT0gMCkgewor
ICAgICAgICB2YV9zdGFydChhcmdzLCBlbnRyeSk7CisgICAgICAgIGRvX3NlbmRfZW50cnkoc3Rk
ZXJyLCBpbmZvLCBlbnRyeSwgYXJncyk7CisgICAgICAgIHZhX2VuZChhcmdzKTsKKyAgICB9CisK
KyAgICBnX211dGV4X3VubG9jaygmbXV0ZXhfc29ja2V0KTsKK30KKwordm9pZCByZWNvcmRlcl9h
cHBlbmQocmVjb3JkZXJfaW5mbyAqcmVjLAorICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hh
ciAqd2hlcmUsCisgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICpmb3JtYXQsCisgICAg
ICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTAsCisgICAgICAgICAgICAgICAgICAgICB1aW50
cHRyX3QgYTEsCisgICAgICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTIsCisgICAgICAgICAg
ICAgICAgICAgICB1aW50cHRyX3QgYTMpCisvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCisvLyAgRW50
ZXIgYSByZWNvcmQgZW50cnkgaW4gcmluZyBidWZmZXIgd2l0aCBnaXZlbiBzZXQgb2YgYXJncwor
Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoreworICAgIHJlY29yZGVyX2VudHJ5IGVudHJ5OworCisg
ICAgaWYgKCFyZWMtPnRyYWNlKSB7CisgICAgICAgIHJldHVybjsKKyAgICB9CisKKyAgICBlbnRy
eS5mb3JtYXQgPSBmb3JtYXQ7CisgICAgZW50cnkudGltZXN0YW1wID0gcmVjb3JkZXJfdGljaygp
OworICAgIGVudHJ5LndoZXJlID0gd2hlcmU7CisKKyAgICByZWNvcmRlcl90cmFjZV9lbnRyeShy
ZWMsICZlbnRyeSwgYTAsIGExLCBhMiwgYTMpOworfQorCit2b2lkIHJlY29yZGVyX2FwcGVuZDIo
cmVjb3JkZXJfaW5mbyAqcmVjLAorICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKndo
ZXJlLAorICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmZvcm1hdCwKKyAgICAgICAg
ICAgICAgICAgICAgICB1aW50cHRyX3QgYTAsCisgICAgICAgICAgICAgICAgICAgICAgdWludHB0
cl90IGExLAorICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJfdCBhMiwKKyAgICAgICAgICAg
ICAgICAgICAgICB1aW50cHRyX3QgYTMsCisgICAgICAgICAgICAgICAgICAgICAgdWludHB0cl90
IGE0LAorICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJfdCBhNSwKKyAgICAgICAgICAgICAg
ICAgICAgICB1aW50cHRyX3QgYTYsCisgICAgICAgICAgICAgICAgICAgICAgdWludHB0cl90IGE3
KQorLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQorLy8gICBFbnRlciBhIGRvdWJsZSByZWNvcmQgKHVw
IHRvIDggYXJncykKKy8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KK3sKKyAgICByZWNvcmRlcl9lbnRy
eSBlbnRyeTsKKworICAgIGlmICghcmVjLT50cmFjZSkgeworICAgICAgICByZXR1cm47CisgICAg
fQorCisgICAgZW50cnkuZm9ybWF0ID0gZm9ybWF0OworICAgIGVudHJ5LnRpbWVzdGFtcCA9IHJl
Y29yZGVyX3RpY2soKTsKKyAgICBlbnRyeS53aGVyZSA9IHdoZXJlOworCisgICAgcmVjb3JkZXJf
dHJhY2VfZW50cnkocmVjLCAmZW50cnksIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNyk7
Cit9CisKKy8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKy8vCisvLyAgICBTdXBwb3J0IGZ1bmN0aW9u
cworLy8KKy8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKworc3RhdGljIHVpbnRwdHJfdCByZWNvcmRl
cl90aWNrKHZvaWQpCisvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCisvLyAgIFJldHVybiB0aGUgInRp
Y2tzIiBhcyBzdG9yZWQgaW4gdGhlIHJlY29yZGVyCisvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCit7
CisgICAgc3RydWN0IHRpbWV2YWwgdDsKKworICAgIGdldHRpbWVvZmRheSgmdCwgTlVMTCk7CisK
KyAgICByZXR1cm4gdC50dl9zZWMgKiBSRUNPUkRFUl9IWiArIHQudHZfdXNlYyAvICgxMDAwMDAw
IC8gUkVDT1JERVJfSFopOworfQpkaWZmIC0tZ2l0IGEvY29tbW9uL2FnZW50X2ludGVyZmFjZS5o
IGIvY29tbW9uL2FnZW50X2ludGVyZmFjZS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAw
MDAwMDAuLjA0MjEyMGUKLS0tIC9kZXYvbnVsbAorKysgYi9jb21tb24vYWdlbnRfaW50ZXJmYWNl
LmgKQEAgLTAsMCArMSw1NDIgQEAKKyNwcmFnbWEgb25jZQorCisvLyAqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKgorLy8gVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgR05VIExlc3NlciBH
ZW5lcmFsIFB1YmxpYyBMaWNlbnNlIHYyKworLy8gKEMpIDIwMTctMjAxOSwgQ2hyaXN0b3BoZSBk
ZSBEaW5lY2hpbiA8Y2hyaXN0b3BoZUBkaW5lY2hpbi5vcmc+CisvLyAqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKgorLy8gVGhpcyBmaWxlIHdhcyBwYXJ0IG9mIFJlY29yZGVyCisvLworLy8gUmVjb3JkZXIg
aXMgZnJlZSBzb2Z0d2FyZTogeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yIG1vZGlmeQor
Ly8gaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljIExp
Y2Vuc2UgYXMgcHVibGlzaGVkIGJ5CisvLyB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBl
aXRoZXIgdmVyc2lvbiAyIG9mIHRoZSBMaWNlbnNlLCBvcgorLy8gKGF0IHlvdXIgb3B0aW9uKSBh
bnkgbGF0ZXIgdmVyc2lvbi4KKy8vCisvLyBSZWNvcmRlciBpcyBkaXN0cmlidXRlZCBpbiB0aGUg
aG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorLy8gYnV0IFdJVEhPVVQgQU5ZIFdBUlJBTlRZ
OyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKy8vIE1FUkNIQU5UQUJJTElU
WSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUKKy8vIEdOVSBM
ZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgorLy8KKy8vIFlv
dSBzaG91bGQgaGF2ZSByZWNlaXZlZCBhIGNvcHkgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQ
dWJsaWMgTGljZW5zZQorLy8gYWxvbmcgd2l0aCBSZWNvcmRlciwgaW4gYSBmaWxlIG5hbWVkIENP
UFlJTkcuCisvLyBJZiBub3QsIHNlZSA8aHR0cHM6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+Lgor
Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioq
KioqKioqKioqKioqKioqKioqKioqKioKKy8qIFRoaXMgZmlsZSBpcyBiYXNlZCBvbiBSZWNvcmRl
cidzIHJlY29yZGVyLmggZmlsZSwgdGhhdCBkZXNjcmliZXMgYSBnZW5lcmFsLQorICogcHVycG9z
ZSBpbnN0cnVtZW50YXRpb24gaW50ZXJmYWNlLiBhZ2VudF9pbnRlcmZhY2UuaCBpcyBhIHRyaW1t
ZWQtZG93bgorICogdmVyc2lvbiBvZiBpdC4gKi8KKworI2luY2x1ZGUgPHN0ZGFyZy5oPgorI2lu
Y2x1ZGUgPHN0ZGludC5oPgorI2luY2x1ZGUgPHN0ZGJvb2wuaD4KKyNpbmNsdWRlIDxzdGRkZWYu
aD4KKworI2lmZGVmIF9fY3BsdXNwbHVzCitleHRlcm4gIkMiIHsKKyNlbmRpZiAvLyBfX2NwbHVz
cGx1cworCitzdGF0aWMgaW5saW5lIHZvaWQKK3JlY29yZGVyX2R1bXBfb25fY29tbW9uX3NpZ25h
bHModW5zaWduZWQgYWRkLCB1bnNpZ25lZCByZW1vdmUpCit7Cit9CisKKy8vID09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT0KKy8vCisvLyAgICBSZWNvcmRlciBkYXRhIHN0cnVjdHVyZXMKKy8vCisvLyA9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09CisKK3R5cGVkZWYgc3RydWN0IHJlY29yZGVyX2VudHJ5CisvLy8gLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tCisvLy8gICBFbnRyeSBpbiB0aGUgZmxpZ2h0IHJlY29yZGVyLgorLy8v
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQorLy8vICBOb3RpY2UgdGhhdCB0aGUgYXJndW1lbnRzIGFyZSBz
dG9yZWQgYXMgImludHB0cl90IiBiZWNhdXNlIHRoYXQgdHlwZQorLy8vICBpcyBndWFyYW50ZWVk
IHRvIGJlIHRoZSBzYW1lIHNpemUgYXMgYSBwb2ludGVyLiBUaGlzIGFsbG93cyB1cyB0bworLy8v
ICBwcm9wZXJseSBhbGlnbiByZWNvcmRlciBlbnRyaWVzIHRvIHBvd2VycyBvZiAyIGZvciBlZmZp
Y2llbmN5LgorLy8vICBBbHNvIHJlYWQgZXhwbGFuYXRpb25zIG9mIFxyZWYgX3JlY29yZGVyX2Rv
dWJsZSBhbmQgXHJlZiBfcmVjb3JkZXJfZmxvYXQKKy8vLyAgYmVsb3cgcmVnYXJkaW5nIGhvdyB0
byB1c2UgZmxvYXRpbmctcG9pbnQgd2l0aCB0aGUgcmVjb3JkZXIuCit7CisgICAgY29uc3QgY2hh
ciAqZm9ybWF0OyAgICAgICAgIC8vLzwgUHJpbnRmLXN0eWxlIGZvcm1hdCBmb3IgcmVjb3JkICsg
ZmlsZS9saW5lCisgICAgdWludHB0cl90ICAgdGltZXN0YW1wOyAgICAgIC8vLzwgVGltZSBhdCB3
aGljaCByZWNvcmQgdG9vayBwbGFjZQorICAgIGNvbnN0IGNoYXIgKndoZXJlOyAgICAgICAgICAv
Ly88IFNvdXJjZSBjb2RlIGZ1bmN0aW9uCisgICAgdWludHB0cl90ICAgYXJnc1s0XTsgICAgICAg
IC8vLzwgRm91ciBhcmd1bWVudHMsIGZvciBhIHRvdGFsIG9mIDggZmllbGRzCit9IHJlY29yZGVy
X2VudHJ5OworCisKKy8vLyBBIGdsb2JhbCBjb3VudGVyIGluZGljYXRpbmcgdGhlIG9yZGVyIG9m
IGVudHJpZXMgYWNyb3NzIHJlY29yZGVycy4KKy8vLyB0aGlzIGlzIGluY3JlbWVudGVkIGF0b21p
Y2FsbHkgZm9yIGVhY2ggcmVjb3JkKCkgY2FsbC4KKy8vLyBJdCBtdXN0IGJlIGV4cG9zZWQgYmVj
YXVzZSBhbGwgWFlaX3JlY29yZCgpIGltcGxlbWVudGF0aW9ucyBuZWVkIHRvCisvLy8gdG91Y2gg
dGhlIHNhbWUgc2hhcmVkIHZhcmlhYmxlIGluIG9yZGVyIHRvIHByb3ZpZGUgYSBnbG9iYWwgb3Jk
ZXIuCitleHRlcm4gdWludHB0cl90IHJlY29yZGVyX29yZGVyOworCit0eXBlZGVmIHN0cnVjdCBy
ZWNvcmRlcl9pbmZvCisvLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCisvLy8gICBBIGxpbmtlZCBsaXN0
IG9mIHRoZSBhY3RpdmF0ZWQgcmVjb3JkZXJzCisvLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCit7Cisg
ICAgaW50cHRyX3QgICAgICAgICAgICAgICAgdHJhY2U7ICAgICAgLy8vPCBUcmFjZSB0aGlzIHJl
Y29yZGVyCisgICAgY29uc3QgY2hhciAqICAgICAgICAgICAgbmFtZTsgICAgICAgLy8vPCBOYW1l
IG9mIHRoaXMgcGFyYW1ldGVyIC8gcmVjb3JkZXIKKyAgICBjb25zdCBjaGFyICogICAgICAgICAg
ICBkZXNjcmlwdGlvbjsvLy88IERlc2NyaXB0aW9uIG9mIHdoYXQgaXMgcmVjb3JkZWQKKyAgICBy
ZWNvcmRlcl9lbnRyeSAgICAgICAgICBkYXRhWzBdOyAgICAvLy88IERhdGEgZm9yIHRoaXMgcmVj
b3JkZXIKK30gcmVjb3JkZXJfaW5mbzsKKworLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQorLy8KKy8v
ICAgQWRkaW5nIGRhdGEgdG8gYSByZWNvcmRlcgorLy8KKy8vID09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0K
KworZXh0ZXJuIHZvaWQgcmVjb3JkZXJfYXBwZW5kKHJlY29yZGVyX2luZm8gKnJlYywKKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyICp3aGVyZSwKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBjb25zdCBjaGFyICpmb3JtYXQsCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdWludHB0cl90IGEwLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJf
dCBhMSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTIsCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgdWludHB0cl90IGEzKTsKK2V4dGVybiB2b2lkIHJlY29yZGVy
X2FwcGVuZDIocmVjb3JkZXJfaW5mbyAqcmVjLAorICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBjb25zdCBjaGFyICp3aGVyZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qg
Y2hhciAqZm9ybWF0LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTAs
CisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJfdCBhMSwKKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdWludHB0cl90IGEyLAorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50cHRyX3QgYTMsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJf
dCBhNCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludHB0cl90IGE1LAorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTYsCisgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVpbnRwdHJfdCBhNyk7CitleHRlcm4gdm9pZCByZWNvcmRlcl9hcHBlbmQzKHJl
Y29yZGVyX2luZm8gKnJlYywKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hh
ciAqd2hlcmUsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgKmZvcm1h
dCwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludHB0cl90IGEwLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTEsCisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHVpbnRwdHJfdCBhMiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludHB0
cl90IGEzLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTQsCisgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJfdCBhNSwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgdWludHB0cl90IGE2LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1
aW50cHRyX3QgYTcsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnRwdHJfdCBhOCwK
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludHB0cl90IGE5LAorICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1aW50cHRyX3QgYTEwLAorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICB1aW50cHRyX3QgYTExKTsKKworLy8vIEFjdGl2YXRlIGEgcmVjb3JkZXIgKGR1cmluZyBj
b25zdHJ1Y3Rpb24gdGltZSkKK2V4dGVybiB2b2lkIHJlY29yZGVyX2FjdGl2YXRlKHJlY29yZGVy
X2luZm8gKnJlY29yZGVyKTsKKworLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQorLy8KKy8vICAgIERl
Y2xhcmF0aW9uIG9mIHJlY29yZGVycyBhbmQgdHdlYWtzCisvLworLy8gPT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PQorCisjZGVmaW5lIFJFQ09SREVSX0RFQ0xBUkUoTmFtZSkgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBcCisvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8gICBcCisvKiAgRGVjbGFyZSBh
IHJlY29yZGVyIHdpdGggdGhlIGdpdmVuIG5hbWUgKGZvciB1c2UgaW4gaGVhZGVycykgICAgKi8g
ICBcCisvKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tKi8gICBcCisgICAgZXh0ZXJuIHJlY29yZGVyX2luZm8gKiBjb25zdCBy
ZWNvcmRlcl9pbmZvX3B0cl9mb3JfIyNOYW1lOyAgICAgICAgICBcCisgICAgZXh0ZXJuIHN0cnVj
dCByZWNvcmRlcl9pbmZvX2Zvcl8jI05hbWUgcmVjb3JkZXJfaW5mb19mb3JfIyNOYW1lCisKKwor
Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PQorLy8KKy8vICAgIERlZmluaXRpb24gb2YgcmVjb3JkZXJz
IGFuZCB0d2Vha3MKKy8vCisvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CisKKyNkZWZpbmUgUkVDT1JE
RVIoTmFtZSwgU2l6ZSwgSW5mbykgICAgICBSRUNPUkRFUl9ERUZJTkUoTmFtZSxTaXplLEluZm8p
CisKKyNkZWZpbmUgUkVDT1JERVJfREVGSU5FKE5hbWUsIFNpemUsIEluZm8pICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFwKKy8qIS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyAgIFwKKy8qISBEZWZpbmUgYSByZWNv
cmRlciB0eXBlIHdpdGggU2l6ZSBlbGVtZW50cyAgICAgICAgICAgICAgICAgICAgICAqLyAgIFwK
Ky8qIS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0qLyAgIFwKKy8qISBccGFyYW0gTmFtZSBpcyB0aGUgQyBuYW1lIGZvIHRoZSBy
ZWNvcmRlci4gICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAqISBccGFyYW0gU2l6ZSBpcyB0
aGUgbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhlIGNpcmN1bGFyIGJ1ZmZlci4gICAgICAgIFwKKyAq
ISBccGFyYW0gSW5mbyBpcyBhIGRlc2NyaXB0aW9uIG9mIHRoZSByZWNvcmRlciBmb3IgaGVscC4g
Ki8gICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKy8qIFRoZSBlbnRyeSBpbiBsaW5rZWQg
bGlzdCBmb3IgdGhpcyB0eXBlICovICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKK3N0cnVj
dCByZWNvcmRlcl9pbmZvX2Zvcl8jI05hbWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFwKK3sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICByZWNvcmRlcl9pbmZvICAgICAgIGlu
Zm87ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICByZWNv
cmRlcl9lbnRyeSAgICAgIGRhdGFbU2l6ZV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFwKK30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIFwKK3JlY29yZGVyX2luZm9fZm9yXyMjTmFtZSA9ICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKK3sgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFwKKyAgICB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgMCwgI05hbWUsIEluZm8sIHt9ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICB9LCAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IFwKKyAgICB7fSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFwKK307ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKK3JlY29yZGVyX2luZm8gKiBj
b25zdCByZWNvcmRlcl9pbmZvX3B0cl9mb3JfIyNOYW1lID0gICAgICAgICAgICAgICAgICAgIFwK
KyAgICAmcmVjb3JkZXJfaW5mb19mb3JfIyNOYW1lLmluZm87ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKK1JFQ09SREVSX0NPTlNUUlVDVE9S
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKK3N0
YXRpYyB2b2lkIHJlY29yZGVyX2FjdGl2YXRlXyMjTmFtZSh2b2lkKSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIFwKKy8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyAgIFwKKy8qICBBY3RpdmF0ZSByZWNvcmRlciBi
ZWZvcmUgZW50ZXJpbmcgbWFpbigpICAgICAgICAgICAgICAgICAgICAgICAqLyAgIFwKKy8qIC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0qLyAgIFwKK3sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICByZWNvcmRlcl9hY3RpdmF0ZShSRUNP
UkRFUl9JTkZPKE5hbWUpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKK30gICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIFwKKy8qIFB1cnBvc2VmdWxseSBnZW5lcmF0ZSBjb21w
aWxlIGVycm9yIGlmIG1hY3JvIG5vdCBmb2xsb3dlZCBieSA7ICovICAgIFwKK2V4dGVybiB2b2lk
IHJlY29yZGVyX2FjdGl2YXRlKHJlY29yZGVyX2luZm8gKnJlY29yZGVyKQorCit0eXBlZGVmIHN0
cnVjdCBTcGljZUR1bW15VHdlYWsgeworICAgIGludHB0cl90IHR3ZWFrX3ZhbHVlOworfSBTcGlj
ZUR1bW15VHdlYWs7CisKK3R5cGVkZWYgc3RydWN0IFNwaWNlRW1wdHlTdHJ1Y3QgeworICAgIGNo
YXIgZHVtbXlbMF07Cit9IFNwaWNlRW1wdHlTdHJ1Y3Q7CisKKyNkZWZpbmUgUkVDT1JERVJfVFdF
QUtfREVDTEFSRShyZWMpIFwKKyAgICBleHRlcm4gY29uc3QgU3BpY2VEdW1teVR3ZWFrIHNwaWNl
X3JlY29yZGVyX3R3ZWFrXyAjIyByZWMKKworI2RlZmluZSBSRUNPUkRFUl9UV0VBS19ERUZJTkUo
cmVjLCB2YWx1ZSwgY29tbWVudCkgXAorICAgIGNvbnN0IFNwaWNlRHVtbXlUd2VhayBzcGljZV9y
ZWNvcmRlcl90d2Vha18gIyMgcmVjID0geyAodmFsdWUpIH0KKworI2RlZmluZSBSRUNPUkRFUl9U
V0VBSyhyZWMpIFwKKyAgICAoKHNwaWNlX3JlY29yZGVyX3R3ZWFrXyAjIyByZWMpLnR3ZWFrX3Zh
bHVlKQorCisjZGVmaW5lIFJFQ09SREVSX1RSQUNFKHJlYykgXAorICAgIChzaXplb2Yoc3RydWN0
IHJlY29yZGVyX2luZm9fZm9yXyAjIyByZWMpICE9IHNpemVvZihTcGljZUVtcHR5U3RydWN0KSkK
KworCisvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09CisvLworLy8gICAgQWNjZXNzIHRvIHJlY29yZGVy
IGFuZCB0d2VhayBpbmZvCisvLworLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQorCisjZGVmaW5lIFJF
Q09SREVSX0lORk8oTmFtZSkgICAgIChyZWNvcmRlcl9pbmZvX3B0cl9mb3JfIyNOYW1lKQorCisv
LyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09CisvLworLy8gICAgUmVjb3JkaW5nIHN0dWZmCisvLworLy8g
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQorCisjZGVmaW5lIHJlY29yZChOYW1lLCAuLi4pICAgICAgICAg
ICAgICAgUkVDT1JEX01BQ1JPKE5hbWUsIF9fVkFfQVJHU19fKQorI2RlZmluZSBSRUNPUkQoTmFt
ZSwuLi4pICAgICAgICAgICAgICAgIFJFQ09SRF9NQUNSTyhOYW1lLCBfX1ZBX0FSR1NfXykKKyNk
ZWZpbmUgUkVDT1JEX01BQ1JPKE5hbWUsIEZvcm1hdCwuLi4pICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIFwKKyAgICBSRUNPUkRfKFJFQ09SRCxSRUNPUkRfQ09VTlRfKF9fVkFfQVJH
U19fKSxOYW1lLEZvcm1hdCwjI19fVkFfQVJHU19fKQorI2RlZmluZSBSRUNPUkRfKFJFQ09SRCxS
Q09VTlQsTmFtZSxGb3JtYXQsLi4uKSAgICAgICAgICAgICAgICAgICAgICAgICAgXAorICAgIFJF
Q09SRF9fKFJFQ09SRCxSQ09VTlQsTmFtZSxGb3JtYXQsIyMgX19WQV9BUkdTX18pCisjZGVmaW5l
IFJFQ09SRF9fKFJFQ09SRCxSQ09VTlQsTmFtZSxGb3JtYXQsLi4uKSAgICAgICAgICAgICAgICAg
ICAgICAgICBcCisgICAgUkVDT1JEIyNSQ09VTlQoTmFtZSxGb3JtYXQsIyNfX1ZBX0FSR1NfXykK
KyNkZWZpbmUgUkVDT1JEX0NPVU5UXyguLi4pICAgICAgUkVDT1JEX0NPVU5UX18oRHVtbXksIyNf
X1ZBX0FSR1NfXyxfWCxfWCxfMTIsXzExLF8xMCxfOSxfOCxfNyxfNixfNSxfNCxfMyxfMixfMSxf
MCkKKyNkZWZpbmUgUkVDT1JEX0NPVU5UX18oRHVtbXksXzAsXzEsXzIsXzMsXzQsXzUsXzYsXzcs
XzgsXzksXzEwLF8xMSxfMTIsXzEzLF9OLC4uLikgICAgICBfTgorCisjZGVmaW5lIFJFQ09SRF8w
KE5hbWUsIEZvcm1hdCkgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICByZWNvcmRlcl9h
cHBlbmQoUkVDT1JERVJfSU5GTyhOYW1lKSwgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAg
ICAgICAgICBSRUNPUkRFUl9TT1VSQ0VfRlVOQ1RJT04sICAgICAgICAgICBcCisgICAgICAgICAg
ICAgICAgICAgIFJFQ09SREVSX1NPVVJDRV9MT0NBVElPTiAgICAgICAgICAgIFwKKyAgICAgICAg
ICAgICAgICAgICAgRm9ybWF0LCAwLCAwLCAwLCAwKQorI2RlZmluZSBSRUNPUkRfMShOYW1lLCBG
b3JtYXQsIGEpICAgICAgICAgICAgICAgICAgICAgICBcCisgICAgcmVjb3JkZXJfYXBwZW5kKFJF
Q09SREVSX0lORk8oTmFtZSksICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAg
UkVDT1JERVJfU09VUkNFX0ZVTkNUSU9OLCAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAg
ICBSRUNPUkRFUl9TT1VSQ0VfTE9DQVRJT04gICAgICAgICAgICBcCisgICAgICAgICAgICAgICAg
ICAgIEZvcm1hdCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAg
ICAgICAgUkVDT1JERVJfQVJHKGEpLCAwLCAwLCAwKQorI2RlZmluZSBSRUNPUkRfMihOYW1lLCBG
b3JtYXQsIGEsYikgICAgICAgICAgICAgICAgICAgICBcCisgICAgcmVjb3JkZXJfYXBwZW5kKFJF
Q09SREVSX0lORk8oTmFtZSksICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAg
UkVDT1JERVJfU09VUkNFX0ZVTkNUSU9OLCAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAg
ICBSRUNPUkRFUl9TT1VSQ0VfTE9DQVRJT04gICAgICAgICAgICBcCisgICAgICAgICAgICAgICAg
ICAgIEZvcm1hdCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAg
ICAgICAgUkVDT1JERVJfQVJHKGEpLCAgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAg
ICAgICAgICBSRUNPUkRFUl9BUkcoYiksIDAsIDApCisjZGVmaW5lIFJFQ09SRF8zKE5hbWUsIEZv
cm1hdCwgYSxiLGMpICAgICAgICAgICAgICAgICAgIFwKKyAgICByZWNvcmRlcl9hcHBlbmQoUkVD
T1JERVJfSU5GTyhOYW1lKSwgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICBS
RUNPUkRFUl9TT1VSQ0VfRlVOQ1RJT04sICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAg
IFJFQ09SREVSX1NPVVJDRV9MT0NBVElPTiAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAg
ICAgRm9ybWF0LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAg
ICAgICBSRUNPUkRFUl9BUkcoYSksICAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAg
ICAgICAgIFJFQ09SREVSX0FSRyhiKSwgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAg
ICAgICAgICAgUkVDT1JERVJfQVJHKGMpLCAwKQorI2RlZmluZSBSRUNPUkRfNChOYW1lLCBGb3Jt
YXQsIGEsYixjLGQpICAgICAgICAgICAgICAgICBcCisgICAgcmVjb3JkZXJfYXBwZW5kKFJFQ09S
REVSX0lORk8oTmFtZSksICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgUkVD
T1JERVJfU09VUkNFX0ZVTkNUSU9OLCAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICBS
RUNPUkRFUl9TT1VSQ0VfTE9DQVRJT04gICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAg
IEZvcm1hdCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAg
ICAgUkVDT1JERVJfQVJHKGEpLCAgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAg
ICAgICBSRUNPUkRFUl9BUkcoYiksICAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAg
ICAgICAgIFJFQ09SREVSX0FSRyhjKSwgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAg
ICAgICAgICAgUkVDT1JERVJfQVJHKGQpKQorI2RlZmluZSBSRUNPUkRfNShOYW1lLCBGb3JtYXQs
IGEsYixjLGQsZSkgICAgICAgICAgICAgICBcCisgICAgcmVjb3JkZXJfYXBwZW5kMihSRUNPUkRF
Ul9JTkZPKE5hbWUpLCAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09S
REVSX1NPVVJDRV9GVU5DVElPTiwgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVD
T1JERVJfU09VUkNFX0xPQ0FUSU9OICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBG
b3JtYXQsICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAg
IFJFQ09SREVSX0FSRyhhKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAg
ICAgUkVDT1JERVJfQVJHKGIpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAgICAg
ICAgICBSRUNPUkRFUl9BUkcoYyksICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAg
ICAgICAgIFJFQ09SREVSX0FSRyhkKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAg
ICAgICAgICAgUkVDT1JERVJfQVJHKGUpLCAwLCAwLCAwKQorI2RlZmluZSBSRUNPUkRfNihOYW1l
LCBGb3JtYXQsIGEsYixjLGQsZSxmKSAgICAgICAgICAgICBcCisgICAgcmVjb3JkZXJfYXBwZW5k
MihSRUNPUkRFUl9JTkZPKE5hbWUpLCAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAg
ICAgIFJFQ09SREVSX1NPVVJDRV9GVU5DVElPTiwgICAgICAgICAgXAorICAgICAgICAgICAgICAg
ICAgICAgUkVDT1JERVJfU09VUkNFX0xPQ0FUSU9OICAgICAgICAgICBcCisgICAgICAgICAgICAg
ICAgICAgICBGb3JtYXQsICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAg
ICAgICAgICAgIFJFQ09SREVSX0FSRyhhKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAg
ICAgICAgICAgICAgUkVDT1JERVJfQVJHKGIpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAg
ICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoYyksICAgICAgICAgICAgICAgICAgIFwKKyAgICAg
ICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhkKSwgICAgICAgICAgICAgICAgICAgXAorICAg
ICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGUpLCAgICAgICAgICAgICAgICAgICBcCisg
ICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoZiksIDAsIDApCisjZGVmaW5lIFJFQ09S
RF83KE5hbWUsIEZvcm1hdCwgYSxiLGMsZCxlLGYsZykgICAgICAgICAgIFwKKyAgICByZWNvcmRl
cl9hcHBlbmQyKFJFQ09SREVSX0lORk8oTmFtZSksICAgICAgICAgICAgICAgXAorICAgICAgICAg
ICAgICAgICAgICAgUkVDT1JERVJfU09VUkNFX0ZVTkNUSU9OLCAgICAgICAgICBcCisgICAgICAg
ICAgICAgICAgICAgICBSRUNPUkRFUl9TT1VSQ0VfTE9DQVRJT04gICAgICAgICAgIFwKKyAgICAg
ICAgICAgICAgICAgICAgIEZvcm1hdCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAorICAg
ICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGEpLCAgICAgICAgICAgICAgICAgICBcCisg
ICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoYiksICAgICAgICAgICAgICAgICAgIFwK
KyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhjKSwgICAgICAgICAgICAgICAgICAg
XAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGQpLCAgICAgICAgICAgICAgICAg
ICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoZSksICAgICAgICAgICAgICAg
ICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhmKSwgICAgICAgICAgICAg
ICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGcpLCAwKQorI2RlZmlu
ZSBSRUNPUkRfOChOYW1lLCBGb3JtYXQsIGEsYixjLGQsZSxmLGcsaCkgICAgICAgICBcCisgICAg
cmVjb3JkZXJfYXBwZW5kMihSRUNPUkRFUl9JTkZPKE5hbWUpLCAgICAgICAgICAgICAgIFwKKyAg
ICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX1NPVVJDRV9GVU5DVElPTiwgICAgICAgICAgXAor
ICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfU09VUkNFX0xPQ0FUSU9OICAgICAgICAgICBc
CisgICAgICAgICAgICAgICAgICAgICBGb3JtYXQsICAgICAgICAgICAgICAgICAgICAgICAgICAg
IFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhhKSwgICAgICAgICAgICAgICAg
ICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGIpLCAgICAgICAgICAgICAg
ICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoYyksICAgICAgICAgICAg
ICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhkKSwgICAgICAgICAg
ICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGUpLCAgICAgICAg
ICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoZiksICAgICAg
ICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhnKSwgICAg
ICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGgpKQor
I2RlZmluZSBSRUNPUkRfOShOYW1lLCBGb3JtYXQsIGEsYixjLGQsZSxmLGcsaCxpKSAgICAgICBc
CisgICAgcmVjb3JkZXJfYXBwZW5kMyhSRUNPUkRFUl9JTkZPKE5hbWUpLCAgICAgICAgICAgICAg
IFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX1NPVVJDRV9GVU5DVElPTiwgICAgICAg
ICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfU09VUkNFX0xPQ0FUSU9OICAgICAg
ICAgICBcCisgICAgICAgICAgICAgICAgICAgICBGb3JtYXQsICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhhKSwgICAgICAgICAg
ICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGIpLCAgICAgICAg
ICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoYyksICAgICAg
ICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhkKSwgICAg
ICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGUpLCAg
ICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoZiks
ICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhn
KSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJH
KGgpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9B
UkcoaSksIDAsMCwwKQorI2RlZmluZSBSRUNPUkRfMTAoTmFtZSwgRm9ybWF0LCBhLGIsYyxkLGUs
ZixnLGgsaSxqKSAgICBcCisgICAgcmVjb3JkZXJfYXBwZW5kMyhSRUNPUkRFUl9JTkZPKE5hbWUp
LCAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX1NPVVJDRV9G
VU5DVElPTiwgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfU09VUkNF
X0xPQ0FUSU9OICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBGb3JtYXQsICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FS
RyhhKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJf
QVJHKGIpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRF
Ul9BUkcoYyksICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09S
REVSX0FSRyhkKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVD
T1JERVJfQVJHKGUpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBS
RUNPUkRFUl9BUkcoZiksICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAg
IFJFQ09SREVSX0FSRyhnKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAg
ICAgUkVDT1JERVJfQVJHKGgpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAgICAg
ICAgICBSRUNPUkRFUl9BUkcoaSksICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAg
ICAgICAgIFJFQ09SREVSX0FSRyhqKSwgMCwwKQorI2RlZmluZSBSRUNPUkRfMTEoTmFtZSwgRm9y
bWF0LCBhLGIsYyxkLGUsZixnLGgsaSxqLGspICBcCisgICAgcmVjb3JkZXJfYXBwZW5kMyhSRUNP
UkRFUl9JTkZPKE5hbWUpLCAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJF
Q09SREVSX1NPVVJDRV9GVU5DVElPTiwgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAg
UkVDT1JERVJfU09VUkNFX0xPQ0FUSU9OICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAg
ICBGb3JtYXQsICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAg
ICAgIFJFQ09SREVSX0FSRyhhKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAgICAgICAg
ICAgICAgUkVDT1JERVJfQVJHKGIpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAgICAgICAg
ICAgICAgICBSRUNPUkRFUl9BUkcoYyksICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAg
ICAgICAgICAgIFJFQ09SREVSX0FSRyhkKSwgICAgICAgICAgICAgICAgICAgXAorICAgICAgICAg
ICAgICAgICAgICAgUkVDT1JERVJfQVJHKGUpLCAgICAgICAgICAgICAgICAgICBcCisgICAgICAg
ICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoZiksICAgICAgICAgICAgICAgICAgIFwKKyAgICAg
ICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhnKSwgICAgICAgICAgICAgICAgICAgXAorICAg
ICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGgpLCAgICAgICAgICAgICAgICAgICBcCisg
ICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoaSksICAgICAgICAgICAgICAgICAgIFwK
KyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhqKSwgICAgICAgICAgICAgICAgICAg
XAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGspLDApCisjZGVmaW5lIFJFQ09S
RF8xMihOYW1lLEZvcm1hdCxhLGIsYyxkLGUsZixnLGgsaSxqLGssbCkgIFwKKyAgICByZWNvcmRl
cl9hcHBlbmQzKFJFQ09SREVSX0lORk8oTmFtZSksICAgICAgICAgICAgICAgXAorICAgICAgICAg
ICAgICAgICAgICAgUkVDT1JERVJfU09VUkNFX0ZVTkNUSU9OLCAgICAgICAgICBcCisgICAgICAg
ICAgICAgICAgICAgICBSRUNPUkRFUl9TT1VSQ0VfTE9DQVRJT04gICAgICAgICAgIFwKKyAgICAg
ICAgICAgICAgICAgICAgIEZvcm1hdCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAorICAg
ICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGEpLCAgICAgICAgICAgICAgICAgICBcCisg
ICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoYiksICAgICAgICAgICAgICAgICAgIFwK
KyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhjKSwgICAgICAgICAgICAgICAgICAg
XAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGQpLCAgICAgICAgICAgICAgICAg
ICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoZSksICAgICAgICAgICAgICAg
ICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhmKSwgICAgICAgICAgICAg
ICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGcpLCAgICAgICAgICAg
ICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoaCksICAgICAgICAg
ICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhpKSwgICAgICAg
ICAgICAgICAgICAgXAorICAgICAgICAgICAgICAgICAgICAgUkVDT1JERVJfQVJHKGopLCAgICAg
ICAgICAgICAgICAgICBcCisgICAgICAgICAgICAgICAgICAgICBSRUNPUkRFUl9BUkcoayksICAg
ICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAgICAgICAgICAgIFJFQ09SREVSX0FSRyhsKSkK
KyNkZWZpbmUgUkVDT1JEX1goTmFtZSwgRm9ybWF0LCAuLi4pICAgUkVDT1JEX1RPT19NQU5ZX0FS
R1MocHJpbnRmKEZvcm1hdCwgX19WQV9BUkdTX18pKQorCisKKy8vIFNvbWUgdWdseSBtYWNybyBk
cnVkZ2VyeSB0byBtYWtlIHRoaW5ncyBlYXN5IHRvIHVzZS4gQWRqdXN0IHR5cGUuCisjaWZkZWYg
X19jcGx1c3BsdXMKKyNkZWZpbmUgUkVDT1JERVJfQVJHKGFyZykgICAgICAgX3JlY29yZGVyX2Fy
ZyhhcmcpCisjZWxzZSAvLyAhX19jcGx1c3BsdXMKKworI2lmIGRlZmluZWQoX19HTlVDX18pICYm
ICFkZWZpbmVkKF9fY2xhbmdfXykKKyMgIGlmIF9fR05VQ19fIDw9IDQgfHwgKF9fR05VQ19fID09
IDQgJiYgX19HTlVDX01JTk9SX18gPCA5KQorIyAgICBkZWZpbmUgUkVDT1JERVJfV0lUSE9VVF9H
RU5FUklDCisjICBlbmRpZgorI2VuZGlmIC8vIF9fR05VQ19fCisKKyNpZmRlZiBSRUNPUkRFUl9X
SVRIT1VUX0dFTkVSSUMKKyNkZWZpbmUgUkVDT1JERVJfQVJHKGFyZykgKCh1aW50cHRyX3QpIChh
cmcpKQorI2Vsc2UgLy8gIVJFQ09SREVSX1dJVEhPVVRfR0VORVJJQworI2RlZmluZSBSRUNPUkRF
Ul9BUkcoYXJnKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCisgICAgX0dlbmVyaWMo
YXJnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAgICAgICAg
ICB1bnNpZ25lZCBjaGFyOiAgICAgX3JlY29yZGVyX3Vuc2lnbmVkLCAgICAgXAorICAgICAgICAg
ICAgIHVuc2lnbmVkIHNob3J0OiAgICBfcmVjb3JkZXJfdW5zaWduZWQsICAgICBcCisgICAgICAg
ICAgICAgdW5zaWduZWQ6ICAgICAgICAgIF9yZWNvcmRlcl91bnNpZ25lZCwgICAgIFwKKyAgICAg
ICAgICAgICB1bnNpZ25lZCBsb25nOiAgICAgX3JlY29yZGVyX3Vuc2lnbmVkLCAgICAgXAorICAg
ICAgICAgICAgIHVuc2lnbmVkIGxvbmcgbG9uZzpfcmVjb3JkZXJfdW5zaWduZWQsICAgICBcCisg
ICAgICAgICAgICAgY2hhcjogICAgICAgICAgICAgIF9yZWNvcmRlcl9jaGFyLCAgICAgICAgIFwK
KyAgICAgICAgICAgICBzaWduZWQgY2hhcjogICAgICAgX3JlY29yZGVyX3NpZ25lZCwgICAgICAg
XAorICAgICAgICAgICAgIHNpZ25lZCBzaG9ydDogICAgICBfcmVjb3JkZXJfc2lnbmVkLCAgICAg
ICBcCisgICAgICAgICAgICAgc2lnbmVkOiAgICAgICAgICAgIF9yZWNvcmRlcl9zaWduZWQsICAg
ICAgIFwKKyAgICAgICAgICAgICBzaWduZWQgbG9uZzogICAgICAgX3JlY29yZGVyX3NpZ25lZCwg
ICAgICAgXAorICAgICAgICAgICAgIHNpZ25lZCBsb25nIGxvbmc6ICBfcmVjb3JkZXJfc2lnbmVk
LCAgICAgICBcCisgICAgICAgICAgICAgZmxvYXQ6ICAgICAgICAgICAgIF9yZWNvcmRlcl9mbG9h
dCwgICAgICAgIFwKKyAgICAgICAgICAgICBkb3VibGU6ICAgICAgICAgICAgX3JlY29yZGVyX2Rv
dWJsZSwgICAgICAgXAorICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICAgICBfcmVjb3JkZXJf
cG9pbnRlcikoYXJnKQorI2VuZGlmIC8vIFJFQ09SREVSX1dJVEhPVVRfR0VORVJJQworI2VuZGlm
IC8vIF9fY3BsdXNwbHVzCisKKy8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KKy8vCisvLyAgICBUaW1p
bmcgaW5mb3JtYXRpb24KKy8vCisvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CisKKyNkZWZpbmUgUkVD
T1JEX1RJTUlOR19CRUdJTihyZWMpIFwKKyAgICBkbyB7IFJFQ09SRChyZWMsICJiZWdpbiIpOwor
I2RlZmluZSBSRUNPUkRfVElNSU5HX0VORChyZWMsIG9wLCBuYW1lLCB2YWx1ZSkgXAorICAgICAg
ICBSRUNPUkQocmVjLCAiZW5kIiBvcCBuYW1lKTsgXAorICAgIH0gd2hpbGUgKDApCisKKworLy8g
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PQorLy8KKy8vICAgU3VwcG9ydCBtYWNyb3MKKy8vCisvLyA9PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09CisKKyNkZWZpbmUgUkVDT1JERVJfU09VUkNFX0ZVTkNUSU9OICAgIF9f
ZnVuY19fIC8qIFdvcmtzIGluIEM5OSBhbmQgQysrMTEgKi8KKyNkZWZpbmUgUkVDT1JERVJfU09V
UkNFX0xPQ0FUSU9OICAgIF9fRklMRV9fICI6IiBSRUNPUkRFUl9TVFJJTkcoX19MSU5FX18pICI6
IgorI2RlZmluZSBSRUNPUkRFUl9TVFJJTkcoTElORSkgICAgICAgUkVDT1JERVJfU1RSSU5HXyhM
SU5FKQorI2RlZmluZSBSRUNPUkRFUl9TVFJJTkdfKExJTkUpICAgICAgI0xJTkUKKworI2lmZGVm
IF9fR05VQ19fCisjZGVmaW5lIFJFQ09SREVSX0NPTlNUUlVDVE9SICAgICAgICAgICAgX19hdHRy
aWJ1dGVfXygoY29uc3RydWN0b3IpKQorI2Vsc2UKKyNkZWZpbmUgUkVDT1JERVJfQ09OU1RSVUNU
T1IKKyNlbmRpZgorCisjaWZkZWYgX19jcGx1c3BsdXMKK30KKyNlbmRpZiAvLyBfX2NwbHVzcGx1
cworCisvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09CisvLworLy8gICAgVXRpbGl0eTogQ29udmVydCBm
bG9hdGluZyBwb2ludCB2YWx1ZXMgZm9yIHZhcmFyZyBmb3JtYXQKKy8vCisvLyA9PT09PT09PT09
PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09
PT09PT09PT09CisvLworLy8gICBUaGUgcmVjb3JkZXIgc3RvcmVzIG9ubHkgdWludHB0cl90IGlu
IHJlY29yZGVyIGVudHJpZXMuIEludGVnZXIgdHlwZXMKKy8vICAgYXJlIHByb21vdGVkLCBwb2lu
dGVyIHR5cGVzIGFyZSBjb252ZXJ0ZWQuIEZsb2F0aW5nIHBvaW50IHZhbHVlcworLy8gICBhcmUg
Y29udmVydGVkIGEgZmxvYXRpbmcgcG9pbnQgdHlwZSBvZiB0aGUgc2FtZSBzaXplIGFzIHVpbnRw
dHJfdCwKKy8vICAgaS5lLiBmbG9hdCBhcmUgY29udmVydGVkIHRvIGRvdWJsZSBvbiA2NC1iaXQg
cGxhdGZvcm1zLCBhbmQgY29udmVyc2VseS4KKworI2lmZGVmIF9fY3BsdXNwbHVzCisjaW5jbHVk
ZSA8c3RyaW5nPgorCisvLyBJbiBDKyssIHdlIGRvbid0IHVzZSBfR2VuZXJpYyBidXQgYWN0dWFs
IG92ZXJsb2FkaW5nCit0ZW1wbGF0ZSA8Y2xhc3MgaW50dHlwZT4KK3N0YXRpYyBpbmxpbmUgdWlu
dHB0cl90ICAgICAgICAgX3JlY29yZGVyX2FyZyhpbnR0eXBlIGkpCit7CisgICAgcmV0dXJuICh1
aW50cHRyX3QpIGk7Cit9CisKKworc3RhdGljIGlubGluZSB1aW50cHRyX3QgICAgICAgICBfcmVj
b3JkZXJfYXJnKGNvbnN0IHN0ZDo6c3RyaW5nICZhcmcpCit7CisgICAgcmV0dXJuICh1aW50cHRy
X3QpIGFyZy5jX3N0cigpOworfQorI2RlZmluZSBfcmVjb3JkZXJfZmxvYXQgICAgICAgICBfcmVj
b3JkZXJfYXJnCisjZGVmaW5lIF9yZWNvcmRlcl9kb3VibGUgICAgICAgIF9yZWNvcmRlcl9hcmcK
KworI2Vsc2UgLy8gIV9fY3BsdXNwbHVzCisKK3N0YXRpYyBpbmxpbmUgdWludHB0cl90IF9yZWNv
cmRlcl9jaGFyKGNoYXIgYykKKy8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KKy8vICAgTmVjZXNzYXJ5
IGJlY2F1c2Ugb2YgdGhlIHdheSBnZW5lcmljIHNlbGVjdGlvbnMgd29yaworLy8gLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLQoreworICAgIHJldHVybiBjOworfQorCisKK3N0YXRpYyBpbmxpbmUgdWludHB0
cl90IF9yZWNvcmRlcl91bnNpZ25lZCh1aW50cHRyX3QgaSkKKy8vIC0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0KKy8vICAgTmVjZXNzYXJ5IGJlY2F1c2Ugb2YgdGhlIHdheSBnZW5lcmljIHNlbGVjdGlvbnMg
d29yaworLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoreworICAgIHJldHVybiBpOworfQorCisKK3N0
YXRpYyBpbmxpbmUgdWludHB0cl90IF9yZWNvcmRlcl9zaWduZWQoaW50cHRyX3QgaSkKKy8vIC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KKy8vICAgTmVjZXNzYXJ5IGJlY2F1c2Ugb2YgdGhlIHdheSBnZW5l
cmljIHNlbGVjdGlvbnMgd29yaworLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoreworICAgIHJldHVy
biAodWludHB0cl90KSBpOworfQorCisKK3N0YXRpYyBpbmxpbmUgdWludHB0cl90IF9yZWNvcmRl
cl9wb2ludGVyKGNvbnN0IHZvaWQgKmkpCisvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCisvLyAgIE5l
Y2Vzc2FyeSBiZWNhdXNlIG9mIHRoZSB3YXkgZ2VuZXJpYyBzZWxlY3Rpb25zIHdvcmsKKy8vIC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KK3sKKyAgICByZXR1cm4gKHVpbnRwdHJfdCkgaTsKK30KKworI2Vu
ZGlmIC8vIF9fY3BsdXNwbHVzCisKKworc3RhdGljIGlubGluZSB1aW50cHRyX3QgX3JlY29yZGVy
X2Zsb2F0KGZsb2F0IGYpCisvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCisvLyAgIENvbnZlcnQgZmxv
YXRpbmcgcG9pbnQgbnVtYmVyIHRvIGludHB0cl90IHJlcHJlc2VudGF0aW9uIGZvciByZWNvcmRl
cgorLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoreworICAgIGlmIChzaXplb2YoZmxvYXQpID09IHNp
emVvZihpbnRwdHJfdCkpIHsKKyAgICAgICAgdW5pb24geyBmbG9hdCBmOyB1aW50cHRyX3QgaTsg
fSB1OworICAgICAgICB1LmYgPSBmOworICAgICAgICByZXR1cm4gdS5pOworICAgIH0gZWxzZSB7
CisgICAgICAgIHVuaW9uIHsgZG91YmxlIGQ7IHVpbnRwdHJfdCBpOyB9IHU7CisgICAgICAgIHUu
ZCA9IChkb3VibGUpIGY7CisgICAgICAgIHJldHVybiB1Lmk7CisgICAgfQorfQorCisKK3N0YXRp
YyBpbmxpbmUgdWludHB0cl90IF9yZWNvcmRlcl9kb3VibGUoZG91YmxlIGQpCisvLyAtLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCisvLyAgIENvbnZlcnQgZG91YmxlLXByZWNpc2lvbiBmbG9hdGluZyBwb2lu
dCBudW1iZXIgdG8gaW50cHRyX3QgcmVwcmVzZW50YXRpb24KKy8vIC0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0KK3sKKyAgICBpZiAoc2l6ZW9mKGRvdWJsZSkgPT0gc2l6ZW9mKGludHB0cl90KSkgeworICAg
ICAgICB1bmlvbiB7IGRvdWJsZSBkOyB1aW50cHRyX3QgaTsgfSB1OworICAgICAgICB1LmQgPSBk
OworICAgICAgICByZXR1cm4gdS5pOworICAgIH0gZWxzZSB7CisgICAgICAgIC8vIEJldHRlciB0
byBsb3NlIHByZWNpc2lvbiB0aGFuIG5vdCBzdG9yZSBhbnkgZGF0YQorICAgICAgICB1bmlvbiB7
IGZsb2F0IGY7IHVpbnRwdHJfdCBpOyB9IHU7CisgICAgICAgIHUuZiA9IGQ7CisgICAgICAgIHJl
dHVybiB1Lmk7CisgICAgfQorfQotLSAKMi4yMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
