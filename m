Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id D164944DDD
	for <lists+spice-devel@lfdr.de>; Thu, 13 Jun 2019 22:53:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 5E748892DE;
	Thu, 13 Jun 2019 20:53:16 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
X-Greylist: delayed 1053 seconds by postgrey-1.36 at gabe;
 Thu, 13 Jun 2019 20:53:14 UTC
Received: from mail.codeweavers.com (mail.codeweavers.com [50.203.203.244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A1F25892DE
 for <spice-devel@lists.freedesktop.org>; Thu, 13 Jun 2019 20:53:14 +0000 (UTC)
Received: from jwhite.mn.codeweavers.com ([10.69.137.101])
 by mail.codeweavers.com with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
 (Exim 4.89) (envelope-from <jwhite@codeweavers.com>)
 id 1hbWSG-0005EE-Nx
 for spice-devel@lists.freedesktop.org; Thu, 13 Jun 2019 15:36:16 -0500
From: Jeremy White <jwhite@codeweavers.com>
To: spice-devel@lists.freedesktop.org
Date: Thu, 13 Jun 2019 15:35:35 -0500
Message-Id: <20190613203535.30865-1-jwhite@codeweavers.com>
X-Mailer: git-send-email 2.11.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; 
 d=codeweavers.com; s=6377696661; h=Message-Id:Date:Subject:To:From:Sender:
 Reply-To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=GfuQfy2zok2+uYD7rmYB93TY4QcvGN2ScRBf/ZGWC48=; b=XLPQ0Nn5jK+K3VK0/3Grz+vits
 d5lFEDN496TjEWj5hALo2sMsEoQbTNMrDAz2tPBJ+eFXwaD1tn6Po6kzhzxNW4TNeBIKfQlGm3bRP
 15prrhBlgybJV510V5pHVLnhscnLHmo8/rFz3dYlTYCEKwEqcMmABLtzD4QuQt/QIY48=;
Subject: [Spice-devel] [PATCH x11spice] Changes to build on the 32 bit
 raspberry pi.
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
MIME-Version: 1.0
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

U2lnbmVkLW9mZi1ieTogSmVyZW15IFdoaXRlIDxqd2hpdGVAY29kZXdlYXZlcnMuY29tPgotLS0K
IHNyYy9zY2FuLmMgICAgfCAgNiArKystLS0KIHNyYy9zZXNzaW9uLmMgfCAgOCArKysrLS0tLQog
c3JjL3NwaWNlLmMgICB8IDE4ICsrKysrKysrKysrLS0tLS0tLQogMyBmaWxlcyBjaGFuZ2VkLCAx
OCBpbnNlcnRpb25zKCspLCAxNCBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9zcmMvc2Nhbi5j
IGIvc3JjL3NjYW4uYwppbmRleCBiYjAyMGRlLi5lYmFkYWY4IDEwMDY0NAotLS0gYS9zcmMvc2Nh
bi5jCisrKyBiL3NyYy9zY2FuLmMKQEAgLTcwLDcgKzcwLDcgQEAgc3RhdGljIFFYTERyYXdhYmxl
ICpzaG1faW1hZ2VfdG9fZHJhd2FibGUoc3BpY2VfdCAqcywgc2htX2ltYWdlX3QgKnNobWksIGlu
dCB4LAogICAgICAgICByZXR1cm4gTlVMTDsKICAgICBxeGxfaW1hZ2UgPSAoUVhMSW1hZ2UgKikg
KGRyYXdhYmxlICsgMSk7CiAKLSAgICBkcmF3YWJsZS0+cmVsZWFzZV9pbmZvLmlkID0gKHVpbnQ2
NF90KSBzcGljZV9jcmVhdGVfcmVsZWFzZShzLCBSRUxFQVNFX1NITUksIHNobWkpOworICAgIGRy
YXdhYmxlLT5yZWxlYXNlX2luZm8uaWQgPSAodWludDY0X3QpICgodWludHB0cl90KSBzcGljZV9j
cmVhdGVfcmVsZWFzZShzLCBSRUxFQVNFX1NITUksIHNobWkpKTsKICAgICBzaG1pLT5kcmF3YWJs
ZV9wdHIgPSBkcmF3YWJsZTsKIAogICAgIGRyYXdhYmxlLT5zdXJmYWNlX2lkID0gMDsKQEAgLTkx
LDcgKzkxLDcgQEAgc3RhdGljIFFYTERyYXdhYmxlICpzaG1faW1hZ2VfdG9fZHJhd2FibGUoc3Bp
Y2VfdCAqcywgc2htX2ltYWdlX3QgKnNobWksIGludCB4LAogICAgIGRyYXdhYmxlLT51LmNvcHku
c3JjX2FyZWEuYm90dG9tID0gc2htaS0+aDsKICAgICBkcmF3YWJsZS0+dS5jb3B5LnJvcF9kZXNj
cmlwdG9yID0gU1BJQ0VfUk9QRF9PUF9QVVQ7CiAKLSAgICBkcmF3YWJsZS0+dS5jb3B5LnNyY19i
aXRtYXAgPSAoUVhMUEhZU0lDQUwpIHF4bF9pbWFnZTsKKyAgICBkcmF3YWJsZS0+dS5jb3B5LnNy
Y19iaXRtYXAgPSAoUVhMUEhZU0lDQUwpICgodWludHB0cl90KSBxeGxfaW1hZ2UpOwogCiAgICAg
cXhsX2ltYWdlLT5kZXNjcmlwdG9yLmlkID0gMDsKICAgICBxeGxfaW1hZ2UtPmRlc2NyaXB0b3Iu
dHlwZSA9IFNQSUNFX0lNQUdFX1RZUEVfQklUTUFQOwpAQCAtMTA2LDcgKzEwNiw3IEBAIHN0YXRp
YyBRWExEcmF3YWJsZSAqc2htX2ltYWdlX3RvX2RyYXdhYmxlKHNwaWNlX3QgKnMsIHNobV9pbWFn
ZV90ICpzaG1pLCBpbnQgeCwKICAgICBxeGxfaW1hZ2UtPmJpdG1hcC55ID0gc2htaS0+aDsKICAg
ICBxeGxfaW1hZ2UtPmJpdG1hcC5zdHJpZGUgPSBzaG1pLT5ieXRlc19wZXJfbGluZTsKICAgICBx
eGxfaW1hZ2UtPmJpdG1hcC5wYWxldHRlID0gMDsKLSAgICBxeGxfaW1hZ2UtPmJpdG1hcC5kYXRh
ID0gKFFYTFBIWVNJQ0FMKSBzaG1pLT5zaG1hZGRyOworICAgIHF4bF9pbWFnZS0+Yml0bWFwLmRh
dGEgPSAoUVhMUEhZU0lDQUwpICgodWludHB0cl90KSBzaG1pLT5zaG1hZGRyKTsKIAogICAgIHJl
dHVybiBkcmF3YWJsZTsKIH0KZGlmZiAtLWdpdCBhL3NyYy9zZXNzaW9uLmMgYi9zcmMvc2Vzc2lv
bi5jCmluZGV4IGUxYjNjMDAuLjI0NzY0NjAgMTAwNjQ0Ci0tLSBhL3NyYy9zZXNzaW9uLmMKKysr
IGIvc3JjL3Nlc3Npb24uYwpAQCAtNjAsMTMgKzYwLDEzIEBAIHNlc3Npb25fdCAqZ2xvYmFsX3Nl
c3Npb24gPSBOVUxMOwogdm9pZCBmcmVlX2N1cnNvcl9xdWV1ZV9pdGVtKGdwb2ludGVyIGRhdGEp
CiB7CiAgICAgUVhMQ3Vyc29yQ21kICpjY21kID0gKFFYTEN1cnNvckNtZCAqKSBkYXRhOwotICAg
IHNwaWNlX2ZyZWVfcmVsZWFzZSgoc3BpY2VfcmVsZWFzZV90ICopIGNjbWQtPnJlbGVhc2VfaW5m
by5pZCk7CisgICAgc3BpY2VfZnJlZV9yZWxlYXNlKChzcGljZV9yZWxlYXNlX3QgKikgKCh1aW50
cHRyX3QpIGNjbWQtPnJlbGVhc2VfaW5mby5pZCkpOwogfQogCiB2b2lkIGZyZWVfZHJhd19xdWV1
ZV9pdGVtKGdwb2ludGVyIGRhdGEpCiB7CiAgICAgUVhMRHJhd2FibGUgKmRyYXdhYmxlID0gKFFY
TERyYXdhYmxlICopIGRhdGE7Ci0gICAgc3BpY2VfZnJlZV9yZWxlYXNlKChzcGljZV9yZWxlYXNl
X3QgKikgZHJhd2FibGUtPnJlbGVhc2VfaW5mby5pZCk7CisgICAgc3BpY2VfZnJlZV9yZWxlYXNl
KChzcGljZV9yZWxlYXNlX3QgKikgKCh1aW50cHRyX3QpIGRyYXdhYmxlLT5yZWxlYXNlX2luZm8u
aWQpKTsKIH0KIAogdm9pZCAqc2Vzc2lvbl9wb3BfZHJhdyhzZXNzaW9uX3QgKnNlc3Npb24pCkBA
IC00MDcsMTAgKzQwNywxMCBAQCBpbnQgc2Vzc2lvbl9wdXNoX2N1cnNvcl9pbWFnZShzZXNzaW9u
X3QgKnMsCiAgICAgY2NtZC0+dHlwZSA9IFFYTF9DVVJTT1JfU0VUOwogICAgIGNjbWQtPnUuc2V0
LnBvc2l0aW9uLnggPSB4ICsgeGhvdDsKICAgICBjY21kLT51LnNldC5wb3NpdGlvbi55ID0geSAr
IHlob3Q7Ci0gICAgY2NtZC0+dS5zZXQuc2hhcGUgPSAoUVhMUEhZU0lDQUwpIGN1cnNvcjsKKyAg
ICBjY21kLT51LnNldC5zaGFwZSA9IChRWExQSFlTSUNBTCkgKCh1aW50cHRyX3QpIGN1cnNvcik7
CiAgICAgY2NtZC0+dS5zZXQudmlzaWJsZSA9IFRSVUU7CiAKLSAgICBjY21kLT5yZWxlYXNlX2lu
Zm8uaWQgPSAodWludDY0X3QpIHNwaWNlX2NyZWF0ZV9yZWxlYXNlKCZzLT5zcGljZSwgUkVMRUFT
RV9NRU1PUlksIGNjbWQpOworICAgIGNjbWQtPnJlbGVhc2VfaW5mby5pZCA9ICh1aW50NjRfdCkg
KCh1aW50cHRyX3QpIHNwaWNlX2NyZWF0ZV9yZWxlYXNlKCZzLT5zcGljZSwgUkVMRUFTRV9NRU1P
UlksIGNjbWQpKTsKIAogICAgIGdfYXN5bmNfcXVldWVfcHVzaChzLT5jdXJzb3JfcXVldWUsIGNj
bWQpOwogICAgIHNwaWNlX3F4bF93YWtldXAoJnMtPnNwaWNlLmRpc3BsYXlfc2luKTsKZGlmZiAt
LWdpdCBhL3NyYy9zcGljZS5jIGIvc3JjL3NwaWNlLmMKaW5kZXggODQ4OWI2Ny4uNzVlOTg4MCAx
MDA2NDQKLS0tIGEvc3JjL3NwaWNlLmMKKysrIGIvc3JjL3NwaWNlLmMKQEAgLTMzLDYgKzMzLDEw
IEBACiAjaW5jbHVkZSA8bmV0ZGIuaD4KICNpbmNsdWRlIDxzcGljZS9tYWNyb3MuaD4KIAorLyog
T2J0YWluIGRlZmluaXRpb25zIGZvciBQUklkNjQgKi8KKyNkZWZpbmUgX19TVERDX0ZPUk1BVF9N
QUNST1MgMQorI2luY2x1ZGUgPGludHR5cGVzLmg+CisKICNpbmNsdWRlICJsb2NhbF9zcGljZS5o
IgogI2luY2x1ZGUgIngxMXNwaWNlLmgiCiAjaW5jbHVkZSAiZGlzcGxheS5oIgpAQCAtMjU1LDcg
KzI1OSw3IEBAIHN0YXRpYyBpbnQgZ2V0X2NvbW1hbmQoUVhMSW5zdGFuY2UgKnFpbiwgc3RydWN0
IFFYTENvbW1hbmRFeHQgKmNtZCkKICAgICBjbWQtPmZsYWdzID0gMDsKICAgICBjbWQtPmNtZC50
eXBlID0gUVhMX0NNRF9EUkFXOwogICAgIGNtZC0+Y21kLnBhZGRpbmcgPSAwOwotICAgIGNtZC0+
Y21kLmRhdGEgPSAoUVhMUEhZU0lDQUwpIGRyYXdhYmxlOworICAgIGNtZC0+Y21kLmRhdGEgPSAo
UVhMUEhZU0lDQUwpICgodWludHB0cl90KSBkcmF3YWJsZSk7CiAKICAgICByZXR1cm4gMTsKIH0K
QEAgLTI3Myw3ICsyNzcsNyBAQCBzdGF0aWMgaW50IHJlcV9jbWRfbm90aWZpY2F0aW9uKFFYTElu
c3RhbmNlICpxaW4pCiBzdGF0aWMgdm9pZCByZWxlYXNlX3Jlc291cmNlKFFYTEluc3RhbmNlICpx
aW4gR19HTlVDX1VOVVNFRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IFFY
TFJlbGVhc2VJbmZvRXh0IHJlbGVhc2VfaW5mbykKIHsKLSAgICBzcGljZV9mcmVlX3JlbGVhc2Uo
KHNwaWNlX3JlbGVhc2VfdCAqKSByZWxlYXNlX2luZm8uaW5mby0+aWQpOworICAgIHNwaWNlX2Zy
ZWVfcmVsZWFzZSgoc3BpY2VfcmVsZWFzZV90ICopICgodWludHB0cl90KSByZWxlYXNlX2luZm8u
aW5mby0+aWQpKTsKIH0KIAogc3RhdGljIGludCBnZXRfY3Vyc29yX2NvbW1hbmQoUVhMSW5zdGFu
Y2UgKnFpbiwgc3RydWN0IFFYTENvbW1hbmRFeHQgKmNtZCkKQEAgLTI4OSw3ICsyOTMsNyBAQCBz
dGF0aWMgaW50IGdldF9jdXJzb3JfY29tbWFuZChRWExJbnN0YW5jZSAqcWluLCBzdHJ1Y3QgUVhM
Q29tbWFuZEV4dCAqY21kKQogICAgIGNtZC0+ZmxhZ3MgPSAwOwogICAgIGNtZC0+Y21kLnR5cGUg
PSBRWExfQ01EX0NVUlNPUjsKICAgICBjbWQtPmNtZC5wYWRkaW5nID0gMDsKLSAgICBjbWQtPmNt
ZC5kYXRhID0gKFFYTFBIWVNJQ0FMKSBjdXJzb3I7CisgICAgY21kLT5jbWQuZGF0YSA9IChRWExQ
SFlTSUNBTCkgKCh1aW50cHRyX3QpIGN1cnNvcik7CiAKICAgICByZXR1cm4gMTsKIH0KQEAgLTMx
OCw4ICszMjIsOCBAQCBzdGF0aWMgaW50IGZsdXNoX3Jlc291cmNlcyhRWExJbnN0YW5jZSAqcWlu
IEdfR05VQ19VTlVTRUQpCiAKIHN0YXRpYyB2b2lkIGFzeW5jX2NvbXBsZXRlKFFYTEluc3RhbmNl
ICpxaW4gR19HTlVDX1VOVVNFRCwgdWludDY0X3QgY29va2llKQogewotICAgIGdfZGVidWcoIiVz
OiBjb29raWUgMHglbHgiLCBfX0ZVTkNUSU9OX18sIGNvb2tpZSk7Ci0gICAgc3BpY2VfZnJlZV9y
ZWxlYXNlKChzcGljZV9yZWxlYXNlX3QgKikgY29va2llKTsKKyAgICBnX2RlYnVnKCIlczogY29v
a2llIDB4JSJQUklkNjQieCIsIF9fRlVOQ1RJT05fXywgY29va2llKTsKKyAgICBzcGljZV9mcmVl
X3JlbGVhc2UoKHNwaWNlX3JlbGVhc2VfdCAqKSAoKHVpbnRwdHJfdCkgY29va2llKSk7CiB9CiAK
IHN0YXRpYyB2b2lkIHVwZGF0ZV9hcmVhX2NvbXBsZXRlKFFYTEluc3RhbmNlICpxaW4gR19HTlVD
X1VOVVNFRCwKQEAgLTQ2Myw3ICs0NjcsNyBAQCBzdGF0aWMgaW50IHNlbmRfbW9uaXRvcnNfY29u
ZmlnKHNwaWNlX3QgKnMsIGludCB3LCBpbnQgaCkKICAgICBtb25pdG9ycy0+aGVhZHNbMF0ud2lk
dGggPSB3OwogICAgIG1vbml0b3JzLT5oZWFkc1swXS5oZWlnaHQgPSBoOwogCi0gICAgc3BpY2Vf
cXhsX21vbml0b3JzX2NvbmZpZ19hc3luYygmcy0+ZGlzcGxheV9zaW4sIChRWExQSFlTSUNBTCkg
bW9uaXRvcnMsIDAsICh1aW50NjRfdCkgcmVsZWFzZSk7CisgICAgc3BpY2VfcXhsX21vbml0b3Jz
X2NvbmZpZ19hc3luYygmcy0+ZGlzcGxheV9zaW4sIChRWExQSFlTSUNBTCkgKCh1aW50cHRyX3Qp
IG1vbml0b3JzKSwgMCwgKHVpbnQ2NF90KSAoKHVpbnRwdHJfdCkgcmVsZWFzZSkpOwogCiAgICAg
cmV0dXJuIDA7CiB9CkBAIC00ODcsNyArNDkxLDcgQEAgaW50IHNwaWNlX2NyZWF0ZV9wcmltYXJ5
KHNwaWNlX3QgKnMsIGludCB3LCBpbnQgaCwgaW50IGJ5dGVzX3Blcl9saW5lLCB2b2lkICpzaG0K
IAogICAgIC8qIFRPRE8gLSBjb21wdXRlIHRoaXMgZHluYW1pY2FsbHkgKi8KICAgICBzdXJmYWNl
LmZvcm1hdCA9IFNQSUNFX1NVUkZBQ0VfRk1UXzMyX3hSR0I7Ci0gICAgc3VyZmFjZS5tZW0gPSAo
UVhMUEhZU0lDQUwpIHNobWFkZHI7CisgICAgc3VyZmFjZS5tZW0gPSAoUVhMUEhZU0lDQUwpICgo
dWludHB0cl90KSBzaG1hZGRyKTsKIAogICAgIHMtPndpZHRoID0gdzsKICAgICBzLT5oZWlnaHQg
PSBoOwotLSAKMi4xMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRl
c2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8v
c3BpY2UtZGV2ZWw=
