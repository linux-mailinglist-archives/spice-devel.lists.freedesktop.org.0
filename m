Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 2906A310A0
	for <lists+spice-devel@lfdr.de>; Fri, 31 May 2019 16:54:10 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0BD5689449;
	Fri, 31 May 2019 14:54:08 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6DFF789449
 for <spice-devel@lists.freedesktop.org>; Fri, 31 May 2019 14:54:06 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 0B70F4E908
 for <spice-devel@lists.freedesktop.org>; Fri, 31 May 2019 14:54:06 +0000 (UTC)
Received: from toolbox.mxp.redhat.com (unknown [10.32.181.168])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 80DDB5877A
 for <spice-devel@lists.freedesktop.org>; Fri, 31 May 2019 14:54:05 +0000 (UTC)
From: Victor Toso <victortoso@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Fri, 31 May 2019 14:54:04 +0000
Message-Id: <20190531145404.20651-1-victortoso@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.38]); Fri, 31 May 2019 14:54:06 +0000 (UTC)
Subject: [Spice-devel] [spice-gtk] usbutil: replace local function with
 libusb_strerror()
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

RnJvbTogVmljdG9yIFRvc28gPG1lQHZpY3RvcnRvc28uY29tPgoKQXMgbGlidXNiX3N0cmVycm9y
KCkgZG9lcyBleGFjdGx5IHdoYXQgc3BpY2VfdXNidXRpbF9saWJ1c2Jfc3RyZXJyb3IoKQppcyBk
b2luZy4gTm90aWNlIHRoYXQgd2UgY2FuIGNoYW5nZSB0aGUgZGVzY3JpcHRpb24gbGFuZ3VhZ2Ug
d2l0aApsaWJ1c2Jfc2V0bG9jYWxlKCkgYnV0IGtlZXBpbmcgaXQgaW4gRW5nbGlzaCBieSBkZWZh
dWx0IChhcyBpdCBpcykgZm9yCm5vdy4KClNpZ25lZC1vZmYtYnk6IFZpY3RvciBUb3NvIDx2aWN0
b3J0b3NvQHJlZGhhdC5jb20+Ci0tLQogc3JjL2NoYW5uZWwtdXNicmVkaXIuYyAgIHwgIDIgKy0K
IHNyYy91c2ItZGV2aWNlLW1hbmFnZXIuYyB8ICA4ICsrKystLS0tCiBzcmMvdXNidXRpbC5jICAg
ICAgICAgICAgfCAzNiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIHNyYy91
c2J1dGlsLmggICAgICAgICAgICB8ICAxIC0KIHNyYy93aW4tdXNiLWRldi5jICAgICAgICB8ICA0
ICsrLS0KIDUgZmlsZXMgY2hhbmdlZCwgNyBpbnNlcnRpb25zKCspLCA0NCBkZWxldGlvbnMoLSkK
CmRpZmYgLS1naXQgYS9zcmMvY2hhbm5lbC11c2JyZWRpci5jIGIvc3JjL2NoYW5uZWwtdXNicmVk
aXIuYwppbmRleCAxOTEwZmY2Li5hNTRmNjdiIDEwMDY0NAotLS0gYS9zcmMvY2hhbm5lbC11c2Jy
ZWRpci5jCisrKyBiL3NyYy9jaGFubmVsLXVzYnJlZGlyLmMKQEAgLTI5Miw3ICsyOTIsNyBAQCBz
dGF0aWMgZ2Jvb2xlYW4gc3BpY2VfdXNicmVkaXJfY2hhbm5lbF9vcGVuX2RldmljZSgKICAgICBp
ZiAocmMgIT0gMCkgewogICAgICAgICBnX3NldF9lcnJvcihlcnIsIFNQSUNFX0NMSUVOVF9FUlJP
UiwgU1BJQ0VfQ0xJRU5UX0VSUk9SX0ZBSUxFRCwKICAgICAgICAgICAgICAgICAgICAgIkNvdWxk
IG5vdCBvcGVuIHVzYiBkZXZpY2U6ICVzIFslaV0iLAotICAgICAgICAgICAgICAgICAgICBzcGlj
ZV91c2J1dGlsX2xpYnVzYl9zdHJlcnJvcihyYyksIHJjKTsKKyAgICAgICAgICAgICAgICAgICAg
bGlidXNiX3N0cmVycm9yKHJjKSwgcmMpOwogICAgICAgICByZXR1cm4gRkFMU0U7CiAgICAgfQog
CmRpZmYgLS1naXQgYS9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMgYi9zcmMvdXNiLWRldmljZS1t
YW5hZ2VyLmMKaW5kZXggYmQ0MjE0Mi4uOTM5MWQ2YSAxMDA2NDQKLS0tIGEvc3JjL3VzYi1kZXZp
Y2UtbWFuYWdlci5jCisrKyBiL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYwpAQCAtMjgxLDcgKzI4
MSw3IEBAIHN0YXRpYyBnYm9vbGVhbiBzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfaW5pdGFibGVf
aW5pdChHSW5pdGFibGUgICppbml0YWJsZSwKICAgICAvKiBJbml0aWFsaXplIGxpYnVzYiAqLwog
ICAgIHJjID0gbGlidXNiX2luaXQoJnByaXYtPmNvbnRleHQpOwogICAgIGlmIChyYyA8IDApIHsK
LSAgICAgICAgY29uc3QgY2hhciAqZGVzYyA9IHNwaWNlX3VzYnV0aWxfbGlidXNiX3N0cmVycm9y
KHJjKTsKKyAgICAgICAgY29uc3QgY2hhciAqZGVzYyA9IGxpYnVzYl9zdHJlcnJvcihyYyk7CiAg
ICAgICAgIGdfd2FybmluZygiRXJyb3IgaW5pdGlhbGl6aW5nIFVTQiBzdXBwb3J0OiAlcyBbJWld
IiwgZGVzYywgcmMpOwogICAgICAgICBnX3NldF9lcnJvcihlcnIsIFNQSUNFX0NMSUVOVF9FUlJP
UiwgU1BJQ0VfQ0xJRU5UX0VSUk9SX0ZBSUxFRCwKICAgICAgICAgICAgICAgICAgICAgIkVycm9y
IGluaXRpYWxpemluZyBVU0Igc3VwcG9ydDogJXMgWyVpXSIsIGRlc2MsIHJjKTsKQEAgLTMwOCw3
ICszMDgsNyBAQCBzdGF0aWMgZ2Jvb2xlYW4gc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2luaXRh
YmxlX2luaXQoR0luaXRhYmxlICAqaW5pdGFibGUsCiAgICAgICAgIExJQlVTQl9IT1RQTFVHX01B
VENIX0FOWSwgTElCVVNCX0hPVFBMVUdfTUFUQ0hfQU5ZLAogICAgICAgICBzcGljZV91c2JfZGV2
aWNlX21hbmFnZXJfaG90cGx1Z19jYiwgc2VsZiwgJnByaXYtPmhwX2hhbmRsZSk7CiAgICAgaWYg
KHJjIDwgMCkgewotICAgICAgICBjb25zdCBjaGFyICpkZXNjID0gc3BpY2VfdXNidXRpbF9saWJ1
c2Jfc3RyZXJyb3IocmMpOworICAgICAgICBjb25zdCBjaGFyICpkZXNjID0gbGlidXNiX3N0cmVy
cm9yKHJjKTsKICAgICAgICAgZ193YXJuaW5nKCJFcnJvciBpbml0aWFsaXppbmcgVVNCIGhvdHBs
dWcgc3VwcG9ydDogJXMgWyVpXSIsIGRlc2MsIHJjKTsKICAgICAgICAgZ19zZXRfZXJyb3IoZXJy
LCBTUElDRV9DTElFTlRfRVJST1IsIFNQSUNFX0NMSUVOVF9FUlJPUl9GQUlMRUQsCiAgICAgICAg
ICAgICAgICAgICAiRXJyb3IgaW5pdGlhbGl6aW5nIFVTQiBob3RwbHVnIHN1cHBvcnQ6ICVzIFsl
aV0iLCBkZXNjLCByYyk7CkBAIC03MzAsNyArNzMwLDcgQEAgc3RhdGljIGdib29sZWFuIHNwaWNl
X3VzYl9kZXZpY2VfbWFuYWdlcl9nZXRfZGV2aWNlX2Rlc2NyaXB0b3IoCiAKICAgICAgICAgYnVz
ID0gbGlidXNiX2dldF9idXNfbnVtYmVyKGxpYmRldik7CiAgICAgICAgIGFkZHIgPSBsaWJ1c2Jf
Z2V0X2RldmljZV9hZGRyZXNzKGxpYmRldik7Ci0gICAgICAgIGVycnN0ciA9IHNwaWNlX3VzYnV0
aWxfbGlidXNiX3N0cmVycm9yKGVycmNvZGUpOworICAgICAgICBlcnJzdHIgPSBsaWJ1c2Jfc3Ry
ZXJyb3IoZXJyY29kZSk7CiAgICAgICAgIGdfd2FybmluZygiY2Fubm90IGdldCBkZXZpY2UgZGVz
Y3JpcHRvciBmb3IgKCVwKSAlZC4lZCAtLSAlcyglZCkiLAogICAgICAgICAgICAgICAgICAgbGli
ZGV2LCBidXMsIGFkZHIsIGVycnN0ciwgZXJyY29kZSk7CiAgICAgICAgIHJldHVybiBGQUxTRTsK
QEAgLTEwNjgsNyArMTA2OCw3IEBAIHN0YXRpYyBncG9pbnRlciBzcGljZV91c2JfZGV2aWNlX21h
bmFnZXJfdXNiX2V2X3RocmVhZChncG9pbnRlciB1c2VyX2RhdGEpCiAgICAgd2hpbGUgKGdfYXRv
bWljX2ludF9nZXQoJnByaXYtPmV2ZW50X3RocmVhZF9ydW4pKSB7CiAgICAgICAgIHJjID0gbGli
dXNiX2hhbmRsZV9ldmVudHMocHJpdi0+Y29udGV4dCk7CiAgICAgICAgIGlmIChyYyAmJiByYyAh
PSBMSUJVU0JfRVJST1JfSU5URVJSVVBURUQpIHsKLSAgICAgICAgICAgIGNvbnN0IGNoYXIgKmRl
c2MgPSBzcGljZV91c2J1dGlsX2xpYnVzYl9zdHJlcnJvcihyYyk7CisgICAgICAgICAgICBjb25z
dCBjaGFyICpkZXNjID0gbGlidXNiX3N0cmVycm9yKHJjKTsKICAgICAgICAgICAgIGdfd2Fybmlu
ZygiRXJyb3IgaGFuZGxpbmcgVVNCIGV2ZW50czogJXMgWyVpXSIsIGRlc2MsIHJjKTsKICAgICAg
ICAgICAgIGJyZWFrOwogICAgICAgICB9CmRpZmYgLS1naXQgYS9zcmMvdXNidXRpbC5jIGIvc3Jj
L3VzYnV0aWwuYwppbmRleCBlOTZhYjExLi41MDUyZWYzIDEwMDY0NAotLS0gYS9zcmMvdXNidXRp
bC5jCisrKyBiL3NyYy91c2J1dGlsLmMKQEAgLTU4LDQyICs1OCw2IEBAIHN0YXRpYyBHTXV0ZXgg
dXNiaWRzX2xvYWRfbXV0ZXg7CiBzdGF0aWMgaW50IHVzYmlkc192ZW5kb3JfY291bnQgPSAwOyAv
KiA8IDA6IGZhaWxlZCwgMDogZW1wdHksID4gMDogbG9hZGVkICovCiBzdGF0aWMgdXNiX3ZlbmRv
cl9pbmZvICp1c2JpZHNfdmVuZG9yX2luZm8gPSBOVUxMOwogCi1HX0dOVUNfSU5URVJOQUwKLWNv
bnN0IGNoYXIgKnNwaWNlX3VzYnV0aWxfbGlidXNiX3N0cmVycm9yKGVudW0gbGlidXNiX2Vycm9y
IGVycm9yX2NvZGUpCi17Ci0gICAgc3dpdGNoIChlcnJvcl9jb2RlKSB7Ci0gICAgY2FzZSBMSUJV
U0JfU1VDQ0VTUzoKLSAgICAgICAgcmV0dXJuICJTdWNjZXNzIjsKLSAgICBjYXNlIExJQlVTQl9F
UlJPUl9JTzoKLSAgICAgICAgcmV0dXJuICJJbnB1dC9vdXRwdXQgZXJyb3IiOwotICAgIGNhc2Ug
TElCVVNCX0VSUk9SX0lOVkFMSURfUEFSQU06Ci0gICAgICAgIHJldHVybiAiSW52YWxpZCBwYXJh
bWV0ZXIiOwotICAgIGNhc2UgTElCVVNCX0VSUk9SX0FDQ0VTUzoKLSAgICAgICAgcmV0dXJuICJB
Y2Nlc3MgZGVuaWVkIChpbnN1ZmZpY2llbnQgcGVybWlzc2lvbnMpIjsKLSAgICBjYXNlIExJQlVT
Ql9FUlJPUl9OT19ERVZJQ0U6Ci0gICAgICAgIHJldHVybiAiTm8gc3VjaCBkZXZpY2UgKGl0IG1h
eSBoYXZlIGJlZW4gZGlzY29ubmVjdGVkKSI7Ci0gICAgY2FzZSBMSUJVU0JfRVJST1JfTk9UX0ZP
VU5EOgotICAgICAgICByZXR1cm4gIkVudGl0eSBub3QgZm91bmQiOwotICAgIGNhc2UgTElCVVNC
X0VSUk9SX0JVU1k6Ci0gICAgICAgIHJldHVybiAiUmVzb3VyY2UgYnVzeSI7Ci0gICAgY2FzZSBM
SUJVU0JfRVJST1JfVElNRU9VVDoKLSAgICAgICAgcmV0dXJuICJPcGVyYXRpb24gdGltZWQgb3V0
IjsKLSAgICBjYXNlIExJQlVTQl9FUlJPUl9PVkVSRkxPVzoKLSAgICAgICAgcmV0dXJuICJPdmVy
ZmxvdyI7Ci0gICAgY2FzZSBMSUJVU0JfRVJST1JfUElQRToKLSAgICAgICAgcmV0dXJuICJQaXBl
IGVycm9yIjsKLSAgICBjYXNlIExJQlVTQl9FUlJPUl9JTlRFUlJVUFRFRDoKLSAgICAgICAgcmV0
dXJuICJTeXN0ZW0gY2FsbCBpbnRlcnJ1cHRlZCAocGVyaGFwcyBkdWUgdG8gc2lnbmFsKSI7Ci0g
ICAgY2FzZSBMSUJVU0JfRVJST1JfTk9fTUVNOgotICAgICAgICByZXR1cm4gIkluc3VmZmljaWVu
dCBtZW1vcnkiOwotICAgIGNhc2UgTElCVVNCX0VSUk9SX05PVF9TVVBQT1JURUQ6Ci0gICAgICAg
IHJldHVybiAiT3BlcmF0aW9uIG5vdCBzdXBwb3J0ZWQgb3IgdW5pbXBsZW1lbnRlZCBvbiB0aGlz
IHBsYXRmb3JtIjsKLSAgICBjYXNlIExJQlVTQl9FUlJPUl9PVEhFUjoKLSAgICAgICAgcmV0dXJu
ICJPdGhlciBlcnJvciI7Ci0gICAgfQotICAgIHJldHVybiAiVW5rbm93biBlcnJvciI7Ci19Ci0K
ICNpZmRlZiBfX2xpbnV4X18KIC8qIDxTaWdoPiBsaWJ1c2IgZG9lcyBub3QgYWxsb3cgZ2V0dGlu
ZyB0aGUgbWFudWZhY3R1cmVyIGFuZCBwcm9kdWN0IHN0cmluZ3MKICAgIHdpdGhvdXQgb3Blbmlu
ZyB0aGUgZGV2aWNlLCBzbyBncmFiIHRoZW0gZGlyZWN0bHkgZnJvbSBzeXNmcyAqLwpkaWZmIC0t
Z2l0IGEvc3JjL3VzYnV0aWwuaCBiL3NyYy91c2J1dGlsLmgKaW5kZXggZGU1ZTkyYS4uNTBlMzk0
OSAxMDA2NDQKLS0tIGEvc3JjL3VzYnV0aWwuaAorKysgYi9zcmMvdXNidXRpbC5oCkBAIC0yOCw3
ICsyOCw2IEBACiAKIEdfQkVHSU5fREVDTFMKIAotY29uc3QgY2hhciAqc3BpY2VfdXNidXRpbF9s
aWJ1c2Jfc3RyZXJyb3IoZW51bSBsaWJ1c2JfZXJyb3IgZXJyb3JfY29kZSk7CiB2b2lkIHNwaWNl
X3VzYl91dGlsX2dldF9kZXZpY2Vfc3RyaW5ncyhpbnQgYnVzLCBpbnQgYWRkcmVzcywKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludCB2ZW5kb3JfaWQsIGludCBwcm9k
dWN0X2lkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NoYXIgKipt
YW51ZmFjdHVyZXIsIGdjaGFyICoqcHJvZHVjdCk7CmRpZmYgLS1naXQgYS9zcmMvd2luLXVzYi1k
ZXYuYyBiL3NyYy93aW4tdXNiLWRldi5jCmluZGV4IGE0ZGZhNzguLmIwMjc0ZGQgMTAwNjQ0Ci0t
LSBhL3NyYy93aW4tdXNiLWRldi5jCisrKyBiL3NyYy93aW4tdXNiLWRldi5jCkBAIC0xMTMsNyAr
MTEzLDcgQEAgZ191ZGV2X2NsaWVudF9saXN0X2RldmljZXMoR1VkZXZDbGllbnQgKnNlbGYsIEdM
aXN0ICoqZGV2cywKIAogICAgIHJjID0gbGlidXNiX2dldF9kZXZpY2VfbGlzdChwcml2LT5jdHgs
ICZsdXNiX2xpc3QpOwogICAgIGlmIChyYyA8IDApIHsKLSAgICAgICAgY29uc3QgY2hhciAqZXJy
c3RyID0gc3BpY2VfdXNidXRpbF9saWJ1c2Jfc3RyZXJyb3IocmMpOworICAgICAgICBjb25zdCBj
aGFyICplcnJzdHIgPSBsaWJ1c2Jfc3RyZXJyb3IocmMpOwogICAgICAgICBnX3dhcm5pbmcoIiVz
OiBsaWJ1c2JfZ2V0X2RldmljZV9saXN0IGZhaWxlZCAtICVzIiwgbmFtZSwgZXJyc3RyKTsKICAg
ICAgICAgZ19zZXRfZXJyb3IoZXJyLCBHX1VERVZfQ0xJRU5UX0VSUk9SLCBHX1VERVZfQ0xJRU5U
X0xJQlVTQl9GQUlMRUQsCiAgICAgICAgICAgICAgICAgICAgICIlczogRXJyb3IgZ2V0dGluZyBk
ZXZpY2UgbGlzdCBmcm9tIGxpYnVzYjogJXMgWyUiR19HU1NJWkVfRk9STUFUIl0iLApAQCAtMTcw
LDcgKzE3MCw3IEBAIGdfdWRldl9jbGllbnRfaW5pdGFibGVfaW5pdChHSW5pdGFibGUgKmluaXRh
YmxlLCBHQ2FuY2VsbGFibGUgKmNhbmNlbGxhYmxlLAogCiAgICAgcmMgPSBsaWJ1c2JfaW5pdCgm
cHJpdi0+Y3R4KTsKICAgICBpZiAocmMgPCAwKSB7Ci0gICAgICAgIGNvbnN0IGNoYXIgKmVycnN0
ciA9IHNwaWNlX3VzYnV0aWxfbGlidXNiX3N0cmVycm9yKHJjKTsKKyAgICAgICAgY29uc3QgY2hh
ciAqZXJyc3RyID0gbGlidXNiX3N0cmVycm9yKHJjKTsKICAgICAgICAgZ193YXJuaW5nKCJFcnJv
ciBpbml0aWFsaXppbmcgVVNCIHN1cHBvcnQ6ICVzIFslaV0iLCBlcnJzdHIsIHJjKTsKICAgICAg
ICAgZ19zZXRfZXJyb3IoZXJyLCBHX1VERVZfQ0xJRU5UX0VSUk9SLCBHX1VERVZfQ0xJRU5UX0xJ
QlVTQl9GQUlMRUQsCiAgICAgICAgICAgICAgICAgICAgICJFcnJvciBpbml0aWFsaXppbmcgVVNC
IHN1cHBvcnQ6ICVzIFslaV0iLCBlcnJzdHIsIHJjKTsKLS0gCjIuMjAuMQoKX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBs
aXN0ClNwaWNlLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVk
ZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVs
