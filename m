Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D2428115A9
	for <lists+spice-devel@lfdr.de>; Thu,  2 May 2019 10:44:29 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CACA989220;
	Thu,  2 May 2019 08:44:27 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B932389220
 for <spice-devel@lists.freedesktop.org>; Thu,  2 May 2019 08:44:26 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx07.intmail.prod.int.phx2.redhat.com
 [10.5.11.22])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 5496C37E7B
 for <spice-devel@lists.freedesktop.org>; Thu,  2 May 2019 08:44:26 +0000 (UTC)
Received: from lub.tlv (dhcp-4-231.tlv.redhat.com [10.35.4.231])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 884EC1001E61;
 Thu,  2 May 2019 08:44:25 +0000 (UTC)
To: Frediano Ziglio <fziglio@redhat.com>, spice-devel@lists.freedesktop.org
References: <20190501135311.21109-1-fziglio@redhat.com>
From: Uri Lublin <uril@redhat.com>
Organization: Red Hat
Message-ID: <9174c0e9-24a7-4718-b01b-36ecbc354e27@redhat.com>
Date: Thu, 2 May 2019 11:44:22 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190501135311.21109-1-fziglio@redhat.com>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.22
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.29]); Thu, 02 May 2019 08:44:26 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-streaming-agent v2 1/2] Build agent
 object not statically
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: uril@redhat.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gNS8xLzE5IDQ6NTMgUE0sIEZyZWRpYW5vIFppZ2xpbyB3cm90ZToKPiBBbGxvd3MgdG8gY2F0
Y2ggcG9zc2libGUgZXhjZXB0aW9uIGJ1aWxkaW5nIHRoZSBvYmplY3QuCj4gQWxzbyB3aWxsIGFs
bG93IHRvIG1vcmUgc2FmZWx5IGhhbmRsZSBsb2dnZXIgZGVwZW5kZW5jeS4KClRoZSBzdWJqZWN0
IGNvbmZ1c2VkIG1lIGEgYml0LCBhcyBJIHRob3VnaHQgYWJvdXQgTWFrZWZpbGUvTGlua2luZy4K
UGVyaGFwcyBjaGFuZ2UgdG8gc29tZXRoaW5nIGxpa2UgLSBtYWtlIGFnZW50IG9iamVjdCBub3Qg
c3RhdGljCgpBbHNvIHNlZSBiZWxvdyBmb3Igc29tZSBjb21tZW50cy4KCj4gCj4gU2lnbmVkLW9m
Zi1ieTogRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlvQHJlZGhhdC5jb20+CgpBY2suCgo+IC0tLQo+
ICAgc3JjL2NvbmNyZXRlLWFnZW50LmNwcCAgICAgICAgfCAxMSArKystLS0tLS0tLQo+ICAgc3Jj
L2NvbmNyZXRlLWFnZW50LmhwcCAgICAgICAgfCAgNCArLS0tCj4gICBzcmMvc3BpY2Utc3RyZWFt
aW5nLWFnZW50LmNwcCB8IDEyICsrKysrKystLS0tLQo+ICAgMyBmaWxlcyBjaGFuZ2VkLCAxMSBp
bnNlcnRpb25zKCspLCAxNiBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvc3JjL2NvbmNy
ZXRlLWFnZW50LmNwcCBiL3NyYy9jb25jcmV0ZS1hZ2VudC5jcHAKPiBpbmRleCBmOTRhZWFkLi5m
YjE0MTJiIDEwMDY0NAo+IC0tLSBhL3NyYy9jb25jcmV0ZS1hZ2VudC5jcHAKPiArKysgYi9zcmMv
Y29uY3JldGUtYWdlbnQuY3BwCj4gQEAgLTI1LDkgKzI1LDEwIEBAIHN0YXRpYyBpbmxpbmUgdW5z
aWduZWQgTWlub3JWZXJzaW9uKHVuc2lnbmVkIHZlcnNpb24pCj4gICAgICAgcmV0dXJuIHZlcnNp
b24gJiAweGZmdTsKPiAgIH0KPiAgIAo+IC1Db25jcmV0ZUFnZW50OjpDb25jcmV0ZUFnZW50KCkK
PiArQ29uY3JldGVBZ2VudDo6Q29uY3JldGVBZ2VudChjb25zdCBzdGQ6OnZlY3RvcjxDb25jcmV0
ZUNvbmZpZ3VyZU9wdGlvbj4gJm9wdGlvbnMpOgo+ICsgICAgb3B0aW9ucyhvcHRpb25zKQoKSXNu
J3QgaXQgY29tbW9uIHRvIHVzZSBkaWZmZXJlbnQgbmFtZXMgKGUuZy4gb3B0cyBmb3IgdGhlIHBh
cmFtZXRlcikgPwoKPiAgIHsKPiAtICAgIG9wdGlvbnMucHVzaF9iYWNrKENvbmNyZXRlQ29uZmln
dXJlT3B0aW9uKG51bGxwdHIsIG51bGxwdHIpKTsKPiArICAgIHRoaXMtPm9wdGlvbnMucHVzaF9i
YWNrKENvbmNyZXRlQ29uZmlndXJlT3B0aW9uKG51bGxwdHIsIG51bGxwdHIpKTsKCk5pdCAtIFRo
aXMgdG9vIGNhbiBhbHNvIGJlIGRvbmUgaW4gbWFpbiB3aGVuIGNyZWF0aW5nIG9wdGlvbnMuCgpV
cmkuCgo+ICAgfQo+ICAgCj4gICBib29sIENvbmNyZXRlQWdlbnQ6OlBsdWdpblZlcnNpb25Jc0Nv
bXBhdGlibGUodW5zaWduZWQgcGx1Z2luVmVyc2lvbikgY29uc3QKPiBAQCAtNDksMTIgKzUwLDYg
QEAgY29uc3QgQ29uZmlndXJlT3B0aW9uKiBDb25jcmV0ZUFnZW50OjpPcHRpb25zKCkgY29uc3QK
PiAgICAgICByZXR1cm4gc3RhdGljX2Nhc3Q8Y29uc3QgQ29uZmlndXJlT3B0aW9uKj4oJm9wdGlv
bnNbMF0pOwo+ICAgfQo+ICAgCj4gLXZvaWQgQ29uY3JldGVBZ2VudDo6QWRkT3B0aW9uKGNvbnN0
IGNoYXIgKm5hbWUsIGNvbnN0IGNoYXIgKnZhbHVlKQo+IC17Cj4gLSAgICAvLyBpbnNlcnQgYmVm
b3JlIHRoZSBsYXN0IHtudWxscHRyLCBudWxscHRyfSB2YWx1ZQo+IC0gICAgb3B0aW9ucy5pbnNl
cnQoLS1vcHRpb25zLmVuZCgpLCBDb25jcmV0ZUNvbmZpZ3VyZU9wdGlvbihuYW1lLCB2YWx1ZSkp
Owo+IC19Cj4gLQo+ICAgdm9pZCBDb25jcmV0ZUFnZW50OjpMb2FkUGx1Z2lucyhjb25zdCBzdGQ6
OnN0cmluZyAmZGlyZWN0b3J5KQo+ICAgewo+ICAgICAgIHN0ZDo6c3RyaW5nIHBhdHRlcm4gPSBk
aXJlY3RvcnkgKyAiLyouc28iOwo+IGRpZmYgLS1naXQgYS9zcmMvY29uY3JldGUtYWdlbnQuaHBw
IGIvc3JjL2NvbmNyZXRlLWFnZW50LmhwcAo+IGluZGV4IDk5ZGNmNTQuLjJjMmViYzggMTAwNjQ0
Cj4gLS0tIGEvc3JjL2NvbmNyZXRlLWFnZW50LmhwcAo+ICsrKyBiL3NyYy9jb25jcmV0ZS1hZ2Vu
dC5ocHAKPiBAQCAtMjYsMTIgKzI2LDEwIEBAIHN0cnVjdCBDb25jcmV0ZUNvbmZpZ3VyZU9wdGlv
bjogQ29uZmlndXJlT3B0aW9uCj4gICBjbGFzcyBDb25jcmV0ZUFnZW50IGZpbmFsIDogcHVibGlj
IEFnZW50Cj4gICB7Cj4gICBwdWJsaWM6Cj4gLSAgICBDb25jcmV0ZUFnZW50KCk7Cj4gKyAgICBD
b25jcmV0ZUFnZW50KGNvbnN0IHN0ZDo6dmVjdG9yPENvbmNyZXRlQ29uZmlndXJlT3B0aW9uPiAm
b3B0aW9ucyk7Cj4gICAgICAgdm9pZCBSZWdpc3Rlcihjb25zdCBzdGQ6OnNoYXJlZF9wdHI8UGx1
Z2luPiYgcGx1Z2luKSBvdmVycmlkZTsKPiAgICAgICBjb25zdCBDb25maWd1cmVPcHRpb24qIE9w
dGlvbnMoKSBjb25zdCBvdmVycmlkZTsKPiAgICAgICB2b2lkIExvYWRQbHVnaW5zKGNvbnN0IHN0
ZDo6c3RyaW5nICZkaXJlY3RvcnkpOwo+IC0gICAgLy8gcG9pbnRlciBtdXN0IHJlbWFpbiB2YWxp
ZAo+IC0gICAgdm9pZCBBZGRPcHRpb24oY29uc3QgY2hhciAqbmFtZSwgY29uc3QgY2hhciAqdmFs
dWUpOwo+ICAgICAgIEZyYW1lQ2FwdHVyZSAqR2V0QmVzdEZyYW1lQ2FwdHVyZShjb25zdCBzdGQ6
OnNldDxTcGljZVZpZGVvQ29kZWNUeXBlPiYgY29kZWNzKTsKPiAgIHByaXZhdGU6Cj4gICAgICAg
Ym9vbCBQbHVnaW5WZXJzaW9uSXNDb21wYXRpYmxlKHVuc2lnbmVkIHBsdWdpblZlcnNpb24pIGNv
bnN0Owo+IGRpZmYgLS1naXQgYS9zcmMvc3BpY2Utc3RyZWFtaW5nLWFnZW50LmNwcCBiL3NyYy9z
cGljZS1zdHJlYW1pbmctYWdlbnQuY3BwCj4gaW5kZXggOTUwN2E1NC4uMDM5ZDYyOCAxMDA2NDQK
PiAtLS0gYS9zcmMvc3BpY2Utc3RyZWFtaW5nLWFnZW50LmNwcAo+ICsrKyBiL3NyYy9zcGljZS1z
dHJlYW1pbmctYWdlbnQuY3BwCj4gQEAgLTQxLDggKzQxLDYgQEAKPiAgIAo+ICAgdXNpbmcgbmFt
ZXNwYWNlIHNwaWNlOjpzdHJlYW1pbmdfYWdlbnQ7Cj4gICAKPiAtc3RhdGljIENvbmNyZXRlQWdl
bnQgYWdlbnQ7Cj4gLQo+ICAgY2xhc3MgRm9ybWF0TWVzc2FnZSA6IHB1YmxpYyBPdXRib3VuZE1l
c3NhZ2U8U3RyZWFtTXNnRm9ybWF0LCBGb3JtYXRNZXNzYWdlLCBTVFJFQU1fVFlQRV9GT1JNQVQ+
Cj4gICB7Cj4gICBwdWJsaWM6Cj4gQEAgLTIzMSw3ICsyMjksNyBAQCBzdGF0aWMgdm9pZCB1c2Fn
ZShjb25zdCBjaGFyICpwcm9nbmFtZSkKPiAgIH0KPiAgIAo+ICAgc3RhdGljIHZvaWQKPiAtZG9f
Y2FwdHVyZShTdHJlYW1Qb3J0ICZzdHJlYW1fcG9ydCwgRnJhbWVMb2cgJmZyYW1lX2xvZykKPiAr
ZG9fY2FwdHVyZShTdHJlYW1Qb3J0ICZzdHJlYW1fcG9ydCwgRnJhbWVMb2cgJmZyYW1lX2xvZywg
Q29uY3JldGVBZ2VudCAmYWdlbnQpCj4gICB7Cj4gICAgICAgdW5zaWduZWQgaW50IGZyYW1lX2Nv
dW50ID0gMDsKPiAgICAgICB3aGlsZSAoIXF1aXRfcmVxdWVzdGVkKSB7Cj4gQEAgLTM1Myw2ICsz
NTEsOCBAQCBpbnQgbWFpbihpbnQgYXJnYywgY2hhciogYXJndltdKQo+ICAgCj4gICAgICAgc2V0
bG9nbWFzayhMT0dfVVBUTyhMT0dfTk9USUNFKSk7Cj4gICAKPiArICAgIHN0ZDo6dmVjdG9yPENv
bmNyZXRlQ29uZmlndXJlT3B0aW9uPiBvcHRpb25zOwo+ICsKPiAgICAgICB3aGlsZSAoKG9wdCA9
IGdldG9wdF9sb25nKGFyZ2MsIGFyZ3YsICJocDpjOmw6ZCIsIGxvbmdfb3B0aW9ucywgTlVMTCkp
ICE9IC0xKSB7Cj4gICAgICAgICAgIHN3aXRjaCAob3B0KSB7Cj4gICAgICAgICAgIGNhc2UgMDoK
PiBAQCAtMzcxLDcgKzM3MSw3IEBAIGludCBtYWluKGludCBhcmdjLCBjaGFyKiBhcmd2W10pCj4g
ICAgICAgICAgICAgICAgICAgdXNhZ2UoYXJndlswXSk7Cj4gICAgICAgICAgICAgICB9Cj4gICAg
ICAgICAgICAgICAqcCsrID0gJ1wwJzsKPiAtICAgICAgICAgICAgYWdlbnQuQWRkT3B0aW9uKG9w
dGFyZywgcCk7Cj4gKyAgICAgICAgICAgIG9wdGlvbnMucHVzaF9iYWNrKENvbmNyZXRlQ29uZmln
dXJlT3B0aW9uKG9wdGFyZywgcCkpOwo+ICAgICAgICAgICAgICAgYnJlYWs7Cj4gICAgICAgICAg
IH0KPiAgICAgICAgICAgY2FzZSBPUFRfTE9HX0JJTkFSWToKPiBAQCAtNDAxLDYgKzQwMSw4IEBA
IGludCBtYWluKGludCBhcmdjLCBjaGFyKiBhcmd2W10pCj4gICAgICAgcmVnaXN0ZXJfaW50ZXJy
dXB0cygpOwo+ICAgCj4gICAgICAgdHJ5IHsKPiArICAgICAgICBDb25jcmV0ZUFnZW50IGFnZW50
KG9wdGlvbnMpOwo+ICsKPiAgICAgICAgICAgLy8gcmVnaXN0ZXIgYnVpbHQtaW4gcGx1Z2lucwo+
ICAgICAgICAgICBNanBlZ1BsdWdpbjo6UmVnaXN0ZXIoJmFnZW50KTsKPiAgIAo+IEBAIC00MTgs
NyArNDIwLDcgQEAgaW50IG1haW4oaW50IGFyZ2MsIGNoYXIqIGFyZ3ZbXSkKPiAgICAgICAgICAg
c3RkOjp0aHJlYWQgY3Vyc29yX3VwZGF0ZXJ7Q3Vyc29yVXBkYXRlcigmc3RyZWFtX3BvcnQpfTsK
PiAgICAgICAgICAgY3Vyc29yX3VwZGF0ZXIuZGV0YWNoKCk7Cj4gICAKPiAtICAgICAgICBkb19j
YXB0dXJlKHN0cmVhbV9wb3J0LCBmcmFtZV9sb2cpOwo+ICsgICAgICAgIGRvX2NhcHR1cmUoc3Ry
ZWFtX3BvcnQsIGZyYW1lX2xvZywgYWdlbnQpOwo+ICAgICAgIH0KPiAgICAgICBjYXRjaCAoc3Rk
OjpleGNlcHRpb24gJmVycikgewo+ICAgICAgICAgICBzeXNsb2coTE9HX0VSUiwgIiVzIiwgZXJy
LndoYXQoKSk7Cj4gCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0
b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3Bp
Y2UtZGV2ZWw=
