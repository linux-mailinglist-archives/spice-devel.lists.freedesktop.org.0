Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 813857515C
	for <lists+spice-devel@lfdr.de>; Thu, 25 Jul 2019 16:37:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 01A626E428;
	Thu, 25 Jul 2019 14:37:55 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-io1-xd41.google.com (mail-io1-xd41.google.com
 [IPv6:2607:f8b0:4864:20::d41])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C83046E428
 for <spice-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 14:37:53 +0000 (UTC)
Received: by mail-io1-xd41.google.com with SMTP id e20so67328927iob.9
 for <spice-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 07:37:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=i8uyKo2051xJW0NzfQE+q66ensTIsmgYnUy3nBhKA5Q=;
 b=knYWnR7pwknuG6iB4Sb3gqR6/DzsJXjSxc1ALWW6RrC0BcvjVpIs/eOlZEnlJ3WPQp
 NunHmukwMQsz9wdgrSXL8fwoEDN7fGurUHP5DK1VT2/J5u/4lqCdmUEhkL0gYJFCqcws
 STBSk3+rrj6+wKSV7X/9o937tj5BP1St3/aL9jaYHGFbj2JFUTR5ZZZBxdnysUPwz+Th
 BKUiSNzburQQlrUULgLqKh1NW+oGQcClsRQWJP7GBIJPLnpBJvoIcP4v1/eygyIn15c+
 9B9UN0PBpeaYp4auBgUfehOt5OPeOjYP3H45hV2wLNttdi6Fso/WRXmtYLJxp5jt84iK
 XA6A==
X-Gm-Message-State: APjAAAWsWSwAw+UmDLnfBD9XLFhZG4SL19fFp7kVNDyfvWuk8fX6Dq5p
 HJO1VMfE7h1EftEY25vksDzxvkYaKVmvvBQj1Qg=
X-Google-Smtp-Source: APXvYqxWeTtcq1XDeLLFEsOsQcbSflE0txJEj2z5swjgfJcCbBCGw/F3ZiOYjAOscdy4ZVoMweBFk5gBYNwjTjHrJ+4=
X-Received: by 2002:a5d:8252:: with SMTP id n18mr14286446ioo.230.1564065472944; 
 Thu, 25 Jul 2019 07:37:52 -0700 (PDT)
MIME-Version: 1.0
References: <20190724105351.13753-1-yuri.benditovich@daynix.com>
 <20190724105351.13753-2-yuri.benditovich@daynix.com>
 <204769724.2953329.1564045041460.JavaMail.zimbra@redhat.com>
In-Reply-To: <204769724.2953329.1564045041460.JavaMail.zimbra@redhat.com>
From: Yuri Benditovich <yuri.benditovich@daynix.com>
Date: Thu, 25 Jul 2019 17:37:39 +0300
Message-ID: <CAOEp5Oc5GC+BhK=HL+WS5DTCBfCsVr6H3YDbYgvO4YQZJurL2A@mail.gmail.com>
To: Frediano Ziglio <fziglio@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=i8uyKo2051xJW0NzfQE+q66ensTIsmgYnUy3nBhKA5Q=;
 b=gi3MfKY0HiZqizokUMsmT14nytsQTu1iF24ouxne/L2tMfDvbBlGofz4rk/zSgXyD3
 /E5QPqPOhwLrVXeLxvikILYqO9XuMEAkmRnJL9WidtpaWUR6qZ6gyC08PjQzPzH/dgSa
 MzyGnD/9jAvKvl4s2UAOcB+AdU0dbsbnf45335zIi70WosDv02heRBgq6dO4XIHDIj1p
 5Rel5y0l5a+lyPR4xjP7UBPeqlOwkMRoSe5rIroR8MG3S2U+45CVVyTLwPKsYzCenuRe
 Slnc81JBV9Jdht882caAh2YAa5gKRnmU8M1jLTyx43tSFOixVhv5lMgTGyIsnAgNMw1c
 8Snw==
Subject: Re: [Spice-devel] [spice-gtk 1/9] usb-redir: define interfaces to
 support emulated devices
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Yan Vugenfirer <yan@daynix.com>,
 Spice List <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBKdWwgMjUsIDIwMTkgYXQgMTE6NTcgQU0gRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlv
QHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gPgo+ID4gU3BpY2VVc2JCYWNrZW5kRGV2aWNlIHN0cnVj
dHVyZSBpcyBleHRlbmRlZCB0byBzdXBwb3J0Cj4gPiBhZGRpdGlvbmFsIGtpbmQgb2YgZGV2aWNl
IHRoYXQgaXMgZW11bGF0ZWQgYnkgU3BpY2UtR1RLCj4gPiBhbmQgbm90IHByZXNlbnQgbG9jYWxs
eSAoYW5kIGRvZXMgbm90IGhhdmUgbGlidXNiX2RldmljZSksCj4gPiBzdWNoIGRldmljZSBoYXMg
aW5zdGVhZCBwb2ludGVyIHRvIFNwaWNlVXNiRW11bGF0ZWREZXZpY2UKPiA+IGFic3RyYWN0IHN0
cnVjdHVyZS4gU3BlY2lmaWMgaW1wbGVtZW50YXRpb24gb2Ygc3VjaCBkZXZpY2UKPiA+IGRlcGVu
ZHMgb24gaXRzIGRldmljZSB0eXBlIChjdXJyZW50bHkgb25seSAnQ0QgZGV2aWNlJwo+ID4gZGVm
aW5lZCkuIEltcGxlbWVudGF0aW9uIG1vZHVsZSByZWdpc3RlcnMgY29uc3RydWN0b3IgZm9yCj4g
PiB0aGlzIGRldmljZSB0eXBlLiBEZXZpY2Ugc3RydWN0dXJlIGlzIGFic3RyYWN0IGJ1dCBhbHdh
eXMKPiA+IHN0YXJ0cyBmcm9tIHRhYmxlIG9mIHZpcnR1YWwgZnVuY3Rpb25zIHJlcXVpcmVkIHRv
IHJlZGlyZWN0Cj4gPiBzdWNoIHZpcnR1YWwgZGV2aWNlLgo+ID4KPiA+IFNpZ25lZC1vZmYtYnk6
IFl1cmkgQmVuZGl0b3ZpY2ggPHl1cmkuYmVuZGl0b3ZpY2hAZGF5bml4LmNvbT4KPiA+IC0tLQo+
ID4gIHNyYy9tZXNvbi5idWlsZCAgICAgfCAgIDEgKwo+ID4gIHNyYy91c2ItYmFja2VuZC5jICAg
fCAxMjggKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0KPiA+ICBz
cmMvdXNiLWJhY2tlbmQuaCAgIHwgIDM2ICsrKysrKysrKysrKy0KPiA+ICBzcmMvdXNiLWVtdWxh
dGlvbi5oIHwgIDg4ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ID4gIDQgZmlsZXMg
Y2hhbmdlZCwgMjUwIGluc2VydGlvbnMoKyksIDMgZGVsZXRpb25zKC0pCj4gPiAgY3JlYXRlIG1v
ZGUgMTAwNjQ0IHNyYy91c2ItZW11bGF0aW9uLmgKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvc3JjL21l
c29uLmJ1aWxkIGIvc3JjL21lc29uLmJ1aWxkCj4gPiBpbmRleCBhZGNmYWVjLi40OWZlYzUyIDEw
MDY0NAo+ID4gLS0tIGEvc3JjL21lc29uLmJ1aWxkCj4gPiArKysgYi9zcmMvbWVzb24uYnVpbGQK
PiA+IEBAIC0xMjIsNiArMTIyLDcgQEAgc3BpY2VfY2xpZW50X2dsaWJfc291cmNlcyA9IFsKPiA+
ICAgICd1c2J1dGlsLmMnLAo+ID4gICAgJ3VzYnV0aWwuaCcsCj4gPiAgICAndXNiLWJhY2tlbmQu
YycsCj4gPiArICAndXNiLWVtdWxhdGlvbi5oJywKPiA+ICAgICd1c2ItYmFja2VuZC5oJywKPiA+
ICAgICd2bWNzdHJlYW0uYycsCj4gPiAgICAndm1jc3RyZWFtLmgnLAo+ID4gZGlmZiAtLWdpdCBh
L3NyYy91c2ItYmFja2VuZC5jIGIvc3JjL3VzYi1iYWNrZW5kLmMKPiA+IGluZGV4IDlhYzg1OTUu
LjBiZjJlY2MgMTAwNjQ0Cj4gPiAtLS0gYS9zcmMvdXNiLWJhY2tlbmQuYwo+ID4gKysrIGIvc3Jj
L3VzYi1iYWNrZW5kLmMKPiA+IEBAIC0zOSw2ICszOSw3IEBACj4gPiAgI2luY2x1ZGUgInVzYnJl
ZGlycGFyc2VyLmgiCj4gPiAgI2luY2x1ZGUgInNwaWNlLXV0aWwuaCIKPiA+ICAjaW5jbHVkZSAi
dXNiLWJhY2tlbmQuaCIKPiA+ICsjaW5jbHVkZSAidXNiLWVtdWxhdGlvbi5oIgo+ID4gICNpbmNs
dWRlICJjaGFubmVsLXVzYnJlZGlyLXByaXYuaCIKPiA+ICAjaW5jbHVkZSAic3BpY2UtY2hhbm5l
bC1wcml2LmgiCj4gPgo+ID4gQEAgLTQ3LDYgKzQ4LDcgQEAKPiA+ICBzdHJ1Y3QgX1NwaWNlVXNi
QmFja2VuZERldmljZQo+ID4gIHsKPiA+ICAgICAgbGlidXNiX2RldmljZSAqbGlidXNiX2Rldmlj
ZTsKPiA+ICsgICAgU3BpY2VVc2JFbXVsYXRlZERldmljZSAqZWRldjsKPgo+IEkgc3VzcGVjdCBv
bmx5IG9uZSBvZiB0aGVzZSAyIGZpZWxkcyBhcmUgdmFsaWQsIG9yIGRldmljZQo+IGlzIGVtdWxh
dGVkIG9yIGlzIGEgcmVhbCBvbmUsIHJpZ2h0Pwo+IEEgY29tbWVudCBhYm91dCBpdCBsaWtlCj4K
PiAgICAvKiBQb2ludGVyIHRvIGRldmljZS4gRWl0aGVyIHJlYWwgZGV2aWNlIChsaWJ1c2JfZGV2
aWNlKQo+ICAgICAqIG9yIGVtdWxhdGVkIG9uZSAoZWRldikgKi8KPiAgICBsaWJ1c2JfZGV2aWNl
ICpsaWJ1c2JfZGV2aWNlOwo+ICAgIFNwaWNlVXNiRW11bGF0ZWREZXZpY2UgKmVkZXY7Cj4KPiBo
b25lc3RseSAiZWRldiIgbG9va3MgYSBiaXQgdG9vIHNob3J0ZW4sIGFsc28gY29tcGFyZWQgdG8K
PiAibGlidXNiX2RldmljZSIsIG1heWJlICJlbXVfZGV2IiA/CgpGb3IgbWUgaXQganVzdCBsb29r
cyBleGNlbGxlbnQgYW5kIG5vdCBzaW1pbGFyIHRvIGFueSBvdGhlciBmaWVsZC4KCj4KPgo+ID4g
ICAgICBnaW50IHJlZl9jb3VudDsKPiA+ICAgICAgU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCAqYXR0
YWNoZWRfdG87Cj4gPiAgICAgIFVzYkRldmljZUluZm9ybWF0aW9uIGRldmljZV9pbmZvOwo+ID4g
QEAgLTY2LDYgKzY4LDkgQEAgc3RydWN0IF9TcGljZVVzYkJhY2tlbmQKPiA+ICAgICAgbGlidXNi
X2RldmljZSAqKmxpYnVzYl9kZXZpY2VfbGlzdDsKPiA+ICAgICAgZ2ludCByZWRpcmVjdGluZzsK
PiA+ICAjZW5kaWYKPiA+ICsKPiA+ICsgICAgU3BpY2VVc2JFbXVsYXRlZERldmljZUNyZWF0ZSBk
ZXZfaW5pdFtVU0JfREVWX1RZUEVfTUFYXTsKPiA+ICsgICAgdWludDMyX3Qgb3duX2RldmljZXNf
bWFzazsKPgo+IEl0IHRvb2sgYSBiaXQgb2YgdGltZSB0byB1bmRlcnN0YW5kIHdoYXQgaXMgdGhp
cy4KPiBMb29rcyBsaWtlIGl0J3MgYSBzb3J0IG9mIGJpdCBhcnJheSBvZiBhbGxvY2F0ZWQgZGV2
aWNlcy4KPiBJcyB0aGUgImFkZHJlc3MiIGxpbWl0ZWQgdG8gMzIgYnkgVVNCIHNwZWNpZmljYXRp
b24gb3IgaXMgYSBjb2RlCj4gbGltaXRhdGlvbj8KPgoKQ3VycmVudCBjb2RlIGxpbWl0YXRpb24u
IEkgZG8gbm90IHNlZSB3ZSBjdXJyZW50bHkgbmVlZCBtb3JlIHRoYW4gMzAuCgo+IEkgd291bGQg
YWRkIGEgY29tbWVudCBsaWtlCj4KPiAgIC8qIE1hc2sgb2YgYWxsb2NhdGVkIGRldmljZSwgcmVs
YXRpdmUgYml0IHNldCB0byAxIGluZGljYXRlIGFsbG9jYXRlZCAqLwo+ICAgdWludDMyX3Qgb3du
X2RldmljZXNfbWFzazsKPgo+ID4gIH07Cj4gPgo+ID4gIHN0cnVjdCBfU3BpY2VVc2JCYWNrZW5k
Q2hhbm5lbAo+ID4gQEAgLTQwOCw2ICs0MTMsNyBAQCBTcGljZVVzYkJhY2tlbmQgKnNwaWNlX3Vz
Yl9iYWNrZW5kX25ldyhHRXJyb3IgKiplcnJvcikKPiA+ICAgICAgICAgIGxpYnVzYl9zZXRfb3B0
aW9uKGJlLT5saWJ1c2JfY29udGV4dCwgTElCVVNCX09QVElPTl9VU0VfVVNCREspOwo+ID4gICNl
bmRpZgo+ID4gICNlbmRpZgo+ID4gKyAgICAgICAgYmUtPm93bl9kZXZpY2VzX21hc2sgPSAzOyAv
KiBleGNsdWRlIGFkZHJlc3NlcyAwIGFuZCAxICovCj4KPiBXaHkgdGhlc2UgYXJlIHJlc2VydmVk
PyBVU0Igc3BlY2lmaWNhdGlvbj8KCjAgaXMgcmVzZXJ2ZWQsIDEgaXMgcm9vdCBodWIKT2YgY291
c2Ugd2Ugc3RpbGwgY2FuIHVzZSB0aGVtIGZvciBlbXVsYXRlZCBkZXZpY2VzIGJ1dCBiZXR0ZXIg
dG8ga2VlcAppdCBjb25zaXN0ZW50IHdpdGggcmVhbCBkZXZpY2VzLgoKPgo+ID4gICAgICB9Cj4g
PiAgICAgIFNQSUNFX0RFQlVHKCIlcyA8PCIsIF9fRlVOQ1RJT05fXyk7Cj4gPiAgICAgIHJldHVy
biBiZTsKPiA+IEBAIC01MjQsOCArNTMwLDEyIEBAIHZvaWQKPiA+IHNwaWNlX3VzYl9iYWNrZW5k
X2RldmljZV91bnJlZihTcGljZVVzYkJhY2tlbmREZXZpY2UgKmRldikKPiA+ICB7Cj4gPiAgICAg
IExPVURfREVCVUcoIiVzID4+ICVwKCVkKSIsIF9fRlVOQ1RJT05fXywgZGV2LCBkZXYtPnJlZl9j
b3VudCk7Cj4gPiAgICAgIGlmIChnX2F0b21pY19pbnRfZGVjX2FuZF90ZXN0KCZkZXYtPnJlZl9j
b3VudCkpIHsKPiA+IC0gICAgICAgIGxpYnVzYl91bnJlZl9kZXZpY2UoZGV2LT5saWJ1c2JfZGV2
aWNlKTsKPiA+IC0gICAgICAgIExPVURfREVCVUcoIiVzIGZyZWVpbmcgJXAgKGxpYnVzYiAlcCki
LCBfX0ZVTkNUSU9OX18sIGRldiwKPiA+IGRldi0+bGlidXNiX2RldmljZSk7Cj4gPiArICAgICAg
ICBpZiAoZGV2LT5saWJ1c2JfZGV2aWNlKSB7Cj4gPiArICAgICAgICAgICAgbGlidXNiX3VucmVm
X2RldmljZShkZXYtPmxpYnVzYl9kZXZpY2UpOwo+ID4gKyAgICAgICAgICAgIExPVURfREVCVUco
IiVzIGZyZWVpbmcgJXAgKGxpYnVzYiAlcCkiLCBfX0ZVTkNUSU9OX18sIGRldiwKPiA+IGRldi0+
bGlidXNiX2RldmljZSk7Cj4gPiArICAgICAgICB9IGVsc2UgaWYgKGRldi0+ZWRldikgewo+ID4g
KyAgICAgICAgICAgIGRldmljZV9vcHMoZGV2LT5lZGV2KS0+ZGVsZXRlKGRldi0+ZWRldik7Cj4g
PiArICAgICAgICB9Cj4KPiBBbHRob3VnaCBvbmx5IG9uZSBzaG91bGQgYmUgTlVMTCBJIHdvdWxk
IHRyeSB0byBkZWxldGUgYm90aC4KPiBJIHdvdWxkIGFsc28gYXZvaWQgdGhlIEMrKyByZXNlcnZl
ZCBrZXl3b3JkICJkZWxldGUiLiBBbHNvIGJlY2F1c2UKPiBmb3IgdGhlIHNhbWUgcHVycG9zZSB3
ZSB3ZSB1c2UgImZyZWUiIG9yICJ1bnJlZiIgKHRoaXMgZnVuY3Rpb24KPiBpcyBzcGljZV91c2Jf
YmFja2VuZF9kZXZpY2VfdW5yZWYgZm9yIGluc3RhbmNlLCBhYm92ZSB0aGVyZSdzCj4gYSBjYWxs
IHRvIGxpYnVzYl91bnJlZl9kZXZpY2UpLgo+Cj4gPiAgICAgICAgICBnX2ZyZWUoZGV2KTsKPiA+
ICAgICAgfQo+ID4gIH0KPiA+IEBAIC04MjQsNCArODM0LDExOCBAQAo+ID4gc3BpY2VfdXNiX2Jh
Y2tlbmRfY2hhbm5lbF9nZXRfZ3Vlc3RfZmlsdGVyKFNwaWNlVXNiQmFja2VuZENoYW5uZWwgKmNo
LAo+ID4gICAgICB9Cj4gPiAgfQo+ID4KPiA+ICtnY2hhciAqIHNwaWNlX3VzYl9iYWNrZW5kX2Rl
dmljZV9kZXNjcmlwdGlvbihTcGljZVVzYkJhY2tlbmREZXZpY2UgKmRldiwKPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBnY2hhciAqZm9ybWF0
KQo+ID4gK3sKPiA+ICsgICAgaWYgKCFkZXYtPmVkZXYpIHsKPiA+ICsgICAgICAgIHJldHVybiBn
X3N0cmR1cCgiTm90IGF2YWlsYWJsZSBmb3IgbGlidXNiIGRldmljZXMiKTsKPiA+ICsgICAgfQo+
ID4gKyAgICBnY2hhciAqZGVzY3JpcHRpb24sICpkZXNjcmlwdG9yLCAqcHJvZHVjdDsKPiA+ICsg
ICAgZGVzY3JpcHRvciA9IGdfc3RyZHVwX3ByaW50ZigiWyUwNHg6JTA0eF0iLCBkZXYtPmRldmlj
ZV9pbmZvLnZpZCwKPiA+IGRldi0+ZGV2aWNlX2luZm8ucGlkKTsKPiA+ICsgICAgcHJvZHVjdCA9
IGRldmljZV9vcHMoZGV2LT5lZGV2KS0+Z2V0X3Byb2R1Y3RfZGVzY3JpcHRpb24oZGV2LT5lZGV2
KTsKPiA+ICsgICAgZGVzY3JpcHRpb24gPSBnX3N0cmR1cF9wcmludGYoZm9ybWF0LCAiIiwgcHJv
ZHVjdCwgZGVzY3JpcHRvciwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ZGV2LT5kZXZpY2VfaW5mby5idXMsCj4gPiBkZXYtPmRldmljZV9pbmZvLmFkZHJlc3MpOwo+Cj4g
Tm90IGEgYmlnIGZ1biBvZiBoYXZpbmcgdGhlIGZvcm1hdCBub3QgY29uc3RhbnQuIENvbXBpbGVy
IGNhbiBkbwo+IG1hZ2ljIHdpdGggYSBjb25zdGFudCB3aGlsZSBtYW55IHNhZmV0eSBjaGVja3Mg
YXJlIG5vdCBwb3NzaWJsZSBpZgo+IHRoaXMgaXMgbm90IGNvbnN0YW50LgoKRXhhY3RseSBhcyBp
bgpodHRwczovL2dpdGxhYi5mcmVlZGVza3RvcC5vcmcvc3BpY2Uvc3BpY2UtZ3RrL2Jsb2IvbWFz
dGVyL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYyNMMTQ2MAoKPgo+ID4gKyAgICBnX2ZyZWUoZGVz
Y3JpcHRvcik7Cj4gPiArICAgIGdfZnJlZShwcm9kdWN0KTsKPiA+ICsgICAgcmV0dXJuIGRlc2Ny
aXB0aW9uOwo+ID4gK30KPiA+ICsKPiA+ICt2b2lkIHNwaWNlX3VzYl9iYWNrZW5kX3JlZ2lzdGVy
X2RldmljZV90eXBlKFNwaWNlVXNiQmFja2VuZCAqYmUsCj4gPiArICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBVc2JFbXVsYXRlZERldmljZVR5cGUgZGV2X3R5cGUs
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVVz
YkVtdWxhdGVkRGV2aWNlQ3JlYXRlCj4gPiBpbml0X3Byb2MpCj4gPiArewo+ID4gKyAgICBpZiAo
ZGV2X3R5cGUgPj0gVVNCX0RFVl9UWVBFX01BWCkgewo+ID4gKyAgICAgICAgZ19yZXR1cm5faWZf
cmVhY2hlZCgpOwo+ID4gKyAgICB9Cj4gPiArICAgIGJlLT5kZXZfaW5pdFtkZXZfdHlwZV0gPSBp
bml0X3Byb2M7Cj4gPiArfQo+ID4gKwo+ID4gK3ZvaWQgc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNl
X3JlcG9ydF9jaGFuZ2UoU3BpY2VVc2JCYWNrZW5kICpiZSwKPiA+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNwaWNlVXNiQmFja2VuZERldmljZSAqZGV2KQo+
ID4gK3sKPiA+ICsgICAgZ2NoYXIgKmRlc2M7Cj4gPiArICAgIGdfcmV0dXJuX2lmX2ZhaWwoZGV2
ICYmIGRldi0+ZWRldik7Cj4gPiArCj4gPiArICAgIGRlc2MgPSBkZXZpY2Vfb3BzKGRldi0+ZWRl
diktPmdldF9wcm9kdWN0X2Rlc2NyaXB0aW9uKGRldi0+ZWRldik7Cj4gPiArICAgIFNQSUNFX0RF
QlVHKCIlczogJXMiLCBfX0ZVTkNUSU9OX18sIGRlc2MpOwo+ID4gKyAgICBnX2ZyZWUoZGVzYyk7
Cj4gPiArfQo+ID4gKwo+ID4gK3ZvaWQgc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX2VqZWN0KFNw
aWNlVXNiQmFja2VuZCAqYmUsCj4gPiBTcGljZVVzYkJhY2tlbmREZXZpY2UgKmRldikKPiA+ICt7
Cj4gPiArICAgIGdfcmV0dXJuX2lmX2ZhaWwoZGV2ICYmIGRldi0+ZWRldik7Cj4gPiArCj4gPiAr
ICAgIGlmIChiZS0+aG90cGx1Z19jYWxsYmFjaykgewo+ID4gKyAgICAgICAgYmUtPmhvdHBsdWdf
Y2FsbGJhY2soYmUtPmhvdHBsdWdfdXNlcl9kYXRhLCBkZXYsIEZBTFNFKTsKPiA+ICsgICAgfQo+
ID4gKyAgICBzcGljZV91c2JfYmFja2VuZF9kZXZpY2VfdW5yZWYoZGV2KTsKPiA+ICt9Cj4gPiAr
Cj4gPiArZ2Jvb2xlYW4gc3BpY2VfdXNiX2JhY2tlbmRfY3JlYXRlX2RldmljZShTcGljZVVzYkJh
Y2tlbmQgKmJlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
VXNiRW11bGF0ZWREZXZpY2VUeXBlIGRldl90eXBlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgVXNiQ3JlYXRlRGV2aWNlUGFyYW1ldGVycyAqcGFyYW0pCj4g
PiArewo+ID4gKyAgICBTcGljZVVzYkVtdWxhdGVkRGV2aWNlICplZGV2ID0gTlVMTDsKPiA+ICsg
ICAgU3BpY2VVc2JCYWNrZW5kRGV2aWNlICAqZGV2Owo+ID4gKyAgICBzdHJ1Y3QgbGlidXNiX2Rl
dmljZV9kZXNjcmlwdG9yICpkZXNjOwo+ID4gKyAgICB1aW50MTZfdCBkZXZpY2VfZGVzY19zaXpl
Owo+ID4gKyAgICB1aW50OF90IGFkZHJlc3MgPSAwOwo+ID4gKwo+ID4gKyAgICBpZiAoZGV2X3R5
cGUgPj0gVVNCX0RFVl9UWVBFX01BWCB8fCAhYmUtPmRldl9pbml0W2Rldl90eXBlXSkgewo+ID4g
KyAgICAgICAgcGFyYW0tPmVycm9yID0gZ19lcnJvcl9uZXcoU1BJQ0VfQ0xJRU5UX0VSUk9SLAo+
ID4gU1BJQ0VfQ0xJRU5UX0VSUk9SX0ZBSUxFRCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIF8oImNhbid0IGNyZWF0ZSBkZXZpY2UgLSBub3QKPiA+IHN1cHBvcnRlZCIp
KTsKPgo+IFN1cmUgeW91IGRvbid0IHdhbnQgZ19lcnJvcl9zZXQgaW5zdGVhZD8gVGhpcyBjb2Rl
IGlzIGFsd2F5cwo+IGFzc3VtaW5nIHRoYXQgcGFyYW0tPmVycm9yIGlzIE5VTEwuCgpFdmVuIGlm
IHBhcmFtLT5lcnJvciBpcyBub3QgaW5pdGlhbGl6ZWQgb24gZW50cnkgdG8gdGhlIGZ1bmN0aW9u
CihhbHRob3VnaCBpdCBpcyksIGl0IHdpbGwgYmUgaW5pdGlhbGl6ZWQgaW4gY2FzZSBvZiBlcnJv
cgoKPgo+ID4gKyAgICAgICAgcmV0dXJuIEZBTFNFOwo+ID4gKyAgICB9Cj4gPiArCj4gPiArICAg
IGlmIChiZS0+b3duX2RldmljZXNfbWFzayA9PSAweGZmZmZmZmZmKSB7Cj4gPiArICAgICAgICBw
YXJhbS0+ZXJyb3IgPSBnX2Vycm9yX25ldyhTUElDRV9DTElFTlRfRVJST1IsCj4gPiBTUElDRV9D
TElFTlRfRVJST1JfRkFJTEVELAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgXygiY2FuJ3QgY3JlYXRlIGRldmljZSAtIGxpbWl0Cj4gPiByZWFjaGVkIikpOwo+ID4gKyAg
ICAgICAgcmV0dXJuIEZBTFNFOwo+ID4gKyAgICB9Cj4gPiArICAgIGZvciAoYWRkcmVzcyA9IDA7
IGFkZHJlc3MgPCAzMjsgKythZGRyZXNzKSB7Cj4gPiArICAgICAgICBpZiAofmJlLT5vd25fZGV2
aWNlc19tYXNrICYgKDEgPDwgYWRkcmVzcykpIHsKPiA+ICsgICAgICAgICAgICBicmVhazsKPiA+
ICsgICAgICAgIH0KPiA+ICsgICAgfQo+ID4gKwo+ID4gKyAgICBkZXYgPSBnX25ldzAoU3BpY2VV
c2JCYWNrZW5kRGV2aWNlLCAxKTsKPiA+ICsKPiA+ICsgICAgcGFyYW0tPmFkZHJlc3MgPSBhZGRy
ZXNzOwo+ID4gKyAgICBpZiAoYmUtPmRldl9pbml0W2Rldl90eXBlXShiZSwgZGV2LCBwYXJhbSwg
JmVkZXYpKSB7Cj4gPiArICAgICAgICBnX2ZyZWUoZGV2KTsKPiA+ICsgICAgICAgIHJldHVybiBG
QUxTRTsKPiA+ICsgICAgfQo+ID4gKwo+ID4gKyAgICBpZiAoIWRldmljZV9vcHMoZWRldiktPmdl
dF9kZXNjcmlwdG9yKGVkZXYsIExJQlVTQl9EVF9ERVZJQ0UsIDAsCj4gPiArICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHZvaWQgKiopJmRlc2MsICZkZXZpY2VfZGVz
Y19zaXplKQo+ID4gKyAgICAgICAgfHwgZGV2aWNlX2Rlc2Nfc2l6ZSAhPSBzaXplb2YoKmRlc2Mp
KSB7Cj4gPiArCj4gPiArICAgICAgICBkZXZpY2Vfb3BzKGVkZXYpLT5kZWxldGUoZWRldik7Cj4g
PiArICAgICAgICBnX2ZyZWUoZGV2KTsKPiA+ICsgICAgICAgIHBhcmFtLT5lcnJvciA9IGdfZXJy
b3JfbmV3KFNQSUNFX0NMSUVOVF9FUlJPUiwKPiA+IFNQSUNFX0NMSUVOVF9FUlJPUl9GQUlMRUQs
Cj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfKCJjYW4ndCBjcmVhdGUg
ZGV2aWNlIC0gaW50ZXJuYWwKPiA+IGVycm9yIikpOwo+ID4gKyAgICAgICAgcmV0dXJuIEZBTFNF
Owo+ID4gKyAgICB9Cj4gPiArCj4gPiArICAgIGJlLT5vd25fZGV2aWNlc19tYXNrIHw9IDEgPDwg
YWRkcmVzczsKPiA+ICsKPiA+ICsgICAgZGV2LT5kZXZpY2VfaW5mby5idXMgPSBCVVNfTlVNQkVS
X0ZPUl9FTVVMQVRFRF9VU0I7Cj4gPiArICAgIGRldi0+ZGV2aWNlX2luZm8uYWRkcmVzcyA9IGFk
ZHJlc3M7Cj4gPiArICAgIGRldi0+ZGV2aWNlX2luZm8udmlkID0gZGVzYy0+aWRWZW5kb3I7Cj4g
PiArICAgIGRldi0+ZGV2aWNlX2luZm8ucGlkID0gZGVzYy0+aWRQcm9kdWN0Owo+ID4gKyAgICBk
ZXYtPmRldmljZV9pbmZvLmJjZFVTQiA9IGRlc2MtPmJjZFVTQjsKPiA+ICsgICAgZGV2LT5kZXZp
Y2VfaW5mby5jbGFzcyA9IGRlc2MtPmJEZXZpY2VDbGFzczsKPiA+ICsgICAgZGV2LT5kZXZpY2Vf
aW5mby5zdWJjbGFzcyA9IGRlc2MtPmJEZXZpY2VTdWJDbGFzczsKPiA+ICsgICAgZGV2LT5kZXZp
Y2VfaW5mby5wcm90b2NvbCA9IGRlc2MtPmJEZXZpY2VQcm90b2NvbDsKPiA+ICsgICAgZGV2LT5k
ZXZpY2VfaW5mby5kZXZpY2VfdHlwZSA9IGRldl90eXBlOwo+ID4gKyAgICBkZXYtPnJlZl9jb3Vu
dCA9IDE7Cj4gPiArICAgIGRldi0+ZWRldiA9IGVkZXY7Cj4gPiArCj4gPiArICAgIGlmIChiZS0+
aG90cGx1Z19jYWxsYmFjaykgewo+ID4gKyAgICAgICAgYmUtPmhvdHBsdWdfY2FsbGJhY2soYmUt
PmhvdHBsdWdfdXNlcl9kYXRhLCBkZXYsIFRSVUUpOwo+ID4gKyAgICB9Cj4gPiArCj4gPiArICAg
IHJldHVybiBUUlVFOwo+ID4gK30KPiA+ICsKPiA+ICAjZW5kaWYgLyogVVNCX1JFRElSICovCj4g
PiBkaWZmIC0tZ2l0IGEvc3JjL3VzYi1iYWNrZW5kLmggYi9zcmMvdXNiLWJhY2tlbmQuaAo+ID4g
aW5kZXggNjlhNDkwYi4uOGEwNGVkMCAxMDA2NDQKPiA+IC0tLSBhL3NyYy91c2ItYmFja2VuZC5o
Cj4gPiArKysgYi9zcmMvdXNiLWJhY2tlbmQuaAo+ID4gQEAgLTMxLDE1ICszMSwyNCBAQCB0eXBl
ZGVmIHN0cnVjdCBfU3BpY2VVc2JCYWNrZW5kIFNwaWNlVXNiQmFja2VuZDsKPiA+ICB0eXBlZGVm
IHN0cnVjdCBfU3BpY2VVc2JCYWNrZW5kRGV2aWNlIFNwaWNlVXNiQmFja2VuZERldmljZTsKPiA+
ICB0eXBlZGVmIHN0cnVjdCBfU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCBTcGljZVVzYkJhY2tlbmRD
aGFubmVsOwo+ID4KPiA+ICt0eXBlZGVmIGVudW0KPiA+ICt7Cj4KPiBTdHlsZTogc3R5bGUgZG9j
dW1lbnQgc3RhdGUgdGhhdCBicmFja2V0IHNob3VsZCBiZSBvbiB0aGUgc2FtZSBsaW5lLAo+IGhl
cmUgYW5kIGluIG1hbnkgb3RoZXIgcGxhY2VzLiBJIGtub3cgdGhlcmUgYXJlIG90aGVyIG9jY3Vy
cmVuY2VzIGJ1dAo+IEkgd291bGQgcHJlZmVyIHdlIHVzZSBvbmUgc3R5bGUuCj4KPiA+ICsgICAg
VVNCX0RFVl9UWVBFX05PTkUsCj4gPiArICAgIFVTQl9ERVZfVFlQRV9DRCwKPiA+ICsgICAgVVNC
X0RFVl9UWVBFX01BWAo+ID4gK30gVXNiRW11bGF0ZWREZXZpY2VUeXBlOwo+ID4gKwo+ID4gIHR5
cGVkZWYgc3RydWN0IFVzYkRldmljZUluZm9ybWF0aW9uCj4gPiAgewo+ID4gICAgICB1aW50MTZf
dCBidXM7Cj4gPiAgICAgIHVpbnQxNl90IGFkZHJlc3M7Cj4gPiAgICAgIHVpbnQxNl90IHZpZDsK
PiA+ICAgICAgdWludDE2X3QgcGlkOwo+ID4gKyAgICB1aW50MTZfdCBiY2RVU0I7Cj4gPiAgICAg
IHVpbnQ4X3QgY2xhc3M7Cj4gPiAgICAgIHVpbnQ4X3Qgc3ViY2xhc3M7Cj4gPiAgICAgIHVpbnQ4
X3QgcHJvdG9jb2w7Cj4gPiArICAgIHVpbnQ4X3QgZGV2aWNlX3R5cGU7IC8qIFVzYkVtdWxhdGVk
RGV2aWNlVHlwZSAqLwo+Cj4gSSBzdXBwb3NlIHlvdSBkb24ndCB1c2UgVXNiRW11bGF0ZWREZXZp
Y2VUeXBlIHRvIHJlZHVjZSBzdHJ1Y3R1cmUKPiBzaXplLCByaWdodD8KPiBIb3cgdGhpcyBmaWVs
ZCBpcyBmaWxsZWQgZm9yIHJlYWwgZGV2aWNlcz8gVVNCX0RFVl9UWVBFX05PTkU/Cj4gTWF5YmUg
c2hvdWxkIGJlIG5hbWVkIFVTQl9ERVZfVFlQRV9SRUFMIHRoZW4/Cj4KPiA+ICB9IFVzYkRldmlj
ZUluZm9ybWF0aW9uOwo+ID4KPiA+ICB0eXBlZGVmIHZvaWQoKnVzYl9ob3RfcGx1Z19jYWxsYmFj
aykodm9pZCAqdXNlcl9kYXRhLCBTcGljZVVzYkJhY2tlbmREZXZpY2UKPiA+ICAqZGV2LCBnYm9v
bGVhbiBhZGRlZCk7Cj4gPiBAQCAtNzEsNyArODAsNiBAQCBnYm9vbGVhbgo+ID4gc3BpY2VfdXNi
X2JhY2tlbmRfZGV2aWNlX2lzb2NoKFNwaWNlVXNiQmFja2VuZERldmljZSAqZGV2KTsKPiA+ICAv
KiByZXR1cm5zIDAgaWYgdGhlIGRldmljZSBwYXNzZXMgdGhlIGZpbHRlciAqLwo+ID4gIGludCBz
cGljZV91c2JfYmFja2VuZF9kZXZpY2VfY2hlY2tfZmlsdGVyKFNwaWNlVXNiQmFja2VuZERldmlj
ZSAqZGV2LAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNv
bnN0IHN0cnVjdCB1c2JyZWRpcmZpbHRlcl9ydWxlCj4gPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgKnJ1bGVzLCBpbnQgY291bnQpOwo+ID4gLQo+Cj4gSSB3b3Vs
ZCBsaXZlIHRoaXMgZW1wdHkgbGluZS4KPgo+ID4gIC8qIFNwaWNlIFVTQiBiYWNrZW5kIGNoYW5u
ZWwgQVBJICovCj4gPiAgU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCAqc3BpY2VfdXNiX2JhY2tlbmRf
Y2hhbm5lbF9uZXcoU3BpY2VVc2JCYWNrZW5kCj4gPiAgKmNvbnRleHQsCj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZAo+ID4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICp1c2Vy
X2RhdGEpOwo+ID4gQEAgLTg5LDYgKzk3LDMyIEBAIHZvaWQKPiA+IHNwaWNlX3VzYl9iYWNrZW5k
X2NoYW5uZWxfZ2V0X2d1ZXN0X2ZpbHRlcihTcGljZVVzYkJhY2tlbmRDaGFubmVsICpjaCwKPiA+
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgKmNv
dW50KTsKPiA+ICB2b2lkIHNwaWNlX3VzYl9iYWNrZW5kX3JldHVybl93cml0ZV9kYXRhKFNwaWNl
VXNiQmFja2VuZENoYW5uZWwgKmNoLCB2b2lkCj4gPiAgKmRhdGEpOwo+ID4KPiA+ICsjZGVmaW5l
IEJVU19OVU1CRVJfRk9SX0VNVUxBVEVEX1VTQiAgICAgICAgIDI1NQo+ID4gKwo+Cj4gV2hhdCBp
cyB0aGlzPyBXaGVyZSBpcyBpdCB1c2VkPwoKSXQgY2FuIGJlIHVzZWQgYW55d2hlcmUgd2hlbiB3
ZSBuZWVkIHRvIGRpc3Rpbmd1aXNoIGJldHdlZW4gbG9jYWwKZGV2aWNlIGFuZCBlbXVsYXRlZCBv
bmUuClllcywgd2UgY2FuIGFsd2F5cyBnZXQgdGhlIGRldmljZSBpbmZvIGFuZCBzZWUgdGhlIGRl
dmljZSB0eXBlLiBCdXQgaWYKd2UgYWxyZWFkeSBoYXZlIGJ1cyBhbmQgYWRkcmVzcyB3ZSBjYW4g
bWFrZSBpdCBzaW1wbGllci4KCj4gU3R5bGU6IGRvIG5vdCBpbmRlbnQgbWFjcm8gZGVmaW5pdGlv
bi4KPgo+ID4gK3R5cGVkZWYgc3RydWN0IFVzYkNyZWF0ZURldmljZVBhcmFtZXRlcnMKPiA+ICt7
Cj4gPiArICAgIEdFcnJvciAqZXJyb3I7Cj4gPiArICAgIHVpbnQzMl90ICAgIGFkZHJlc3M7Cj4g
PiArICAgIHVpbnQzMl90ICAgIHJlc2VydmVkOwo+Cj4gInJlc2VydmVkIj8gSXMgdGhpcyBhIGtp
bmQgb2YgQUJJIGV4cG9ydGVkIHN0cnVjdHVyZT8KPiBBbGlnbm1lbnQgdG8gYXZvaWQgaG9sZXMg
b24gNjQgYml0Pwo+Cj4gPiArICAgIHVuaW9uCj4gPiArICAgIHsKPiA+ICsgICAgICAgIHN0cnVj
dAo+ID4gKyAgICAgICAgewo+ID4gKyAgICAgICAgICAgIGNvbnN0IGNoYXIgKmZpbGVuYW1lOwo+
ID4gKyAgICAgICAgICAgIHVpbnQzMl90ICAgZGVsZXRlX29uX2VqZWN0ICA6IDE7Cj4KPiBJIHN1
cHBvc2UgdGhlICI6IDEiIGlzIHRvIHJlZHVjZSBzdHJ1Y3R1cmUgc2l6ZSBpZiBtb3JlIGZsYWdz
IGFyZQo+IGFkZGVkLgo+IEkgd291bGQgdXNlIHVpbnQ4X3QgaW5zdGVhZCBvZiB1aW50MzJfdCBm
b3IgcG9ydGFiaWxpdHkgKG9uIFZpc3VhbCBzdHVkaW8KPiB0aGlzIHdpbGwgYWxsb2NhdGUgYSB1
aW50MzJfdCwgR05VIHVzZSB0aGUgc21hbGxlciB0eXBlKS4KPgo+ID4gKyAgICAgICAgfSBjcmVh
dGVfY2Q7Cj4gPiArICAgIH0gZGV2aWNlX3BhcmFtOwo+ID4gKwo+ID4gK30gVXNiQ3JlYXRlRGV2
aWNlUGFyYW1ldGVyczsKPiA+ICsKPiA+ICsvKiBBUEkgcmVsYXRlZCB0byBlbXVsYXRlZCBkZXZp
Y2VzICovCj4gPiArZ2Jvb2xlYW4gc3BpY2VfdXNiX2JhY2tlbmRfY3JlYXRlX2RldmljZShTcGlj
ZVVzYkJhY2tlbmQgKmJlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgVXNiRW11bGF0ZWREZXZpY2VUeXBlIGRldl90eXBlLAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNiQ3JlYXRlRGV2aWNlUGFyYW1ldGVycyAqcGFy
YW0pOwo+Cj4gTG9va3MgbGlrZSB0aGlzIEFQSSBpcyBxdWl0ZSB0eXBlIGZyYWdpbGUuIElmIHJl
cXVpcmVkIHRoYXQgZGV2X3R5cGUgaXMgcmVnaXN0ZXJlZAoKSSBkbyBub3QgdW5kZXJzdGFuZCB3
aGF0IGlzICdmcmFnaWxlJyBpbiB0aGlzIGNvbnRleHQuClllcywgZGV2X3R5cGUgc2hvdWxkIGJl
IHJlZ2lzdGVyZWQgdG8gYmUgY3JlYXRlZC4KSWYgZHVlIHRvIHNvbWUgcmVhc29uIHJlcXVpcmVk
IHR5cGUgaXMgbm90IHJlZ2lzdGVyZWQsIHRoaXMgd2lsbCByYWlzZQp0aGUgZXJyb3IsIG5vdGhp
bmcgYmFkLgpOb2JvZHkgc2hvdWxkIGtub3cgdG9vIG11Y2ggYWJvdXQgaW1wbGVtZW50YXRpb24g
ZGV0YWlscy4KCj4gd2l0aCB0aGUgdHlwZSByZXF1aXJlZCB0byBhY2NlcHQgdGhhdCBzcGVjaWZp
YyBwYXJhbSAocGFyYW0gaGFzIG5vIHR5cGUgaW4gaXQKPiBidXQgdGhlIHVuaW9uIGhhcyBkaWZm
ZXJlbnQgZmllbGRzKS4KPiBXaHkgbm90IHBhc3NpbmcgdGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0
aW9uIGRpcmVjdGx5PwoKQmVjYXVzZSB0aGUgY2FsbGVyIGRvZXMgbm90IChhbmQgc2hvdWxkIG5v
dCBoYXZlIGFueSBpZGVhKSBhYm91dCBhbnkKaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uCkl0IG1h
eSB3YW50IHRvIGNyZWF0ZSBzb21lIHNwZWNpZmljIGRldmljZSB3aXRoIHNwZWNpZmljIGluaXRp
YWwgcGFyYW1ldGVycy4KCj4KPiA+ICtnY2hhciAqc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX2Rl
c2NyaXB0aW9uKFNwaWNlVXNiQmFja2VuZERldmljZSAqZGV2LAo+ID4gY29uc3QgZ2NoYXIgKmZv
cm1hdCk7Cj4gPiArdm9pZCBzcGljZV91c2JfYmFja2VuZF9kZXZpY2VfZWplY3QoU3BpY2VVc2JC
YWNrZW5kICpiZSwKPiA+IFNwaWNlVXNiQmFja2VuZERldmljZSAqZGV2aWNlKTsKPiA+ICt2b2lk
IHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV9yZXBvcnRfY2hhbmdlKFNwaWNlVXNiQmFja2VuZCAq
YmUsCj4gPiBTcGljZVVzYkJhY2tlbmREZXZpY2UgKmRldmljZSk7Cj4gPiArCj4gPiAgR19FTkRf
REVDTFMKPiA+Cj4gPiAgI2VuZGlmCj4gPiBkaWZmIC0tZ2l0IGEvc3JjL3VzYi1lbXVsYXRpb24u
aCBiL3NyYy91c2ItZW11bGF0aW9uLmgKPiA+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gPiBpbmRl
eCAwMDAwMDAwLi40NDczMzYxCj4gPiAtLS0gL2Rldi9udWxsCj4gPiArKysgYi9zcmMvdXNiLWVt
dWxhdGlvbi5oCj4gPiBAQCAtMCwwICsxLDg4IEBACj4gPiArLyogLSotIE1vZGU6IEM7IGMtYmFz
aWMtb2Zmc2V0OiA0OyBpbmRlbnQtdGFicy1tb2RlOiBuaWwgLSotICovCj4gPiArLyoKPiA+ICsg
ICAgQ29weXJpZ2h0IChDKSAyMDE5IFJlZCBIYXQsIEluYy4KPiA+ICsKPiA+ICsgICAgUmVkIEhh
dCBBdXRob3JzOgo+ID4gKyAgICBZdXJpIEJlbmRpdG92aWNoPHliZW5kaXRvQHJlZGhhdC5jb20+
Cj4gPiArCj4gPiArICAgIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJl
ZGlzdHJpYnV0ZSBpdCBhbmQvb3IKPiA+ICsgICAgbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBv
ZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYwo+ID4gKyAgICBMaWNlbnNlIGFzIHB1Ymxp
c2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRoZXIKPiA+ICsgICAgdmVy
c2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZl
cnNpb24uCj4gPiArCj4gPiArICAgIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRlZCBpbiB0aGUg
aG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAo+ID4gKyAgICBidXQgV0lUSE9VVCBBTlkgV0FS
UkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgo+ID4gKyAgICBNRVJD
SEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhl
IEdOVQo+ID4gKyAgICBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRh
aWxzLgo+ID4gKwo+ID4gKyAgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRo
ZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCj4gPiArICAgIExpY2Vuc2UgYWxvbmcgd2l0aCB0
aGlzIGxpYnJhcnk7IGlmIG5vdCwgc2VlCj4gPiA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2Vz
Lz4uCj4gPiArKi8KPiA+ICsKPiA+ICsjaWZuZGVmIF9fU1BJQ0VfVVNCX0VNVUxBVElPTl9IX18K
PiA+ICsjZGVmaW5lIF9fU1BJQ0VfVVNCX0VNVUxBVElPTl9IX18KPiA+ICsKPgo+IFdlIHNob3Vs
ZCBzdG9wIHVzaW5nIHJlc2VydmVkIGlkZW50aWZpZXIsIEM5OSBpcyBhYm91dCAyMCB5ZWFycyBv
bGQuCj4KPiBNYXliZSB3b24ndCBiZSBhbHNvIGJhZCB0byB1c2UgIiNwcmFnbWEgb25jZSIgaW5z
dGVhZCBidXQgdGhpcyBpcyBPVC4KPgo+ID4gKyNpbmNsdWRlICJ1c2JyZWRpcnBhcnNlci5oIgo+
ID4gKyNpbmNsdWRlICJ1c2ItYmFja2VuZC5oIgo+ID4gKwo+ID4gK3R5cGVkZWYgc3RydWN0IF9T
cGljZVVzYkVtdWxhdGVkRGV2aWNlIFNwaWNlVXNiRW11bGF0ZWREZXZpY2U7Cj4KPiBDOTkgcmVz
ZXJ2ZWQgaWRlbnRpZmllciwgdXNlIFNwaWNlVXNiRW11bGF0ZWREZXZpY2Ugbm90IF9TcGljZVVz
YkVtdWxhdGVkRGV2aWNlLgo+Cj4gPiArdHlwZWRlZiBpbnQgKCpTcGljZVVzYkVtdWxhdGVkRGV2
aWNlQ3JlYXRlKShTcGljZVVzYkJhY2tlbmQgKmJlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgU3BpY2VVc2JCYWNrZW5kRGV2aWNlICpwYXJlbnQsCj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2JDcmVhdGVE
ZXZpY2VQYXJhbWV0ZXJzCj4gPiAqcGFyYW0sCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBTcGljZVVzYkVtdWxhdGVkRGV2aWNlCj4gPiAqKmRldmljZSk7
Cj4gPiArCj4gPiArLyoKPiA+ICsgICAgZnVuY3Rpb24gdGFibGUgZm9yIGVtdWxhdGVkIFVTQiBk
ZXZpY2UKPiA+ICsgICAgbXVzdCBiZSBmaXJzdCBtZW1iZXIgb2YgZGV2aWNlIHN0cnVjdHVyZQo+
ID4gKyAgICBhbGwgZnVuY3Rpb25zIGFyZSBtYW5kYXRvcnkgZm9yIGltcGxlbWVudGF0aW9uCj4g
PiArKi8KPgo+IFN0eWxlOiB3ZSB1c2Ugc3R5bGUgbGlrZQo+Cj4gICAvKiBmdW5jdGlvbiB0YWJs
ZSBmb3IgZW11bGF0ZWQgVVNCIGRldmljZQo+ICAgICogbXVzdCBiZSBmaXJzdCBtZW1iZXIgb2Yg
ZGV2aWNlIHN0cnVjdHVyZQo+ICAgICogYWxsIGZ1bmN0aW9ucyBhcmUgbWFuZGF0b3J5IGZvciBp
bXBsZW1lbnRhdGlvbgo+ICAgICovCj4KPiBNYWluIGV4Y2VwdGlvbiBpcyBmaWxlIGhlYWRlciBi
dXQgYmVzaWRlIHRoYXQgaW4gYWxsIG90aGVyIGNvbW1lbnQKPiB0aGVyZSdzIGFuIGluaXRpYWwg
c3RhciAoIioiKSBhbmQgY29tbWVudCBzdGFydCBhdCBmaXJzdCBsaW5lLgo+IEhlcmUgYW5kIGlu
IG90aGVyIG9jY3VyZW5jZXMuCj4KPiA+ICt0eXBlZGVmIHN0cnVjdCBVc2JEZXZpY2VPcHMKPiA+
ICt7Cj4gPiArICAgIGdib29sZWFuICgqZ2V0X2Rlc2NyaXB0b3IpKFNwaWNlVXNiRW11bGF0ZWRE
ZXZpY2UgKmRldmljZSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWludDhf
dCB0eXBlLCB1aW50OF90IGluZGV4LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICB2b2lkICoqYnVmZmVyLCB1aW50MTZfdCAqc2l6ZSk7Cj4gPiArICAgIGdjaGFyICogKCpnZXRf
cHJvZHVjdF9kZXNjcmlwdGlvbikoU3BpY2VVc2JFbXVsYXRlZERldmljZSAqZGV2aWNlKTsKPiA+
ICsgICAgdm9pZCAoKmF0dGFjaCkoU3BpY2VVc2JFbXVsYXRlZERldmljZSAqZGV2aWNlLCBzdHJ1
Y3QgdXNicmVkaXJwYXJzZXIKPiA+ICpwYXJzZXIpOwo+ID4gKyAgICB2b2lkICgqcmVzZXQpKFNw
aWNlVXNiRW11bGF0ZWREZXZpY2UgKmRldmljZSk7Cj4gPiArICAgIC8qCj4gPiArICAgICAgICBw
cm9jZXNzaW5nIGlzIHN5bmNocm9ub3VzLCBkZWZhdWx0ID0gc3RhbGw6Cj4gPiArICAgICAgICAt
IHJldHVybiBzdWNjZXNzIHdpdGhvdXQgZGF0YTogc2V0IHN0YXR1cyB0byAwCj4gPiArICAgICAg
ICAtIHJldHVybiBlcnJvciAtIHNldCBzdGF0dXMgdG8gZXJyb3IKPiA+ICsgICAgICAgIC0gcmV0
dXJuIHN1Y2Nlc3Mgd2l0aCBkYXRhIC0gc2V0IHN0YXR1cyB0byAwLAo+ID4gKyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHNldCBidWZmZXIgdG8gc29tZSBidWZmZXIKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXQgbGVuZ3RoIHRvIG91dCBsZW4K
PiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVuY2F0aW9uIGlzIGF1
dG9tYXRpYwo+ID4gKyAgICAqLwo+ID4gKyAgICB2b2lkICgqY29udHJvbF9yZXF1ZXN0KShTcGlj
ZVVzYkVtdWxhdGVkRGV2aWNlICpkZXZpY2UsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVpbnQ4X3QgKmRhdGEsIGludCBkYXRhX2xlbiwKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RydWN0IHVzYl9yZWRpcl9jb250cm9sX3BhY2tldF9oZWFkZXIgKmgsCj4gPiAr
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKipidWZmZXIpOwo+ID4gKyAgICAvKgo+
ID4gKyAgICAgICAgcHJvY2Vzc2luZyBpcyBzeW5jaHJvbm91czoKPiA+ICsgICAgICAgIC0gc2V0
IGgtPnN0YXR1cyB0byByZXN1bHRpbmcgc3RhdHVzLCBkZWZhdWx0ID0gc3RhbGwKPiA+ICsgICAg
Ki8KPiA+ICsgICAgdm9pZCAoKmJ1bGtfb3V0X3JlcXVlc3QpKFNwaWNlVXNiRW11bGF0ZWREZXZp
Y2UgKmRldmljZSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QgZXAs
IHVpbnQ4X3QgKmRhdGEsIGludCBkYXRhX2xlbiwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHVpbnQ4X3QgKnN0YXR1cyk7Cj4gPiArICAgIC8qCj4gPiArICAgICAgICBpZiByZXR1
cm5zIHRydWUsIHByb2Nlc3NpbmcgaXMgYXN5bmNocm9ub3VzCj4gPiArICAgICAgICBvdGhlcndp
c2UgaGVhZGVyIGNvbnRhaW5zIGVycm9yIHN0YXR1cwo+ID4gKyAgICAqLwo+ID4gKyAgICBnYm9v
bGVhbiAoKmJ1bGtfaW5fcmVxdWVzdCkoU3BpY2VVc2JFbXVsYXRlZERldmljZSAqZGV2aWNlLCB1
aW50NjRfdCBpZCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHVzYl9y
ZWRpcl9idWxrX3BhY2tldF9oZWFkZXIKPiA+ICpidWxrX2hlYWRlcik7Cj4gPiArICAgIHZvaWQg
KCpjYW5jZWxfcmVxdWVzdCkoU3BpY2VVc2JFbXVsYXRlZERldmljZSAqZGV2aWNlLCB1aW50NjRf
dCBpZCk7Cj4gPiArICAgIHZvaWQgKCpkZXRhY2gpKFNwaWNlVXNiRW11bGF0ZWREZXZpY2UgKmRl
dmljZSk7Cj4gPiArICAgIHZvaWQgKCpkZWxldGUpKFNwaWNlVXNiRW11bGF0ZWREZXZpY2UgKmRl
dmljZSk7Cj4KPiBBcyBzdGF0ZWQgYWJvdmUsIEkgd291bGQgcHJlZmVyICJmcmVlIiBvciAidW5y
ZWYiLgoKVGhlcmUgaXMgbm8gInJlZiIsIHNvIHNob3VsZCBub3QgYmUgYWxzbyB1bnJlZi4KSWYg
eW91IGRvIG5vdCBsaWtlICdkZWxldGUnIHNvIG11Y2ggKGFsdGhvdWdoIGl0IGV4YWN0bHkgcmVm
bGVjdHMgd2hhdAp3ZSBkbyksIHdlIGNhbiBjYWxsIGl0ICd1bnJlYWxpemUnCgo+Cj4gPiArfSBV
c2JEZXZpY2VPcHM7Cj4gPiArCj4gPiArc3RhdGljIGlubGluZSBjb25zdCBVc2JEZXZpY2VPcHMg
KmRldmljZV9vcHMoU3BpY2VVc2JFbXVsYXRlZERldmljZSAqZGV2KSB7Cj4KPiBTdHlsZTogYnJh
Y2tldCBvbiBuZXh0IGxpbmUgZm9yIGZ1bmN0aW9ucy4KPgo+ID4gKyAgICByZXR1cm4gKGNvbnN0
IFVzYkRldmljZU9wcyAqKWRldjsKPiA+ICt9Cj4gPiArCj4gPiArdm9pZCBzcGljZV91c2JfYmFj
a2VuZF9yZWdpc3Rlcl9kZXZpY2VfdHlwZShTcGljZVVzYkJhY2tlbmQgKmJlLAo+ID4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNiRW11bGF0ZWREZXZpY2VU
eXBlIGRldl90eXBlLAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgU3BpY2VVc2JFbXVsYXRlZERldmljZUNyZWF0ZQo+ID4gaW5pdF9wcm9jKTsKPiA+ICsv
KiBzdXBwb3J0ZWQgZGV2aWNlIHR5cGVzICovCj4gPiArdm9pZCBzcGljZV91c2JfZGV2aWNlX3Jl
Z2lzdGVyX2NkKFNwaWNlVXNiQmFja2VuZCAqYmUpOwo+ID4gKwo+ID4gKyNlbmRpZgo+Cj4gSSBj
YW4gd3JpdGUgYSBmb2xsb3cgdXAgcGF0Y2ggZm9yIHN0eWxlIGFuZCBzb21lIG90aGVyIGNoYW5n
ZXMgKGxpa2Ugc29tZQo+IGNvbW1lbnRzIGluIGNvZGUpIGlmIHlvdSBsaWtlLgo+CgpUaGlzIGFu
ZCBmdXJ0aGVyIHBhdGNoZXMgb2YgdGhpcyBzZXJpZXMgd2lsbCBjYXVzZSBhIGxvdCBvZiBub3Rl
cwpyZWdhcmRpbmcgJ3N0eWxlJy4KU3VycHJpc2luZ2x5LCBtb3N0IG9mIHRoZXNlICdzdHlsZSBy
dWxlcycgYXJlIG5vdCByZWZsZWN0ZWQgaW4KaHR0cHM6Ly93d3cuc3BpY2Utc3BhY2Uub3JnL3Nw
aWNlLXByb2plY3QtY29kaW5nLXN0eWxlLWFuZC1jb2RpbmctY29udmVudGlvbnMuaHRtbApGb3Ig
bW9zdCBzdWNoIG5vdGVzIEkgY2FuIHNlZSBmaWxlcyBpbiB0aGUgcHJvamVjdCB3aGljaCB1c2Ug
ZGlmZmVyZW50IHN0eWxlLgpJIHN1Z2dlc3QgdG8gZm9jdXMgZmlyc3Qgb24gb3RoZXIgdGhhbiBz
dHlsZSBhc3BlY3RzLCBhZnRlciB3ZSBmaW5pc2ggd2l0aCB0aGVtLApwcm9iYWJseSB0aGlzIGlz
IHRoZSBiZXN0IGlkZWEgdG8gbWFrZSBzdWNoICdzdHlsZScgcGF0Y2hlcyB0byBkcm9wIGFsbCB0
aGUKcXVlc3Rpb25zIHJlZ2FyZGluZyBzdHlsZS4KCj4gRnJlZGlhbm8KX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0
ClNwaWNlLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVs
