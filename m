Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 1B85C85F41
	for <lists+spice-devel@lfdr.de>; Thu,  8 Aug 2019 12:10:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7BF726E7EF;
	Thu,  8 Aug 2019 10:10:10 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-ot1-f67.google.com (mail-ot1-f67.google.com
 [209.85.210.67])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6E2C26E7EF
 for <spice-devel@lists.freedesktop.org>; Thu,  8 Aug 2019 10:10:09 +0000 (UTC)
Received: by mail-ot1-f67.google.com with SMTP id z23so8082516ote.13
 for <spice-devel@lists.freedesktop.org>; Thu, 08 Aug 2019 03:10:09 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=1tU5C4HtgFUv4gjwqVW3b9CxH320I+/ue/7B/O/RRk8=;
 b=G7uFvbUTuPFGeEPGpUbcnXGV0bdzbvI5v0sRg2ZHCnhYLDKWY5BprYly4SE/Ebwcg3
 29+u+i65WyIsEtnyCpuIq5CHydhBe3uHHC6iteWRigV6LM9xanqdoDOiwCzXuF9IYFaO
 8ZB8T7WvXFv5PIC0q8igscvtoL+L6YBk34LiFiVP744KQRfdDXRxhT5/Cv+WGWh7Hzef
 75EibWjWwbrBY9IVy7FTHM2dQUVcK1XH2I8tK8tSUuIkH2rCwxxa2Wx7Nog2TIfcHfjc
 EeJd9BRr8dw6zF3rd/Lthn6G9uKclwtJK5EyBxNCmO0O/nGc/TU26de+9RzA10Ypwaxb
 as5g==
X-Gm-Message-State: APjAAAXRzVMzAEn1oP5jhA7j8USzQy7+Oetf+8fO3zK68P/BgmROb5if
 kG/+QQ5OxOfL8BTJIJKtILOcMEsiHGwJ95Ixh4NevqLjhvYOgA==
X-Google-Smtp-Source: APXvYqzBcHk3QUhQafYUnB4Frg2N1i0g0cDfk/26+19KuJyX4lVFRgtC0KT6D0jJ5AqZXnwyq2Itte3fGe0x7vqmCBg=
X-Received: by 2002:aca:bb08:: with SMTP id l8mr1872795oif.92.1565259008629;
 Thu, 08 Aug 2019 03:10:08 -0700 (PDT)
MIME-Version: 1.0
References: <20190806153453.20616-9-kpouget@redhat.com>
 <20190807154949.28693-1-kpouget@redhat.com>
 <01beefc4-40d8-4e3d-3ebd-2b43dce90d3e@redhat.com>
In-Reply-To: <01beefc4-40d8-4e3d-3ebd-2b43dce90d3e@redhat.com>
From: Kevin Pouget <kpouget@redhat.com>
Date: Thu, 8 Aug 2019 12:09:57 +0200
Message-ID: <CADJ1XR1PxwSy4PWoAJDL6WFkan0DOTwRarM9w_wxve5orugYkQ@mail.gmail.com>
To: Snir Sheriber <ssheribe@redhat.com>
Subject: Re: [Spice-devel] [RFC spice-gtk 1/2] streaming: make draw-area
 visible on MJPEG encoder creation
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Spice devel <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SGVsbG8sCgpPbiBUaHUsIEF1ZyA4LCAyMDE5IGF0IDExOjIzIEFNIFNuaXIgU2hlcmliZXIgPHNz
aGVyaWJlQHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gSGksCj4KPiBPbiA4LzcvMTkgNjo0OSBQTSwg
S2V2aW4gUG91Z2V0IHdyb3RlOgo+ID4gVGhpcyBwYXRjaCBhbGxvd3MgdGhlIE1KUEVHIGVuY29k
ZXIgdG8gaW5mb3JtIHRoZSBzcGljZS13aWRnZXQgdGhhdAo+ID4gaXRzIHZpZGVvIGRyYXdpbmcg
YXJlYSAoZHJhdy1hcmVhKSBzaG91bGQgYmUgbWFkZSB2aXNpYmxlIG9uIHNjcmVlbi4KPgo+Cj4g
U28gdGhlIGZpcnN0IG9uZSBkb2VzIG5vdCB3b3JrPwoKaXQgd2FzIHdvcmtpbmcsIGJ1dCB0aGUg
cGF0Y2ggd2FzIG1vcmUgYSB3b3JrYXJvdW5kIHRoYW4gYSBwcm9wZXIgZml4LAp0aGlzIGNhbGw6
Cgo+ID4gKyAgICBndGtfc3RhY2tfc2V0X3Zpc2libGVfY2hpbGRfbmFtZShkLT5zdGFjaywgImRy
YXctYXJlYSIpOwoKd2FzIHRyaWdnZXJlZCB0b28gb2Z0ZW4sIGllIGFsc28gd2hlbiBzd2l0Y2hp
bmcgYmV0d2VlbiBHU1Qgc3RyZWFtcwooYnV0IHRoZSBnc3QtYXJlYSB3b3VsZCBiZSBwdXQgYmFj
ayBvbiB0b3AgcmlnaHQgYWZ0ZXIpCgo+IEJUVyBpIHRoaW5rIHRoZSBjb25zZW5zdXMgaXMgdG8g
bWVudGlvbiB0aGUgcGF0Y2ggdmVyc2lvbiBpbiBhbGwKPiBvZiB0aGUgc3ViamVjdHMgKG5vdCBv
bmx5IGluIHRoZSBjb3ZlciBsZXR0ZXIpCgp5ZXMsIHNvcnJ5LCBJIHdhbnRlZCB0byBwb3N0IHRo
aXMgYXMgYSByZXBseSB0byB0aGUgcHJldmlvdXMgZW1haWwsCmJ1dCBnaXQgZm9yZ290IHRvIGFz
ayBtZSB0aGUgaW4tcmVwbHktdG8gdmFsdWUsIEkgZG9uJ3Qga25vdyB3aHkgOiMKLi4uLgoKPiA+
IFRoaXMgaXMgcmVxdWlyZWQgdG8gc3dpdGNoIGZyb20gR1NUIHZpZGVvIGRlY29kaW5nIHRvIG5h
dGl2ZSBNSlBFRwo+ID4gZGVjb2RpbmcsIG90aGVyd2lzZSB0aGUgZ3N0LWFyZWEgcmVtYWluZWQg
b24gdG9wIGFuZCB0aGUgTUpQRUcgdmlkZW8KPiA+IHN0cmVhbSB3YXMgbmV2ZXIgc2hvd24uCj4K
Pgo+IEFjdHVhbGx5IElJUkMgdGhlIGZpcnN0IHZlcnNpb24gb2YgdGhlIGdzdC1vdmVybGF5IHNp
Z25hbCBpbmNsdWRlZAo+IGEgYm9vbGVhbiB2YWx1ZSB3aGljaCBjb3VsZCBoYXZlIGJlZW4gdXNl
ZnVsIGhlcmUgOlAKCnlvdSBtZWFuIGFuIGVhcmxpZXIgdmVyc2lvbiwgb3IgdGhlIG9uZSBtb2Rp
ZmllZCBieSB0aGlzIHBhdGNoPwpJIHdvbmRlcmVkIGlmIGl0IHdvdWxkIGJlIGFuIGFjY2VwdGFi
bGUgc29sdXRpb24gdG8gaGFjayB0aGUgZXhpc3RpbmcKc2V0X292ZXJsYXkgZnVuY3Rpb24sCmZv
ciBpbnN0YW5jZSBpZiBwaXBlbGluZV9wdHIgPT0gTlVMTCwgdGhlbiBzZXQgdGhlIG5hdGl2ZSBk
cmF3aW5nIGFyZWEKCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogS2V2aW4gUG91Z2V0IDxrcG91Z2V0
QHJlZGhhdC5jb20+Cj4gPgo+ID4gLS0tCj4gPiAgIHNyYy9jaGFubmVsLWRpc3BsYXktbWpwZWcu
YyB8ICAyICsrCj4gPiAgIHNyYy9jaGFubmVsLWRpc3BsYXktcHJpdi5oICB8ICAyICstCj4gPiAg
IHNyYy9jaGFubmVsLWRpc3BsYXkuYyAgICAgICB8IDM4ICsrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKystLS0KPiA+ICAgc3JjL3NwaWNlLW1hcnNoYWwudHh0ICAgICAgIHwgIDEgKwo+
ID4gICBzcmMvc3BpY2Utd2lkZ2V0LmMgICAgICAgICAgfCAxNiArKysrKysrKysrKysrKy0tCj4g
PiAgIDUgZmlsZXMgY2hhbmdlZCwgNTMgaW5zZXJ0aW9ucygrKSwgNiBkZWxldGlvbnMoLSkKPiA+
Cj4gPiBkaWZmIC0tZ2l0IGEvc3JjL2NoYW5uZWwtZGlzcGxheS1tanBlZy5jIGIvc3JjL2NoYW5u
ZWwtZGlzcGxheS1tanBlZy5jCj4gPiBpbmRleCA2NDdkMzFiLi42ZjFhNGQ3IDEwMDY0NAo+ID4g
LS0tIGEvc3JjL2NoYW5uZWwtZGlzcGxheS1tanBlZy5jCj4gPiArKysgYi9zcmMvY2hhbm5lbC1k
aXNwbGF5LW1qcGVnLmMKPiA+IEBAIC0zMDAsNSArMzAwLDcgQEAgVmlkZW9EZWNvZGVyKiBjcmVh
dGVfbWpwZWdfZGVjb2RlcihpbnQgY29kZWNfdHlwZSwgZGlzcGxheV9zdHJlYW0gKnN0cmVhbSkK
PiA+Cj4gPiAgICAgICAvKiBBbGwgdGhlIG90aGVyIGZpZWxkcyBhcmUgaW5pdGlhbGl6ZWQgdG8g
emVybyBieSBnX25ldzAoKS4gKi8KPiA+Cj4gPiArICAgIHNob3dfbWpwZWdfd2lkZ2V0KHN0cmVh
bSk7Cj4gPiArCj4gPiAgICAgICByZXR1cm4gKFZpZGVvRGVjb2RlciopZGVjb2RlcjsKPiA+ICAg
fQo+ID4gZGlmZiAtLWdpdCBhL3NyYy9jaGFubmVsLWRpc3BsYXktcHJpdi5oIGIvc3JjL2NoYW5u
ZWwtZGlzcGxheS1wcml2LmgKPiA+IGluZGV4IDE2YzEyYzYuLjM0MjRhOGUgMTAwNjQ0Cj4gPiAt
LS0gYS9zcmMvY2hhbm5lbC1kaXNwbGF5LXByaXYuaAo+ID4gKysrIGIvc3JjL2NoYW5uZWwtZGlz
cGxheS1wcml2LmgKPiA+IEBAIC0xOTksNyArMTk5LDcgQEAgdm9pZCBzdHJlYW1fZHJvcHBlZF9m
cmFtZV9vbl9wbGF5YmFjayhkaXNwbGF5X3N0cmVhbSAqc3QpOwo+ID4gICB2b2lkIHN0cmVhbV9k
aXNwbGF5X2ZyYW1lKGRpc3BsYXlfc3RyZWFtICpzdCwgU3BpY2VGcmFtZSAqZnJhbWUsIHVpbnQz
Ml90IHdpZHRoLCB1aW50MzJfdCBoZWlnaHQsIGludCBzdHJpZGUsIHVpbnQ4X3QqIGRhdGEpOwo+
ID4gICBndWludHB0ciBnZXRfd2luZG93X2hhbmRsZShkaXNwbGF5X3N0cmVhbSAqc3QpOwo+ID4g
ICBnYm9vbGVhbiBoYW5kX3BpcGVsaW5lX3RvX3dpZGdldChkaXNwbGF5X3N0cmVhbSAqc3QsICBH
c3RQaXBlbGluZSAqcGlwZWxpbmUpOwo+ID4gLQo+ID4gK2dib29sZWFuIHNob3dfbWpwZWdfd2lk
Z2V0KGRpc3BsYXlfc3RyZWFtICpzdCk7Cj4gPiAgIHZvaWQgc3BpY2VfZnJhbWVfZnJlZShTcGlj
ZUZyYW1lICpmcmFtZSk7Cj4gPgo+ID4gICBHX0VORF9ERUNMUwo+ID4gZGlmZiAtLWdpdCBhL3Ny
Yy9jaGFubmVsLWRpc3BsYXkuYyBiL3NyYy9jaGFubmVsLWRpc3BsYXkuYwo+ID4gaW5kZXggNDQ1
NTVlMy4uMThlOTViOSAxMDA2NDQKPiA+IC0tLSBhL3NyYy9jaGFubmVsLWRpc3BsYXkuYwo+ID4g
KysrIGIvc3JjL2NoYW5uZWwtZGlzcGxheS5jCj4gPiBAQCAtOTAsNyArOTAsOCBAQCBlbnVtIHsK
PiA+ICAgICAgIFNQSUNFX0RJU1BMQVlfTUFSSywKPiA+ICAgICAgIFNQSUNFX0RJU1BMQVlfR0xf
RFJBVywKPiA+ICAgICAgIFNQSUNFX0RJU1BMQVlfU1RSRUFNSU5HX01PREUsCj4gPiAtICAgIFNQ
SUNFX0RJU1BMQVlfT1ZFUkxBWSwKPiA+ICsgICAgU1BJQ0VfRElTUExBWV9HU1RfT1ZFUkxBWSwK
PiA+ICsgICAgU1BJQ0VfRElTUExBWV9NSlBFR19PVkVSTEFZLAo+Cj4gVGhlIHRlcm0gb3Zlcmxh
eSBpcyBkZXJpdmVkIGZyb20gR3N0VmlkZW9PdmVybGF5IHdoaWNoIGlzIGFuIGdzdHJlYW1lcgo+
IGludGVyZmFjZSB0aGF0IG92ZXJsYXlzIGdzdHJlYW1lciBvdXRwdXQgb24gdGhlIGd0ayB3aWRn
ZXQsIGluIHRoZSBjYXNlCj4gb2YgYnVpbHRpbiBtanBlZyAoYWxzbyB3aXRoIGdzdCBpcyBub3Qg
YWx3YXlzIHRydWUpIHdlIHBhc3MgcGl4ZWxzIGFuZAo+IHJlbmRlciBpbnRvIHRoZSBzdXJmYWNl
IEkgZG9uJ3QgdGhpbmsgdGhlIG5hbWUgc2hvdWxkIGludmx1ZGUgIm92ZXJsYXkiLgoKYWN0dWFs
bHksIEkgYWxzbyBkb24ndCByZWFsbHkgbGlrZSB0byBoYXZlICJtanBlZyIgaW4gdGhlIG5hbWUs
CmJlY2F1c2UgR1NUIGFsc28gc3VwcG9ydHMgaXQsCm1heWJlIFNQSUNFX0RJU1BMQVlfTkFUSVZF
X0RSQVdfQVJFQQoKPiA+Cj4gPiAgICAgICBTUElDRV9ESVNQTEFZX0xBU1RfU0lHTkFMLAo+ID4g
ICB9Owo+ID4gQEAgLTQ5MSw3ICs0OTIsNyBAQCBzdGF0aWMgdm9pZCBzcGljZV9kaXNwbGF5X2No
YW5uZWxfY2xhc3NfaW5pdChTcGljZURpc3BsYXlDaGFubmVsQ2xhc3MgKmtsYXNzKQo+ID4gICAg
ICAgICoKPiA+ICAgICAgICAqIFNpbmNlOiAwLjM2Cj4gPiAgICAgICAgKiovCj4gPiAtICAgIHNp
Z25hbHNbU1BJQ0VfRElTUExBWV9PVkVSTEFZXSA9Cj4gPiArICAgIHNpZ25hbHNbU1BJQ0VfRElT
UExBWV9HU1RfT1ZFUkxBWV0gPQo+ID4gICAgICAgICAgIGdfc2lnbmFsX25ldygiZ3N0LXZpZGVv
LW92ZXJsYXkiLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICBHX09CSkVDVF9DTEFTU19UWVBF
KGdvYmplY3RfY2xhc3MpLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAwLCAwLAo+ID4gQEAg
LTUwMSw2ICs1MDIsMjUgQEAgc3RhdGljIHZvaWQgc3BpY2VfZGlzcGxheV9jaGFubmVsX2NsYXNz
X2luaXQoU3BpY2VEaXNwbGF5Q2hhbm5lbENsYXNzICprbGFzcykKPiA+ICAgICAgICAgICAgICAg
ICAgICAgICAgMSwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgR1NUX1RZUEVfUElQRUxJTkUp
Owo+ID4KPiA+ICsgICAgLyoqCj4gPiArICAgICAqIFNwaWNlRGlzcGxheUNoYW5uZWw6Om1qcGVn
LXZpZGVvLW92ZXJsYXk6Cj4gPiArICAgICAqIEBkaXNwbGF5OiB0aGUgI1NwaWNlRGlzcGxheUNo
YW5uZWwgdGhhdCBlbWl0dGVkIHRoZSBzaWduYWwKPiA+ICsgICAgICoKPiA+ICsgICAgICogVGhl
ICNTcGljZURpc3BsYXlDaGFubmVsOjptanBlZy12aWRlby1vdmVybGF5IHNpZ25hbCBpcyBlbWl0
dGVkCj4gPiArICAgICAqIHdoZW4gdGhlIE1KUEVHIGVuY29kZXIgaXMgcmVhZHkgYW5kIGl0cyBk
cmF3aW5nIGFyZWEgc2hvdWxkIGJlCj4gPiArICAgICAqIG1hZGUgdmlzaWJsZSBvbiBzY3JlZW4K
PiA+ICsgICAgICoKPiA+ICsgICAgICogU2luY2U6IDAuMzcKPiA+ICsgICAgICoqLwo+ID4gKyAg
ICBzaWduYWxzW1NQSUNFX0RJU1BMQVlfTUpQRUdfT1ZFUkxBWV0gPQo+ID4gKyAgICAgICAgZ19z
aWduYWxfbmV3KCJtanBlZy12aWRlby1vdmVybGF5IiwKPiA+ICsgICAgICAgICAgICAgICAgICAg
ICBHX09CSkVDVF9DTEFTU19UWVBFKGdvYmplY3RfY2xhc3MpLAo+ID4gKyAgICAgICAgICAgICAg
ICAgICAgIDAsIDAsCj4gPiArICAgICAgICAgICAgICAgICAgICAgTlVMTCwgTlVMTCwKPiA+ICsg
ICAgICAgICAgICAgICAgICAgICBnX2NjbG9zdXJlX3VzZXJfbWFyc2hhbF9CT09MRUFOX19WT0lE
LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgIEdfVFlQRV9CT09MRUFOLAo+ID4gKyAgICAgICAg
ICAgICAgICAgICAgIDApOwo+ID4gKwo+ID4gICAgICAgY2hhbm5lbF9zZXRfaGFuZGxlcnMoU1BJ
Q0VfQ0hBTk5FTF9DTEFTUyhrbGFzcykpOwo+ID4gICB9Cj4gPgo+ID4gQEAgLTE0NzIsMTIgKzE0
OTIsMjQgQEAgZ2Jvb2xlYW4gaGFuZF9waXBlbGluZV90b193aWRnZXQoZGlzcGxheV9zdHJlYW0g
KnN0LCBHc3RQaXBlbGluZSAqcGlwZWxpbmUpCj4gPiAgICAgICBnYm9vbGVhbiByZXMgPSBmYWxz
ZTsKPiA+Cj4gPiAgICAgICBpZiAoc3QtPnN1cmZhY2UtPnN0cmVhbWluZ19tb2RlKSB7Cj4gPiAt
ICAgICAgICBnX3NpZ25hbF9lbWl0KHN0LT5jaGFubmVsLCBzaWduYWxzW1NQSUNFX0RJU1BMQVlf
T1ZFUkxBWV0sIDAsCj4gPiArICAgICAgICBnX3NpZ25hbF9lbWl0KHN0LT5jaGFubmVsLCBzaWdu
YWxzW1NQSUNFX0RJU1BMQVlfR1NUX09WRVJMQVldLCAwLAo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgcGlwZWxpbmUsICZyZXMpOwo+ID4gICAgICAgfQo+ID4gICAgICAgcmV0dXJuIHJlczsK
PiA+ICAgfQo+ID4KPiA+ICtHX0dOVUNfSU5URVJOQUwKPiA+ICtnYm9vbGVhbiBzaG93X21qcGVn
X3dpZGdldChkaXNwbGF5X3N0cmVhbSAqc3QpCj4gPiArewo+ID4gKyAgICBnYm9vbGVhbiByZXMg
PSBmYWxzZTsKPiA+ICsgICAgZ193YXJuaW5nKCJTSE9XISIpOwo+Cj4gSSBndWVzcyB0aGlzIHdh
cyBmb3IgdGVzdGluZyBwdXJwb3Nlcy4KCmluZGVlZCwgSSdsbCB1cGRhdGUgdGhlIGNoZWNrcGF0
Y2ggc2NyaXB0IHRvIHdhcm4gYWJvdXQgbmV3IGdfd2FybmluZyEKCj4gPiArICAgIGlmIChzdC0+
c3VyZmFjZS0+c3RyZWFtaW5nX21vZGUpIHsKPiA+ICsgICAgICAgIGdfc2lnbmFsX2VtaXQoc3Qt
PmNoYW5uZWwsIHNpZ25hbHNbU1BJQ0VfRElTUExBWV9NSlBFR19PVkVSTEFZXSwgMCwgJnJlcyk7
Cj4gPiArICAgIH0KPiA+ICsKPiA+ICsgICAgcmV0dXJuIHJlczsKPiA+ICt9Cj4gPiArCj4gPiAg
IC8qIGFmdGVyIGEgc2VxdWVuY2Ugb2YgMyBkcm9wcywgcHVzaCBhIHJlcG9ydCB0byB0aGUgc2Vy
dmVyLCBldmVuCj4gPiAgICAqIGlmIHRoZSByZXBvcnQgd2luZG93IGlzIGJpZ2dlciAqLwo+ID4g
ICAjZGVmaW5lIFNUUkVBTV9SRVBPUlRfRFJPUF9TRVFfTEVOX0xJTUlUIDMKPiA+IGRpZmYgLS1n
aXQgYS9zcmMvc3BpY2UtbWFyc2hhbC50eHQgYi9zcmMvc3BpY2UtbWFyc2hhbC50eHQKPiA+IGlu
ZGV4IDQ2YmU0MDUuLmU2MGQ3MjUgMTAwNjQ0Cj4gPiAtLS0gYS9zcmMvc3BpY2UtbWFyc2hhbC50
eHQKPiA+ICsrKyBiL3NyYy9zcGljZS1tYXJzaGFsLnR4dAo+ID4gQEAgLTgsNiArOCw3IEBAIFZP
SUQ6UE9JTlRFUixJTlQKPiA+ICAgVk9JRDpQT0lOVEVSLEJPT0xFQU4KPiA+ICAgQk9PTEVBTjpQ
T0lOVEVSLFVJTlQKPiA+ICAgQk9PTEVBTjpVSU5UCj4gPiArQk9PTEVBTjpWT0lECj4gPiAgIFZP
SUQ6VUlOVCxQT0lOVEVSLFVJTlQKPiA+ICAgVk9JRDpVSU5ULFVJTlQsUE9JTlRFUixVSU5UCj4g
PiAgIEJPT0xFQU46VUlOVCxQT0lOVEVSLFVJTlQKPiA+IGRpZmYgLS1naXQgYS9zcmMvc3BpY2Ut
d2lkZ2V0LmMgYi9zcmMvc3BpY2Utd2lkZ2V0LmMKPiA+IGluZGV4IGE5YmExZjEuLjM0ZTNjNWUg
MTAwNjQ0Cj4gPiAtLS0gYS9zcmMvc3BpY2Utd2lkZ2V0LmMKPiA+ICsrKyBiL3NyYy9zcGljZS13
aWRnZXQuYwo+ID4gQEAgLTIyMTAsNiArMjIxMCw4IEBAIHN0YXRpYyB2b2lkIHVwZGF0ZV9pbWFn
ZShTcGljZURpc3BsYXkgKmRpc3BsYXkpCj4gPiAgICAgICBTcGljZURpc3BsYXlQcml2YXRlICpk
ID0gZGlzcGxheS0+cHJpdjsKPiA+Cj4gPiAgICAgICBzcGljZV9jYWlyb19pbWFnZV9jcmVhdGUo
ZGlzcGxheSk7Cj4gPiArICAgIGd0a19zdGFja19zZXRfdmlzaWJsZV9jaGlsZF9uYW1lKGQtPnN0
YWNrLCAiZHJhdy1hcmVhIik7Cj4gPiArCj4gPiAgICAgICBpZiAoZC0+Y2FudmFzLmNvbnZlcnQp
Cj4gPiAgICAgICAgICAgZG9fY29sb3JfY29udmVydChkaXNwbGF5LCAmZC0+YXJlYSk7Cj4gPiAg
IH0KPiA+IEBAIC0yNzgyLDcgKzI3ODQsNyBAQCBzdGF0aWMgdm9pZCBnc3Rfc2l6ZV9hbGxvY2F0
ZShHdGtXaWRnZXQgKndpZGdldCwgR2RrUmVjdGFuZ2xlICphLCBncG9pbnRlciBkYXRhKQo+ID4g
ICAvKiBUaGlzIGNhbGxiYWNrIHNob3VsZCBwYXNzIHRvIHRoZSB3aWRnZXQgYSBwb2ludGVyIG9m
IHRoZSBwaXBlbGluZQo+ID4gICAgKiBzbyB0aGF0IHdlIGNhbiBzZXQgcGlwZWxpbmUgYW5kIG92
ZXJsYXkgcmVsYXRlZCBjYWxscyBmcm9tIGhlcmUuCj4gPiAgICAqLwo+ID4gLXN0YXRpYyBnYm9v
bGVhbiBzZXRfb3ZlcmxheShTcGljZUNoYW5uZWwgKmNoYW5uZWwsIHZvaWQqIHBpcGVsaW5lX3B0
ciwgU3BpY2VEaXNwbGF5ICpkaXNwbGF5KQo+ID4gK3N0YXRpYyBnYm9vbGVhbiBnc3Rfc2V0X292
ZXJsYXkoU3BpY2VDaGFubmVsICpjaGFubmVsLCB2b2lkKiBwaXBlbGluZV9wdHIsIFNwaWNlRGlz
cGxheSAqZGlzcGxheSkKPiA+ICAgewo+ID4gICAjaWYgZGVmaW5lZChHREtfV0lORE9XSU5HX1gx
MSkKPiA+ICAgICAgIFNwaWNlRGlzcGxheVByaXZhdGUgKmQgPSBkaXNwbGF5LT5wcml2Owo+ID4g
QEAgLTI4MDgsNiArMjgxMCwxNCBAQCBzdGF0aWMgZ2Jvb2xlYW4gc2V0X292ZXJsYXkoU3BpY2VD
aGFubmVsICpjaGFubmVsLCB2b2lkKiBwaXBlbGluZV9wdHIsIFNwaWNlRGlzcAo+ID4gICAgICAg
cmV0dXJuIGZhbHNlOwo+ID4gICB9Cj4gPgo+ID4gK3N0YXRpYyBnYm9vbGVhbiBtanBlZ19zZXRf
b3ZlcmxheShTcGljZUNoYW5uZWwgKmNoYW5uZWwsIFNwaWNlRGlzcGxheSAqZGlzcGxheSkKPiA+
ICt7Cj4gPiArICAgIFNwaWNlRGlzcGxheVByaXZhdGUgKmQgPSBkaXNwbGF5LT5wcml2Owo+ID4g
KyAgICBnX3dhcm5pbmcoIlNFVCEiKTsKPgo+IFNhbWUKPgo+ID4gKyAgICBndGtfc3RhY2tfc2V0
X3Zpc2libGVfY2hpbGRfbmFtZShkLT5zdGFjaywgImRyYXctYXJlYSIpOwo+ID4gKyAgICByZXR1
cm4gdHJ1ZTsKPiA+ICt9Cj4gPiArCj4gPiAgIHN0YXRpYyB2b2lkIGludmFsaWRhdGUoU3BpY2VD
aGFubmVsICpjaGFubmVsLAo+ID4gICAgICAgICAgICAgICAgICAgICAgICAgIGdpbnQgeCwgZ2lu
dCB5LCBnaW50IHcsIGdpbnQgaCwgZ3BvaW50ZXIgZGF0YSkKPiA+ICAgewo+ID4gQEAgLTMxOTIs
NyArMzIwMiw5IEBAIHN0YXRpYyB2b2lkIGNoYW5uZWxfbmV3KFNwaWNlU2Vzc2lvbiAqcywgU3Bp
Y2VDaGFubmVsICpjaGFubmVsLCBTcGljZURpc3BsYXkgKmRpCj4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgR19DQUxMQkFDSyhzcGljZV9kaXNwbGF5X3dpZGdldF91
cGRhdGVfbW9uaXRvcl9hcmVhKSwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBkaXNwbGF5LCBHX0NPTk5FQ1RfQUZURVIgfCBHX0NPTk5FQ1RfU1dBUFBFRCk7Cj4g
PiAgICAgICAgICAgc3BpY2VfZ19zaWduYWxfY29ubmVjdF9vYmplY3QoY2hhbm5lbCwgImdzdC12
aWRlby1vdmVybGF5IiwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IEdfQ0FMTEJBQ0soc2V0X292ZXJsYXkpLCBkaXNwbGF5LCBHX0NPTk5FQ1RfQUZURVIpOwo+ID4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR19DQUxMQkFDSyhnc3Rfc2V0
X292ZXJsYXkpLCBkaXNwbGF5LCBHX0NPTk5FQ1RfQUZURVIpOwo+ID4gKyAgICAgICAgc3BpY2Vf
Z19zaWduYWxfY29ubmVjdF9vYmplY3QoY2hhbm5lbCwgIm1qcGVnLXZpZGVvLW92ZXJsYXkiLAo+
ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR19DQUxMQkFDSyhtanBl
Z19zZXRfb3ZlcmxheSksIGRpc3BsYXksIEdfQ09OTkVDVF9BRlRFUik7Cj4gPiAgICAgICAgICAg
aWYgKHNwaWNlX2Rpc3BsYXlfY2hhbm5lbF9nZXRfcHJpbWFyeShjaGFubmVsLCAwLCAmcHJpbWFy
eSkpIHsKPiA+ICAgICAgICAgICAgICAgcHJpbWFyeV9jcmVhdGUoY2hhbm5lbCwgcHJpbWFyeS5m
b3JtYXQsIHByaW1hcnkud2lkdGgsIHByaW1hcnkuaGVpZ2h0LAo+ID4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBwcmltYXJ5LnN0cmlkZSwgcHJpbWFyeS5zaG1pZCwgcHJpbWFyeS5kYXRh
LCBkaXNwbGF5KTsKPgo+Cj4gSSdkIGFsc28gc3VnZ2VzdCBhbm90aGVyIG9wdGlvbiB3aGljaCBp
cyB0byBub3QgYWxsb3cgc3dpdGNoaW5nIGludG8KPiBidWlsdC1pbgo+IG1qcGVnIGluIGNhc2Ug
eW91IHN0YXJ0ZWQgd2l0aCBnc3RyZWFtZXIgKGkuZS4gb25lIHlvdSBzdGFydGVkIHdpdGgKPiBn
c3RyZWFtZXIgZGVjb2RlciBzdGljayB0byBpdCkuCj4gSSBndWVzcyBpdCB3aWxsIGJlIHNpbXBs
ZXIgYnV0IG5lZWRzIHRvIHNlZSB3aGF0IHRoaXMgd291bGQgcmVxdWlyZS4KCmNhbiB3ZSBhc3N1
bWUgdGhhdCBHc3RyZWFtZXIgYWx3YXlzIHN1cHBvcnRzIE1KUEVHIGRlY29kaW5nPwppZiB5ZXMs
IHdoYXQgaXQgdGhlIHBvaW50IG9mIHVzaW5nIHRoZSBuYXRpdmUgZGVjb2Rlcj8KCmF0IHRoZSBt
b21lbnQsIGRpc3BsYXlfc3RyZWFtX2NyZWF0ZSBnb2VzIGludG8gdGhlIG5hdGl2ZSBkZWNvZGVy
IGlmCnRoZSBzdHJlYW0gaXMgTUpQRUcsIGFuZCBHU1Qgb3RoZXJ3aXNlLiBTbyBHU1Qgd2lsbCBu
ZXZlciBkZWNvZGUgTUpQRUcKc3RyZWFtcy4KCgo+ID4gLS0KPiA+IDIuMjEuMAo+ID4gX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiA+IFNwaWNlLWRldmVs
IG1haWxpbmcgbGlzdAo+ID4gU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gPiBo
dHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVs
Cj4gX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiBTcGlj
ZS1kZXZlbCBtYWlsaW5nIGxpc3QKPiBTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcK
PiBodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRl
dmVsCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNl
LWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0
cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
