Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 161E45BCB4
	for <lists+spice-devel@lfdr.de>; Mon,  1 Jul 2019 15:16:42 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id CAD9789B42;
	Mon,  1 Jul 2019 13:16:39 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-io1-f65.google.com (mail-io1-f65.google.com
 [209.85.166.65])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 95C4089B3C
 for <spice-devel@lists.freedesktop.org>; Mon,  1 Jul 2019 13:16:38 +0000 (UTC)
Received: by mail-io1-f65.google.com with SMTP id e5so28710286iok.4
 for <spice-devel@lists.freedesktop.org>; Mon, 01 Jul 2019 06:16:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=mc7REK0GXIiSdw2DsR/xh+W/648iyEjPpcCLZsPWmRM=;
 b=Ybf11NJdz3K8/pZF10Xsv7EOCanOahSUgKlCtuUVzsR9RO9zcJ6kcPl5zmvoU4ri3h
 JW0bzBtOAR4+2bGV5Wi9w/Gb10H0dnP01wKQhHMv//kwvVN84tCJAEOBEZuVJqh+3JnA
 pGrsxkoPerZTzwSRRrEhn/TfU73qo9pSa83gABcOnGR/7P1mk+QXXCXl+kJkdxBA3c34
 NKN/AxWuAZdMlTyJDpsOgNcCp38Sak4ksn0IO2c8x5oM9d0JesMkJw5uoUPnEQLhAki2
 NWy9b98dzZByPP0RkLB+lnzcIQ1rLltop3UqbrjBFtXkeFN6nCopbOed13rE3dyPjLhN
 ZulA==
X-Gm-Message-State: APjAAAWjT7PTqehHJIbWc9posxVrC9uyZVbarj2sT1RySC0s5mMQFkE6
 HemvXLABwbikxXCbxHda27EZzaVsLgUjBoS4LugCPg==
X-Google-Smtp-Source: APXvYqzlkbvhg2W1OHm6pHh5MRzXq7oH7hkWGAcjZ6ibszIkHJkRCzGGJbvGbkYPKPEdT4gdnGmfier2ituc9kVqHXo=
X-Received: by 2002:a02:37d6:: with SMTP id r205mr14457447jar.57.1561986997844; 
 Mon, 01 Jul 2019 06:16:37 -0700 (PDT)
MIME-Version: 1.0
References: <20190701094744.18558-1-jjanku@redhat.com>
 <1029094810.25942857.1561978920203.JavaMail.zimbra@redhat.com>
In-Reply-To: <1029094810.25942857.1561978920203.JavaMail.zimbra@redhat.com>
From: Jakub Janku <jjanku@redhat.com>
Date: Mon, 1 Jul 2019 15:16:26 +0200
Message-ID: <CAH=CeiA8nhMS5+64jK=VJu4-FumvsbnrFCW3ePXs7CcsEwO02A@mail.gmail.com>
To: Frediano Ziglio <fziglio@redhat.com>
Subject: Re: [Spice-devel] [PATCH spice-gtk] webdav: don't buffer input from
 phodav
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SGksCgpPbiBNb24sIEp1bCAxLCAyMDE5IGF0IDE6MDIgUE0gRnJlZGlhbm8gWmlnbGlvIDxmemln
bGlvQHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gPgo+ID4gVGhlIGN1cnJlbnQgYXBwcm9hY2ggd2l0
aCBPdXRwdXRRdWV1ZSBpbiB3ZWJkYXYgaGFzIHNldmVyYWwgcHJvYmxlbXM6Cj4gPgo+ID4gKiBp
ZiB0aGUgY29ubmVjdGlvbiBpcyBzbG93LCB3ZWJkYXYga2VlcHMgcmVhZGluZyBmcm9tIHBob2Rh
dgo+ID4gYW5kIHB1c2hpbmcgbWVzc2FnZXMgdG8gdGhlIGludGVybmFsIGNoYW5uZWwgeG1pdF9x
dWV1ZS4KPiA+IFRoaXMgd2F5LCB0aGUgcXVldWUgY2FuIGdyb3cgdmVyeSBxdWlja2x5IGFuZCB0
aGUgd2hvbGUgZmlsZQo+ID4gdGhhdCBpcyBiZWluZyB0cmFuc2ZlcnJlZCB1c2luZyB3ZWJkYXYg
ZXNzZW50aWFsbHkgZ2V0cyBsb2FkZWQgaW50byBtZW1vcnkuCj4gPgo+ID4gKiBzcGljZSBjaGFu
bmVsIGZpcnN0IGZsdXNoZXMgYWxsIG1lc3NhZ2VzIGluIHRoZSB4bWl0X3F1ZXVlIGFuZAo+ID4g
dGhlbiBwcm9jZWVkcyB0byByZWFkaW5nLiBJZiB3ZWJkYXYgZmxvb2RzIHRoZSB4bWl0X3F1ZXVl
IHdpdGgKPiA+IGEgdG9uIG9mIG1lc3NhZ2VzLCBzcGljZSBjaGFubmVsIGRvZXMgbm90IGxlYXZl
IGl0ZXJhdGVfd3JpdGUgdW50aWwKPiA+IHRoZSBxdWV1ZSBnZXRzIGVtcHR5LiBUaGlzIHdheSwg
cmVhZGluZyBmcm9tIHRoZSBjaGFubmVsIGlzIGJsb2NrZWQKPiA+IHRpbGwgdGhlIHdob2xlIGZp
bGUgaXMgdHJhbnNmZXJyZWQuCj4gPgo+ID4gKiBPdXRwdXRRdWV1ZSB1c2VzIGdfb3V0cHV0X3N0
cmVhbV9mbHVzaF9hc3luYygpIG9uIFNwaWNlVm1jT3V0cHV0U3RyZWFtCj4gPiB0aGF0IGRvZXMg
bm90IGltcGxlbWVudCBmbHVzaAo+ID4KPiA+IFRvIHNvbHZlIHRoZXNlIGlzc3VlcywgZG9uJ3Qg
cmVhZCBmcm9tIHBob2RhdiB1bnRpbCB0aGUgbGFzdCBtZXNzYWdlCj4gPiBmb3IgYSBnaXZlbiBj
bGllbnQgaXMgd3JpdHRlbiBvdXQgdG8gdGhlIHNvY2tldC4KPiA+IChtYWluIGNoYW5uZWwgY3Vy
cmVudGx5IHVzZXMgdGhlIHNhbWUgYXBwcm9hY2ggd2hlbiB0cmFuc2ZlcnJpbmcgZmlsZXMpCj4g
Pgo+ID4gT3V0cHV0UXVldWUgdXNlZCBhbiBpZGxlIGZ1bmN0aW9uIHRvIHNjaGVkdWxlIHRoZSB3
cml0ZSBhbmQgdGhlbgo+ID4gY2FsbGVkIG11eF9wdXNoZWRfY2Igd2hpY2ggc3RhcnRlZCByZWFk
aW5nIGZyb20gcGhvZGF2IHdpdGggcHJpb3JpdHkKPiA+IEdfUFJJT1JJVFlfREVGQVVMVC4KPiA+
IFNpbmNlIHRoaXMgbmV3IGFwcHJvYWNoIGRvZXMgbm90IHV0aWxpemUgdGhlIGlkbGUgc2NoZWR1
bGluZywKPiA+IGxvd2VyIHRoZSBwcmlvcml0eSBpbiBjbGllbnRfc3RhcnRfcmVhZCgpIHRvIEdf
UFJJT1JJVFlfREVGQVVMVF9JRExFCj4gPiB0byBtYWtlIHN1cmUgd2ViZGF2IGRvZXMgbm90IGJs
b2NrIG90aGVyIGNoYW5uZWxzLgo+ID4KPgo+IFRoaXMgc291bmRzIGEgYml0IHdvcnJ5aW5nLiBX
aHkgd2l0aCBhbGwgY29yb3V0aW5lL2FzeW5jIGNvZGUgd2UKPiBoYXZlIHdlIHNob3VsZCBoYXZl
IGEgYmxvY2thZ2U/IFRoaXMgc291bmRzIHdyb25nLgoKVG8gYmUgaG9uZXN0LCBJIGRpZCBub3Qg
c3BlbnQgbXVjaCB0aW1lIGxvb2tpbmcgYXQgd2h5IHRoaXMgYmxvY2tzLgpMb3dlcmluZyB0aGUg
cHJpb3JpdHkgb2Ygd2ViZGF2IG1ha2VzIHNlbnNlIHRvIG1lIHJlZ2FyZGxlc3Mgb2YgdGhpcyBp
c3N1ZS4KQW5vdGhlciB0aGluZyBpcyB0aGF0IHdpdGggeW91ciBzcGljZS1zZXJ2ZXIgc2VyaWVz
IGNvbmNlcm5pbmcKc3BpY2V2bWMgYW5kIERvUywgdGhpcyBpc24ndCBhbiBpc3N1ZS4KPgo+ID4g
QWxzbyBpbXBsZW1lbnQgc3BpY2Vfd2ViZGF2X2NoYW5uZWxfcmVzZXQoKS4gVGhpcyBpcyBuZWNl
c3NhcnkgYmVjYXVzZQo+ID4gc3BpY2Vfdm1jX3dyaXRlX2FzeW5jKCkgcmVmZXJlbmNlcyB0aGUg
Y2hhbm5lbC4gSWYgdGhlIGNoYW5uZWwgaXMgdG8gYmUKPiA+IGRpc2Nvbm5lY3RlZCwgdGhlIHdy
aXRlIG9wZXJhdGlvbnMgbmVlZCB0byBiZSBjYW5jZWxsZWQgc28gdGhhdAo+ID4gdGhlIHJlZmVy
ZW5jZXMgdG8gdGhlIGNoYW5uZWwgYXJlIHJlbGVhc2VkIGFzYXAuIE90aGVyd2lzZSwKPiA+IHNw
aWNlIHNlc3Npb24gd291bGQgYmUgc3R1Y2sgd2FpdGluZyBmb3IgdGhlIGNoYW5uZWwgdG8gZmlu
YWxpemUuCj4gPgo+ID4gU2lnbmVkLW9mZi1ieTogSmFrdWIgSmFua8WvIDxqamFua3VAcmVkaGF0
LmNvbT4KPiA+IC0tLQo+ID4KPiA+IE5vdGU6IEkgbGVmdCB0aGUgT3V0cHV0UXVldWUgY29kZSBz
dGlsbCBpbiBwbGFjZSBzaW5jZSBJJ20gY29uc2lkZXJpbmcKPiA+IHVzaW5nIGl0IGZvciB0aGUg
ZHJhZyZkcm9wIGZ1bmN0aW9uYWxpdHkuCj4gPgo+ID4gIHNyYy9jaGFubmVsLXdlYmRhdi5jIHwg
NDkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0KPiA+ICAxIGZp
bGUgY2hhbmdlZCwgMzYgaW5zZXJ0aW9ucygrKSwgMTMgZGVsZXRpb25zKC0pCj4gPgo+ID4gZGlm
ZiAtLWdpdCBhL3NyYy9jaGFubmVsLXdlYmRhdi5jIGIvc3JjL2NoYW5uZWwtd2ViZGF2LmMKPiA+
IGluZGV4IGY1YTM4YWQuLjY2ZjhhNWIgMTAwNjQ0Cj4gPiAtLS0gYS9zcmMvY2hhbm5lbC13ZWJk
YXYuYwo+ID4gKysrIGIvc3JjL2NoYW5uZWwtd2ViZGF2LmMKPiA+IEBAIC00NSwxMyArNDUsMTIg
QEAKPiA+ICAgKiBTaW5jZTogMC4yNAo+ID4gICAqLwo+ID4KPiA+IC10eXBlZGVmIHN0cnVjdCBf
T3V0cHV0UXVldWUgT3V0cHV0UXVldWU7Cj4gPiArLyogdHlwZWRlZiBzdHJ1Y3QgX091dHB1dFF1
ZXVlIE91dHB1dFF1ZXVlOyAqLwo+ID4KPiA+ICBzdHJ1Y3QgX1NwaWNlV2ViZGF2Q2hhbm5lbFBy
aXZhdGUgewo+ID4gICAgICBTcGljZVZtY1N0cmVhbSAqc3RyZWFtOwo+ID4gICAgICBHQ2FuY2Vs
bGFibGUgKmNhbmNlbGxhYmxlOwo+ID4gICAgICBHSGFzaFRhYmxlICpjbGllbnRzOwo+ID4gLSAg
ICBPdXRwdXRRdWV1ZSAqcXVldWU7Cj4gPgo+ID4gICAgICBnYm9vbGVhbiBkZW11eGluZzsKPiA+
ICAgICAgc3RydWN0IF9kZW11eCB7Cj4gPiBAQCAtNjUsNiArNjQsNyBAQCBHX0RFRklORV9UWVBF
X1dJVEhfUFJJVkFURShTcGljZVdlYmRhdkNoYW5uZWwsCj4gPiBzcGljZV93ZWJkYXZfY2hhbm5l
bCwgU1BJQ0VfVFlQRV8KPiA+Cj4gPiAgc3RhdGljIHZvaWQgc3BpY2Vfd2ViZGF2X2hhbmRsZV9t
c2coU3BpY2VDaGFubmVsICpjaGFubmVsLCBTcGljZU1zZ0luICptc2cpOwo+ID4KPiA+ICsjaWYg
MAo+ID4gIHN0cnVjdCBfT3V0cHV0UXVldWUgewo+ID4gICAgICBHT3V0cHV0U3RyZWFtICpvdXRw
dXQ7Cj4gPiAgICAgIGdib29sZWFuIGZsdXNoaW5nOwo+ID4gQEAgLTE3OSw2ICsxNzksOCBAQCBz
dGF0aWMgdm9pZCBvdXRwdXRfcXVldWVfcHVzaChPdXRwdXRRdWV1ZSAqcSwgY29uc3QKPiA+IGd1
aW50OCAqYnVmLCBnc2l6ZSBzaXplLAo+ID4gICAgICAgICAgcS0+aWRsZV9pZCA9IGdfaWRsZV9h
ZGQob3V0cHV0X3F1ZXVlX2lkbGUsIHEpOwo+ID4gIH0KPiA+Cj4gPiArI2VuZGlmCj4gPiArCj4g
PiAgdHlwZWRlZiBzdHJ1Y3QgQ2xpZW50Cj4gPiAgewo+ID4gICAgICBndWludCByZWZzOwo+ID4g
QEAgLTIyNywxMCArMjI5LDE3IEBAIHN0YXRpYyB2b2lkIHJlbW92ZV9jbGllbnQoQ2xpZW50ICpj
bGllbnQpCj4gPiAgICAgIGdfaGFzaF90YWJsZV9yZW1vdmUoY2xpZW50LT5zZWxmLT5wcml2LT5j
bGllbnRzLCAmY2xpZW50LT5pZCk7Cj4gPiAgfQo+ID4KPiA+IC1zdGF0aWMgdm9pZCBtdXhfcHVz
aGVkX2NiKE91dHB1dFF1ZXVlICpxLCBncG9pbnRlciB1c2VyX2RhdGEpCj4gPiArI2RlZmluZSBN
QVhfTVVYX1NJWkUgR19NQVhVSU5UMTYKPiA+ICsKPiA+ICtzdGF0aWMgdm9pZAo+ID4gK211eF9t
c2dfZmx1c2hlZF9jYihHT2JqZWN0ICpzb3VyY2Vfb2JqZWN0LAo+ID4gKyAgICAgICAgICAgICAg
ICAgICBHQXN5bmNSZXN1bHQgKnJlc3VsdCwKPiA+ICsgICAgICAgICAgICAgICAgICAgZ3BvaW50
ZXIgdXNlcl9kYXRhKQo+ID4gIHsKPiA+ICAgICAgQ2xpZW50ICpjbGllbnQgPSB1c2VyX2RhdGE7
Cj4gPgo+ID4gKyAgICBnX291dHB1dF9zdHJlYW1fd3JpdGVfZmluaXNoKEdfT1VUUFVUX1NUUkVB
TShzb3VyY2Vfb2JqZWN0KSwgcmVzdWx0LAo+ID4gTlVMTCk7Cj4gPiArCj4gPiAgICAgIGlmIChj
bGllbnQtPm11eC5zaXplID09IDAgfHwKPiA+ICAgICAgICAgICFjbGllbnRfc3RhcnRfcmVhZChj
bGllbnQpKSB7Cj4gPiAgICAgICAgICByZW1vdmVfY2xpZW50KGNsaWVudCk7Cj4gPiBAQCAtMjM5
LDE0ICsyNDgsMTMgQEAgc3RhdGljIHZvaWQgbXV4X3B1c2hlZF9jYihPdXRwdXRRdWV1ZSAqcSwg
Z3BvaW50ZXIKPiA+IHVzZXJfZGF0YSkKPiA+ICAgICAgY2xpZW50X3VucmVmKGNsaWVudCk7Cj4g
PiAgfQo+ID4KPiA+IC0jZGVmaW5lIE1BWF9NVVhfU0laRSBHX01BWFVJTlQxNgo+ID4gLQo+ID4g
IHN0YXRpYyB2b2lkIHNlcnZlcl9yZXBseV9jYihHT2JqZWN0ICpzb3VyY2Vfb2JqZWN0LAo+ID4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHQXN5bmNSZXN1bHQgKnJlcywKPiA+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgZ3BvaW50ZXIgdXNlcl9kYXRhKQo+ID4gIHsKPiA+ICAg
ICAgQ2xpZW50ICpjbGllbnQgPSB1c2VyX2RhdGE7Cj4gPiAgICAgIFNwaWNlV2ViZGF2Q2hhbm5l
bFByaXZhdGUgKmMgPSBjbGllbnQtPnNlbGYtPnByaXY7Cj4gPiArICAgIEdPdXRwdXRTdHJlYW0g
Km11eF9vdXQ7Cj4gPiAgICAgIEdFcnJvciAqZXJyID0gTlVMTDsKPiA+ICAgICAgZ3NzaXplIHNp
emU7Cj4gPgo+ID4gQEAgLTI1OCwxMCArMjY2LDE1IEBAIHN0YXRpYyB2b2lkIHNlcnZlcl9yZXBs
eV9jYihHT2JqZWN0ICpzb3VyY2Vfb2JqZWN0LAo+ID4gICAgICBnX3JldHVybl9pZl9mYWlsKHNp
emUgPj0gMCk7Cj4gPiAgICAgIGNsaWVudC0+bXV4LnNpemUgPSBzaXplOwo+ID4KPiA+IC0gICAg
b3V0cHV0X3F1ZXVlX3B1c2goYy0+cXVldWUsIChndWludDggKikmY2xpZW50LT5tdXguaWQsIHNp
emVvZihnaW50NjQpLAo+ID4gTlVMTCwgTlVMTCk7Cj4gPiArICAgIG11eF9vdXQgPSBnX2lvX3N0
cmVhbV9nZXRfb3V0cHV0X3N0cmVhbShHX0lPX1NUUkVBTShjLT5zdHJlYW0pKTsKPiA+ICsKPiA+
ICsgICAgZ19vdXRwdXRfc3RyZWFtX3dyaXRlKG11eF9vdXQsIChndWludDggKikmY2xpZW50LT5t
dXguaWQsCj4gPiBzaXplb2YoZ2ludDY0KSwgTlVMTCwgTlVMTCk7Cj4gPiAgICAgIGNsaWVudC0+
bXV4LnNpemUgPSBHVUlOVDE2X1RPX0xFKGNsaWVudC0+bXV4LnNpemUpOwo+ID4gLSAgICBvdXRw
dXRfcXVldWVfcHVzaChjLT5xdWV1ZSwgKGd1aW50OCAqKSZjbGllbnQtPm11eC5zaXplLAo+ID4g
c2l6ZW9mKGd1aW50MTYpLCBOVUxMLCBOVUxMKTsKPiA+IC0gICAgb3V0cHV0X3F1ZXVlX3B1c2go
Yy0+cXVldWUsIChndWludDggKiljbGllbnQtPm11eC5idWYsIHNpemUsCj4gPiAoR0Z1bmMpbXV4
X3B1c2hlZF9jYiwgY2xpZW50KTsKPiA+ICsgICAgZ19vdXRwdXRfc3RyZWFtX3dyaXRlKG11eF9v
dXQsIChndWludDggKikmY2xpZW50LT5tdXguc2l6ZSwKPiA+IHNpemVvZihndWludDE2KSwgTlVM
TCwgTlVMTCk7Cj4gPiArICAgIC8qIHRoaXMgaW50ZXJuYWxseSB1c2VzIHNwaWNlX3ZtY193cml0
ZV9hc3luYygpLCBwcmlvcml0eSBpcyBpZ25vcmVkOwo+ID4gKyAgICAgKiB0aGUgY2FsbGJhY2sg
aXMgaW52b2tlZCBvbmNlIHRoZSBtc2cgaXMgd3JpdHRlbiBvdXQgdG8gdGhlIHNvY2tldCAqLwo+
ID4gKyAgICBnX291dHB1dF9zdHJlYW1fd3JpdGVfYXN5bmMobXV4X291dCwgKGd1aW50OCAqKWNs
aWVudC0+bXV4LmJ1Ziwgc2l6ZSwKPiA+ICsgICAgICAgIEdfUFJJT1JJVFlfREVGQVVMVCwgY2xp
ZW50LT5jYW5jZWxsYWJsZSwgbXV4X21zZ19mbHVzaGVkX2NiLAo+ID4gY2xpZW50KTsKPgo+IFdo
eSBkb24ndCB5b3UgdXNlIGdfb3V0cHV0X3N0cmVhbV93cml0ZXZfYWxsX2FzeW5jIGhlcmUgd3Jp
dGluZyBhbGwgMyBidWZmZXJzCj4gdG9nZXRoZXIgYW5kIGF2b2lkIGJsb2NraW5nIGNhbGxzPwoK
QWN0dWFsbHksIGFsbCBvZiB0aGVzZSAzIGNhbGxzIGFyZSBpbiBhIHdheSBzeW5jaHJvbm91cyAt
LSBsb29rIGF0ClNwaWNlVm1jT3V0cHV0U3RyZWFtIGltcGxlbWVudGF0aW9uLAp0aGV5IGFsbCBj
cmVhdGUgYSBuZXcgb3V0IG1lc3NhZ2UgYW5kIGFwcGVuZCBpdCB0byB0aGUgY2hhbm5lbCdzIHht
aXRfcXVldWUuClRoZSBvbmx5IGRpZmZlcmVuY2UgaXMgdGhhdCB3aXRoIHRoZSBhc3luYyBjYWxs
LCB3ZSBjYW4gcHJvdmlkZSBhCmZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGJhY2sgb25jZSB0aGUg
bWVzc2FnZSBpcyB3cml0dGVuIG91dC4KCkkgYWdyZWUgdGhhdCB0aGUgMyBidWZmZXJzIGNvdWxk
IGJlIHdyaXR0ZW4gdG9nZXRoZXIsIGJ1dCB3cml0aW5nIHRoZW0Kc2VwYXJhdGVseSB3YXNuJ3Qg
aW50cm9kdWNlZCBieSBtZS4KCj4gV2VsbCwgaXQncyBhdmFpbGFibGUgc3RhcnRpbmcgZnJvbSBH
TGliIDIuNjAgc28gcG9zc2libHkgeW91J2xsIGhhdmUKPiB0byBwcm92aWRlIGEgcmVwbGFjZW1l
bnQgZm9yIEdMaWIgMi42MCB1c2luZyBnX291dHB1dF9zdHJlYW1fd3JpdGVfYWxsX2FzeW5jLgo+
Cj4gPgo+ID4gICAgICByZXR1cm47Cj4gPgo+ID4gQEAgLTI4NCw4ICsyOTcsOSBAQCBzdGF0aWMg
Ym9vbCBjbGllbnRfc3RhcnRfcmVhZChDbGllbnQgKmNsaWVudCkKPiA+ICAgICAgaWYgKGdfaW5w
dXRfc3RyZWFtX2lzX2Nsb3NlZChpbnB1dCkpIHsKPiA+ICAgICAgICAgIHJldHVybiBmYWxzZTsK
PiA+ICAgICAgfQo+ID4gKyAgICAvKiB1c2UgbG93IHByaW9yaXR5IHRvIGxlYXZlIGVub3VnaCB0
aW1lIGZvciBvdGhlciBjaGFubmVscyAqLwo+ID4gICAgICBnX2lucHV0X3N0cmVhbV9yZWFkX2Fz
eW5jKGlucHV0LCBjbGllbnQtPm11eC5idWYsIE1BWF9NVVhfU0laRSwKPiA+IC0gICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBHX1BSSU9SSVRZX0RFRkFVTFQsIGNsaWVudC0+Y2FuY2VsbGFi
bGUsCj4gPiBzZXJ2ZXJfcmVwbHlfY2IsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgR19QUklPUklUWV9ERUZBVUxUX0lETEUsIGNsaWVudC0+Y2FuY2VsbGFibGUsCj4gPiBzZXJ2
ZXJfcmVwbHlfY2IsCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3Jl
ZihjbGllbnQpKTsKPiA+ICAgICAgcmV0dXJuIHRydWU7Cj4gPiAgfQo+ID4gQEAgLTU0MCw5ICs1
NTQsNiBAQCBzdGF0aWMgdm9pZCBzcGljZV93ZWJkYXZfY2hhbm5lbF9pbml0KFNwaWNlV2ViZGF2
Q2hhbm5lbAo+ID4gKmNoYW5uZWwpCj4gPiAgICAgIGMtPmNsaWVudHMgPSBnX2hhc2hfdGFibGVf
bmV3X2Z1bGwoZ19pbnQ2NF9oYXNoLCBnX2ludDY0X2VxdWFsLAo+ID4gICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIE5VTEwsIGNsaWVudF9yZW1vdmVfdW5yZWYpOwo+ID4g
ICAgICBjLT5kZW11eC5idWYgPSBnX21hbGxvYzAoTUFYX01VWF9TSVpFKTsKPiA+IC0KPiA+IC0g
ICAgR091dHB1dFN0cmVhbSAqb3N0cmVhbSA9Cj4gPiBnX2lvX3N0cmVhbV9nZXRfb3V0cHV0X3N0
cmVhbShHX0lPX1NUUkVBTShjLT5zdHJlYW0pKTsKPiA+IC0gICAgYy0+cXVldWUgPSBvdXRwdXRf
cXVldWVfbmV3KG9zdHJlYW0pOwo+ID4gIH0KPiA+Cj4gPiAgc3RhdGljIHZvaWQgc3BpY2Vfd2Vi
ZGF2X2NoYW5uZWxfZmluYWxpemUoR09iamVjdCAqb2JqZWN0KQo+ID4gQEAgLTU2MCw3ICs1NzEs
NiBAQCBzdGF0aWMgdm9pZCBzcGljZV93ZWJkYXZfY2hhbm5lbF9kaXNwb3NlKEdPYmplY3QgKm9i
amVjdCkKPiA+Cj4gPiAgICAgIGdfY2FuY2VsbGFibGVfY2FuY2VsKGMtPmNhbmNlbGxhYmxlKTsK
PiA+ICAgICAgZ19jbGVhcl9vYmplY3QoJmMtPmNhbmNlbGxhYmxlKTsKPiA+IC0gICAgZ19jbGVh
cl9wb2ludGVyKCZjLT5xdWV1ZSwgb3V0cHV0X3F1ZXVlX2ZyZWUpOwo+ID4gICAgICBnX2NsZWFy
X29iamVjdCgmYy0+c3RyZWFtKTsKPiA+ICAgICAgZ19oYXNoX3RhYmxlX3VucmVmKGMtPmNsaWVu
dHMpOwo+ID4KPiA+IEBAIC01NzIsNiArNTgyLDE4IEBAIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRh
dl9jaGFubmVsX3VwKFNwaWNlQ2hhbm5lbAo+ID4gKmNoYW5uZWwpCj4gPiAgICAgIENIQU5ORUxf
REVCVUcoY2hhbm5lbCwgInVwIik7Cj4gPiAgfQo+ID4KPiA+ICtzdGF0aWMgdm9pZCBzcGljZV93
ZWJkYXZfY2hhbm5lbF9yZXNldChTcGljZUNoYW5uZWwgKmNoYW5uZWwsIGdib29sZWFuCj4gPiBt
aWdyYXRpbmcpCj4gPiArewo+ID4gKyAgICBTcGljZVdlYmRhdkNoYW5uZWxQcml2YXRlICpjOwo+
ID4gKyAgICBjID0KPiA+IHNwaWNlX3dlYmRhdl9jaGFubmVsX2dldF9pbnN0YW5jZV9wcml2YXRl
KFNQSUNFX1dFQkRBVl9DSEFOTkVMKGNoYW5uZWwpKTsKPiA+ICsKPiA+ICsgICAgZ19jYW5jZWxs
YWJsZV9jYW5jZWwoYy0+Y2FuY2VsbGFibGUpOwo+ID4gKyAgICBjLT5kZW11eGluZyA9IEZBTFNF
Owo+ID4gKyAgICBnX2hhc2hfdGFibGVfcmVtb3ZlX2FsbChjLT5jbGllbnRzKTsKPiA+ICsKPiA+
ICsKPiA+IFNQSUNFX0NIQU5ORUxfQ0xBU1Moc3BpY2Vfd2ViZGF2X2NoYW5uZWxfcGFyZW50X2Ns
YXNzKS0+Y2hhbm5lbF9yZXNldChjaGFubmVsLAo+ID4gbWlncmF0aW5nKTsKPiA+ICt9Cj4gPiAr
Cj4gPiAgc3RhdGljIHZvaWQgc3BpY2Vfd2ViZGF2X2NoYW5uZWxfY2xhc3NfaW5pdChTcGljZVdl
YmRhdkNoYW5uZWxDbGFzcyAqa2xhc3MpCj4gPiAgewo+ID4gICAgICBHT2JqZWN0Q2xhc3MgKmdv
YmplY3RfY2xhc3MgPSBHX09CSkVDVF9DTEFTUyhrbGFzcyk7Cj4gPiBAQCAtNTgxLDYgKzYwMyw3
IEBAIHN0YXRpYyB2b2lkCj4gPiBzcGljZV93ZWJkYXZfY2hhbm5lbF9jbGFzc19pbml0KFNwaWNl
V2ViZGF2Q2hhbm5lbENsYXNzICprbGFzcykKPiA+ICAgICAgZ29iamVjdF9jbGFzcy0+ZmluYWxp
emUgICAgID0gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfZmluYWxpemU7Cj4gPiAgICAgIGNoYW5uZWxf
Y2xhc3MtPmhhbmRsZV9tc2cgICA9IHNwaWNlX3dlYmRhdl9oYW5kbGVfbXNnOwo+ID4gICAgICBj
aGFubmVsX2NsYXNzLT5jaGFubmVsX3VwICAgPSBzcGljZV93ZWJkYXZfY2hhbm5lbF91cDsKPiA+
ICsgICAgY2hhbm5lbF9jbGFzcy0+Y2hhbm5lbF9yZXNldCA9IHNwaWNlX3dlYmRhdl9jaGFubmVs
X3Jlc2V0Owo+ID4KPiA+ICAgICAgZ19zaWduYWxfb3ZlcnJpZGVfY2xhc3NfaGFuZGxlcigicG9y
dC1ldmVudCIsCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1BJQ0Vf
VFlQRV9XRUJEQVZfQ0hBTk5FTCwKPgo+IEZyZWRpYW5vCgpUaGFua3MsCkpha3ViCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxp
bmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
