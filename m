Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 343135E018
	for <lists+spice-devel@lfdr.de>; Wed,  3 Jul 2019 10:44:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 36DFB8912F;
	Wed,  3 Jul 2019 08:44:18 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id BE09D88EA1
 for <spice-devel@lists.freedesktop.org>; Wed,  3 Jul 2019 08:44:16 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 27AD4308339E
 for <spice-devel@lists.freedesktop.org>; Wed,  3 Jul 2019 08:44:16 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx01.intmail.prod.int.phx2.redhat.com [10.5.11.20])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 1ED5579449
 for <spice-devel@lists.freedesktop.org>; Wed,  3 Jul 2019 08:44:16 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 14EAC18184AD;
 Wed,  3 Jul 2019 08:44:16 +0000 (UTC)
Date: Wed, 3 Jul 2019 04:44:14 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Jakub Janku <jjanku@redhat.com>
Message-ID: <312575620.26241544.1562143454370.JavaMail.zimbra@redhat.com>
In-Reply-To: <CAH=CeiCxCsKX0H2qUpH2OaPY_1=1q=GYqOynxqY=382Dt8u+NQ@mail.gmail.com>
References: <20190701094744.18558-1-jjanku@redhat.com>
 <1029094810.25942857.1561978920203.JavaMail.zimbra@redhat.com>
 <CAH=CeiA8nhMS5+64jK=VJu4-FumvsbnrFCW3ePXs7CcsEwO02A@mail.gmail.com>
 <CAH=CeiCxCsKX0H2qUpH2OaPY_1=1q=GYqOynxqY=382Dt8u+NQ@mail.gmail.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.12, 10.4.195.22]
Thread-Topic: webdav: don't buffer input from phodav
Thread-Index: V4mAOEEq1jQEKysblrzP+/7c+VhSRg==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.44]); Wed, 03 Jul 2019 08:44:16 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-gtk] webdav: don't buffer input from
 phodav
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBIaSBhZ2FpbiwKPiAKPiBPbiBNb24sIEp1bCAxLCAyMDE5IGF0IDM6MTYgUE0gSmFrdWIg
SmFua3UgPGpqYW5rdUByZWRoYXQuY29tPiB3cm90ZToKPiA+Cj4gPiBIaSwKPiA+Cj4gPiBPbiBN
b24sIEp1bCAxLCAyMDE5IGF0IDE6MDIgUE0gRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlvQHJlZGhh
dC5jb20+IHdyb3RlOgo+ID4gPgo+ID4gPiA+Cj4gPiA+ID4gVGhlIGN1cnJlbnQgYXBwcm9hY2gg
d2l0aCBPdXRwdXRRdWV1ZSBpbiB3ZWJkYXYgaGFzIHNldmVyYWwgcHJvYmxlbXM6Cj4gPiA+ID4K
PiA+ID4gPiAqIGlmIHRoZSBjb25uZWN0aW9uIGlzIHNsb3csIHdlYmRhdiBrZWVwcyByZWFkaW5n
IGZyb20gcGhvZGF2Cj4gPiA+ID4gYW5kIHB1c2hpbmcgbWVzc2FnZXMgdG8gdGhlIGludGVybmFs
IGNoYW5uZWwgeG1pdF9xdWV1ZS4KPiA+ID4gPiBUaGlzIHdheSwgdGhlIHF1ZXVlIGNhbiBncm93
IHZlcnkgcXVpY2tseSBhbmQgdGhlIHdob2xlIGZpbGUKPiA+ID4gPiB0aGF0IGlzIGJlaW5nIHRy
YW5zZmVycmVkIHVzaW5nIHdlYmRhdiBlc3NlbnRpYWxseSBnZXRzIGxvYWRlZCBpbnRvCj4gPiA+
ID4gbWVtb3J5Lgo+ID4gPiA+Cj4gPiA+ID4gKiBzcGljZSBjaGFubmVsIGZpcnN0IGZsdXNoZXMg
YWxsIG1lc3NhZ2VzIGluIHRoZSB4bWl0X3F1ZXVlIGFuZAo+ID4gPiA+IHRoZW4gcHJvY2VlZHMg
dG8gcmVhZGluZy4gSWYgd2ViZGF2IGZsb29kcyB0aGUgeG1pdF9xdWV1ZSB3aXRoCj4gPiA+ID4g
YSB0b24gb2YgbWVzc2FnZXMsIHNwaWNlIGNoYW5uZWwgZG9lcyBub3QgbGVhdmUgaXRlcmF0ZV93
cml0ZSB1bnRpbAo+ID4gPiA+IHRoZSBxdWV1ZSBnZXRzIGVtcHR5LiBUaGlzIHdheSwgcmVhZGlu
ZyBmcm9tIHRoZSBjaGFubmVsIGlzIGJsb2NrZWQKPiA+ID4gPiB0aWxsIHRoZSB3aG9sZSBmaWxl
IGlzIHRyYW5zZmVycmVkLgo+ID4gPiA+Cj4gPiA+ID4gKiBPdXRwdXRRdWV1ZSB1c2VzIGdfb3V0
cHV0X3N0cmVhbV9mbHVzaF9hc3luYygpIG9uCj4gPiA+ID4gU3BpY2VWbWNPdXRwdXRTdHJlYW0K
PiA+ID4gPiB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBmbHVzaAo+ID4gPiA+Cj4gPiA+ID4gVG8g
c29sdmUgdGhlc2UgaXNzdWVzLCBkb24ndCByZWFkIGZyb20gcGhvZGF2IHVudGlsIHRoZSBsYXN0
IG1lc3NhZ2UKPiA+ID4gPiBmb3IgYSBnaXZlbiBjbGllbnQgaXMgd3JpdHRlbiBvdXQgdG8gdGhl
IHNvY2tldC4KPiA+ID4gPiAobWFpbiBjaGFubmVsIGN1cnJlbnRseSB1c2VzIHRoZSBzYW1lIGFw
cHJvYWNoIHdoZW4gdHJhbnNmZXJyaW5nIGZpbGVzKQo+ID4gPiA+Cj4gPiA+ID4gT3V0cHV0UXVl
dWUgdXNlZCBhbiBpZGxlIGZ1bmN0aW9uIHRvIHNjaGVkdWxlIHRoZSB3cml0ZSBhbmQgdGhlbgo+
ID4gPiA+IGNhbGxlZCBtdXhfcHVzaGVkX2NiIHdoaWNoIHN0YXJ0ZWQgcmVhZGluZyBmcm9tIHBo
b2RhdiB3aXRoIHByaW9yaXR5Cj4gPiA+ID4gR19QUklPUklUWV9ERUZBVUxULgo+ID4gPiA+IFNp
bmNlIHRoaXMgbmV3IGFwcHJvYWNoIGRvZXMgbm90IHV0aWxpemUgdGhlIGlkbGUgc2NoZWR1bGlu
ZywKPiA+ID4gPiBsb3dlciB0aGUgcHJpb3JpdHkgaW4gY2xpZW50X3N0YXJ0X3JlYWQoKSB0byBH
X1BSSU9SSVRZX0RFRkFVTFRfSURMRQo+ID4gPiA+IHRvIG1ha2Ugc3VyZSB3ZWJkYXYgZG9lcyBu
b3QgYmxvY2sgb3RoZXIgY2hhbm5lbHMuCj4gPiA+ID4KPiA+ID4KPiA+ID4gVGhpcyBzb3VuZHMg
YSBiaXQgd29ycnlpbmcuIFdoeSB3aXRoIGFsbCBjb3JvdXRpbmUvYXN5bmMgY29kZSB3ZQo+ID4g
PiBoYXZlIHdlIHNob3VsZCBoYXZlIGEgYmxvY2thZ2U/IFRoaXMgc291bmRzIHdyb25nLgo+ID4K
PiA+IFRvIGJlIGhvbmVzdCwgSSBkaWQgbm90IHNwZW50IG11Y2ggdGltZSBsb29raW5nIGF0IHdo
eSB0aGlzIGJsb2Nrcy4KPiA+IExvd2VyaW5nIHRoZSBwcmlvcml0eSBvZiB3ZWJkYXYgbWFrZXMg
c2Vuc2UgdG8gbWUgcmVnYXJkbGVzcyBvZiB0aGlzIGlzc3VlLgo+ID4gQW5vdGhlciB0aGluZyBp
cyB0aGF0IHdpdGggeW91ciBzcGljZS1zZXJ2ZXIgc2VyaWVzIGNvbmNlcm5pbmcKPiA+IHNwaWNl
dm1jIGFuZCBEb1MsIHRoaXMgaXNuJ3QgYW4gaXNzdWUuCj4gCj4gSSBkaWQgc29tZSBtb3JlIHRl
c3RpbmcgYW5kIGhlcmUncyB3aGF0IEkndmUgZm91bmQgb3V0Ogo+IAo+IENoYW5uZWwgZGlzcGxh
eSB1c2VzIGdfY29yb3V0aW5lX3NpZ25hbF9lbWl0KCkgdG8gZW1pdCB0aGUKPiAiZGlzcGxheS1p
bnZhbGlkYXRlIiBzaWduYWwuCj4gVGhpcyBmdW5jdGlvbiB1c2VzIGFuIGlkbGUgZnVuY3Rpb24g
KEdfUFJJT1JJVFlfREVGQVVMVF9JRExFID0gMjAwKSB0bwo+IGVtaXQgdGhlIHNpZ25hbCBpbiB0
aGUgbWFpbiBjb250ZXh0Lgo+IAo+IEZyb20gR3RrIGRvY3MgKEdfUFJJT1JJVFlfSElHSF9JRExF
ID0gMTAwOyBsYXJnZXIgbnVtYmVyIG1lYW5zIGxvd2VyCj4gcHJpb3JpdHkpOgo+ICJHVEsrIHVz
ZXMgR19QUklPUklUWV9ISUdIX0lETEUgKyAxMCBmb3IgcmVzaXppbmcgb3BlcmF0aW9ucywgYW5k
Cj4gR19QUklPUklUWV9ISUdIX0lETEUgKyAyMCBmb3IgcmVkcmF3aW5nIG9wZXJhdGlvbnMuIgo+
IAo+IFRoaXMgbWVhbnMgdGhhdCBpZiB0aGUgY2xpZW50X3N0YXJ0X3JlYWQoKSBpbiB3ZWJkYXYg
dXNlcwo+IEdfUFJJT1JJVFlfREVGQVVMVD0gMCwgaXQgY2FuIGJsb2NrIHRoZXNlIHR3byBvcGVy
YXRpb25zIHJhdGhlciBlYXNpbHkKPiBjYXVzaW5nIHRoZSB3aWRnZXQgbm90IHRvIHJlZHJhdy4g
QnV0IGFzIEkgc2FpZCwgdGhpcyBzaG91bGRuJ3QgYmUgYW4KPiBpc3N1ZSBpZiB0aGUgY2hhbm5l
bCB3YXMgdGhyb3R0bGVkIGRvd24gYnkgdGhlIHNlcnZlci4KPiAKPiBTbyBpcyBpdCBvayB0byBs
b3dlciB0aGUgcHJpb3JpdHkgaW4gd2ViZGF2IHRvIEdfUFJJT1JJVFlfREVGQVVMVF9JRExFPwo+
IAoKSXQgc291bmRzIGEgZ29vZCByZWFzb24uIE1heWJlIGNvcHkgdGhpcyBleHBsYW5hdGlvbiB0
b28uClNheWluZyBqdXN0ICJibG9jayBvdGhlciBjaGFubmVscyIgd2l0aCBhbGwgdGhpcyBjb2Rl
IHNlZW1zIHRvIHN1Z2dlc3QgbW9yZQphIHN5bmNob25vdXMgY29kZSB3aGljaCB3aWxsIGJsb2Nr
IHRoYW4gYSBwcmlvcml0eSBpc3N1ZS4gQWxzbyBJIHRoaW5rIHRoYXQKdGhpcyBwYXRjaCBzaG91
bGQgYXQgbGVhc3QgcmVkdWNlIHRoZSBibG9ja2luZyBpbiB0aGlzIGNhc2UuCgpCeSB0aGUgd2F5
LCBJIGZvdW5kIHNvbWUgdGltZSB0byB0ZXN0IG15IHBhdGNoIGFuZCB1cGRhdGUgeW91ciBwYXRj
aCB0bwp1c2UgYXN5bmNocm9ub3VzIHdyaXRpbmcgdG8gdGhlIGNoYW5uZWwgaW4gb3JkZXIgdG8g
cmVtb3ZlIHRoZSBvdGhlcgpwb3RlbnRpYWwgYmxvY2thZ2UuCgo+IENoZWVycywKPiBKYWt1Ygo+
ID4gPgo+ID4gPiA+IEFsc28gaW1wbGVtZW50IHNwaWNlX3dlYmRhdl9jaGFubmVsX3Jlc2V0KCku
IFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UKPiA+ID4gPiBzcGljZV92bWNfd3JpdGVfYXN5bmMo
KSByZWZlcmVuY2VzIHRoZSBjaGFubmVsLiBJZiB0aGUgY2hhbm5lbCBpcyB0byBiZQo+ID4gPiA+
IGRpc2Nvbm5lY3RlZCwgdGhlIHdyaXRlIG9wZXJhdGlvbnMgbmVlZCB0byBiZSBjYW5jZWxsZWQg
c28gdGhhdAo+ID4gPiA+IHRoZSByZWZlcmVuY2VzIHRvIHRoZSBjaGFubmVsIGFyZSByZWxlYXNl
ZCBhc2FwLiBPdGhlcndpc2UsCj4gPiA+ID4gc3BpY2Ugc2Vzc2lvbiB3b3VsZCBiZSBzdHVjayB3
YWl0aW5nIGZvciB0aGUgY2hhbm5lbCB0byBmaW5hbGl6ZS4KPiA+ID4gPgo+ID4gPiA+IFNpZ25l
ZC1vZmYtYnk6IEpha3ViIEphbmvFryA8amphbmt1QHJlZGhhdC5jb20+Cj4gPiA+ID4gLS0tCj4g
PiA+ID4KPiA+ID4gPiBOb3RlOiBJIGxlZnQgdGhlIE91dHB1dFF1ZXVlIGNvZGUgc3RpbGwgaW4g
cGxhY2Ugc2luY2UgSSdtIGNvbnNpZGVyaW5nCj4gPiA+ID4gdXNpbmcgaXQgZm9yIHRoZSBkcmFn
JmRyb3AgZnVuY3Rpb25hbGl0eS4KPiA+ID4gPgo+ID4gPiA+ICBzcmMvY2hhbm5lbC13ZWJkYXYu
YyB8IDQ5ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tCj4gPiA+
ID4gIDEgZmlsZSBjaGFuZ2VkLCAzNiBpbnNlcnRpb25zKCspLCAxMyBkZWxldGlvbnMoLSkKPiA+
ID4gPgo+ID4gPiA+IGRpZmYgLS1naXQgYS9zcmMvY2hhbm5lbC13ZWJkYXYuYyBiL3NyYy9jaGFu
bmVsLXdlYmRhdi5jCj4gPiA+ID4gaW5kZXggZjVhMzhhZC4uNjZmOGE1YiAxMDA2NDQKPiA+ID4g
PiAtLS0gYS9zcmMvY2hhbm5lbC13ZWJkYXYuYwo+ID4gPiA+ICsrKyBiL3NyYy9jaGFubmVsLXdl
YmRhdi5jCj4gPiA+ID4gQEAgLTQ1LDEzICs0NSwxMiBAQAo+ID4gPiA+ICAgKiBTaW5jZTogMC4y
NAo+ID4gPiA+ICAgKi8KPiA+ID4gPgo+ID4gPiA+IC10eXBlZGVmIHN0cnVjdCBfT3V0cHV0UXVl
dWUgT3V0cHV0UXVldWU7Cj4gPiA+ID4gKy8qIHR5cGVkZWYgc3RydWN0IF9PdXRwdXRRdWV1ZSBP
dXRwdXRRdWV1ZTsgKi8KPiA+ID4gPgo+ID4gPiA+ICBzdHJ1Y3QgX1NwaWNlV2ViZGF2Q2hhbm5l
bFByaXZhdGUgewo+ID4gPiA+ICAgICAgU3BpY2VWbWNTdHJlYW0gKnN0cmVhbTsKPiA+ID4gPiAg
ICAgIEdDYW5jZWxsYWJsZSAqY2FuY2VsbGFibGU7Cj4gPiA+ID4gICAgICBHSGFzaFRhYmxlICpj
bGllbnRzOwo+ID4gPiA+IC0gICAgT3V0cHV0UXVldWUgKnF1ZXVlOwo+ID4gPiA+Cj4gPiA+ID4g
ICAgICBnYm9vbGVhbiBkZW11eGluZzsKPiA+ID4gPiAgICAgIHN0cnVjdCBfZGVtdXggewo+ID4g
PiA+IEBAIC02NSw2ICs2NCw3IEBAIEdfREVGSU5FX1RZUEVfV0lUSF9QUklWQVRFKFNwaWNlV2Vi
ZGF2Q2hhbm5lbCwKPiA+ID4gPiBzcGljZV93ZWJkYXZfY2hhbm5lbCwgU1BJQ0VfVFlQRV8KPiA+
ID4gPgo+ID4gPiA+ICBzdGF0aWMgdm9pZCBzcGljZV93ZWJkYXZfaGFuZGxlX21zZyhTcGljZUNo
YW5uZWwgKmNoYW5uZWwsIFNwaWNlTXNnSW4KPiA+ID4gPiAgKm1zZyk7Cj4gPiA+ID4KPiA+ID4g
PiArI2lmIDAKPiA+ID4gPiAgc3RydWN0IF9PdXRwdXRRdWV1ZSB7Cj4gPiA+ID4gICAgICBHT3V0
cHV0U3RyZWFtICpvdXRwdXQ7Cj4gPiA+ID4gICAgICBnYm9vbGVhbiBmbHVzaGluZzsKPiA+ID4g
PiBAQCAtMTc5LDYgKzE3OSw4IEBAIHN0YXRpYyB2b2lkIG91dHB1dF9xdWV1ZV9wdXNoKE91dHB1
dFF1ZXVlICpxLCBjb25zdAo+ID4gPiA+IGd1aW50OCAqYnVmLCBnc2l6ZSBzaXplLAo+ID4gPiA+
ICAgICAgICAgIHEtPmlkbGVfaWQgPSBnX2lkbGVfYWRkKG91dHB1dF9xdWV1ZV9pZGxlLCBxKTsK
PiA+ID4gPiAgfQo+ID4gPiA+Cj4gPiA+ID4gKyNlbmRpZgo+ID4gPiA+ICsKPiA+ID4gPiAgdHlw
ZWRlZiBzdHJ1Y3QgQ2xpZW50Cj4gPiA+ID4gIHsKPiA+ID4gPiAgICAgIGd1aW50IHJlZnM7Cj4g
PiA+ID4gQEAgLTIyNywxMCArMjI5LDE3IEBAIHN0YXRpYyB2b2lkIHJlbW92ZV9jbGllbnQoQ2xp
ZW50ICpjbGllbnQpCj4gPiA+ID4gICAgICBnX2hhc2hfdGFibGVfcmVtb3ZlKGNsaWVudC0+c2Vs
Zi0+cHJpdi0+Y2xpZW50cywgJmNsaWVudC0+aWQpOwo+ID4gPiA+ICB9Cj4gPiA+ID4KPiA+ID4g
PiAtc3RhdGljIHZvaWQgbXV4X3B1c2hlZF9jYihPdXRwdXRRdWV1ZSAqcSwgZ3BvaW50ZXIgdXNl
cl9kYXRhKQo+ID4gPiA+ICsjZGVmaW5lIE1BWF9NVVhfU0laRSBHX01BWFVJTlQxNgo+ID4gPiA+
ICsKPiA+ID4gPiArc3RhdGljIHZvaWQKPiA+ID4gPiArbXV4X21zZ19mbHVzaGVkX2NiKEdPYmpl
Y3QgKnNvdXJjZV9vYmplY3QsCj4gPiA+ID4gKyAgICAgICAgICAgICAgICAgICBHQXN5bmNSZXN1
bHQgKnJlc3VsdCwKPiA+ID4gPiArICAgICAgICAgICAgICAgICAgIGdwb2ludGVyIHVzZXJfZGF0
YSkKPiA+ID4gPiAgewo+ID4gPiA+ICAgICAgQ2xpZW50ICpjbGllbnQgPSB1c2VyX2RhdGE7Cj4g
PiA+ID4KPiA+ID4gPiArICAgIGdfb3V0cHV0X3N0cmVhbV93cml0ZV9maW5pc2goR19PVVRQVVRf
U1RSRUFNKHNvdXJjZV9vYmplY3QpLAo+ID4gPiA+IHJlc3VsdCwKPiA+ID4gPiBOVUxMKTsKPiA+
ID4gPiArCj4gPiA+ID4gICAgICBpZiAoY2xpZW50LT5tdXguc2l6ZSA9PSAwIHx8Cj4gPiA+ID4g
ICAgICAgICAgIWNsaWVudF9zdGFydF9yZWFkKGNsaWVudCkpIHsKPiA+ID4gPiAgICAgICAgICBy
ZW1vdmVfY2xpZW50KGNsaWVudCk7Cj4gPiA+ID4gQEAgLTIzOSwxNCArMjQ4LDEzIEBAIHN0YXRp
YyB2b2lkIG11eF9wdXNoZWRfY2IoT3V0cHV0UXVldWUgKnEsCj4gPiA+ID4gZ3BvaW50ZXIKPiA+
ID4gPiB1c2VyX2RhdGEpCj4gPiA+ID4gICAgICBjbGllbnRfdW5yZWYoY2xpZW50KTsKPiA+ID4g
PiAgfQo+ID4gPiA+Cj4gPiA+ID4gLSNkZWZpbmUgTUFYX01VWF9TSVpFIEdfTUFYVUlOVDE2Cj4g
PiA+ID4gLQo+ID4gPiA+ICBzdGF0aWMgdm9pZCBzZXJ2ZXJfcmVwbHlfY2IoR09iamVjdCAqc291
cmNlX29iamVjdCwKPiA+ID4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdBc3luY1Jl
c3VsdCAqcmVzLAo+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3BvaW50ZXIg
dXNlcl9kYXRhKQo+ID4gPiA+ICB7Cj4gPiA+ID4gICAgICBDbGllbnQgKmNsaWVudCA9IHVzZXJf
ZGF0YTsKPiA+ID4gPiAgICAgIFNwaWNlV2ViZGF2Q2hhbm5lbFByaXZhdGUgKmMgPSBjbGllbnQt
PnNlbGYtPnByaXY7Cj4gPiA+ID4gKyAgICBHT3V0cHV0U3RyZWFtICptdXhfb3V0Owo+ID4gPiA+
ICAgICAgR0Vycm9yICplcnIgPSBOVUxMOwo+ID4gPiA+ICAgICAgZ3NzaXplIHNpemU7Cj4gPiA+
ID4KPiA+ID4gPiBAQCAtMjU4LDEwICsyNjYsMTUgQEAgc3RhdGljIHZvaWQgc2VydmVyX3JlcGx5
X2NiKEdPYmplY3QKPiA+ID4gPiAqc291cmNlX29iamVjdCwKPiA+ID4gPiAgICAgIGdfcmV0dXJu
X2lmX2ZhaWwoc2l6ZSA+PSAwKTsKPiA+ID4gPiAgICAgIGNsaWVudC0+bXV4LnNpemUgPSBzaXpl
Owo+ID4gPiA+Cj4gPiA+ID4gLSAgICBvdXRwdXRfcXVldWVfcHVzaChjLT5xdWV1ZSwgKGd1aW50
OCAqKSZjbGllbnQtPm11eC5pZCwKPiA+ID4gPiBzaXplb2YoZ2ludDY0KSwKPiA+ID4gPiBOVUxM
LCBOVUxMKTsKPiA+ID4gPiArICAgIG11eF9vdXQgPSBnX2lvX3N0cmVhbV9nZXRfb3V0cHV0X3N0
cmVhbShHX0lPX1NUUkVBTShjLT5zdHJlYW0pKTsKPiA+ID4gPiArCj4gPiA+ID4gKyAgICBnX291
dHB1dF9zdHJlYW1fd3JpdGUobXV4X291dCwgKGd1aW50OCAqKSZjbGllbnQtPm11eC5pZCwKPiA+
ID4gPiBzaXplb2YoZ2ludDY0KSwgTlVMTCwgTlVMTCk7Cj4gPiA+ID4gICAgICBjbGllbnQtPm11
eC5zaXplID0gR1VJTlQxNl9UT19MRShjbGllbnQtPm11eC5zaXplKTsKPiA+ID4gPiAtICAgIG91
dHB1dF9xdWV1ZV9wdXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4ICopJmNsaWVudC0+bXV4LnNpemUsCj4g
PiA+ID4gc2l6ZW9mKGd1aW50MTYpLCBOVUxMLCBOVUxMKTsKPiA+ID4gPiAtICAgIG91dHB1dF9x
dWV1ZV9wdXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4ICopY2xpZW50LT5tdXguYnVmLCBzaXplLAo+ID4g
PiA+IChHRnVuYyltdXhfcHVzaGVkX2NiLCBjbGllbnQpOwo+ID4gPiA+ICsgICAgZ19vdXRwdXRf
c3RyZWFtX3dyaXRlKG11eF9vdXQsIChndWludDggKikmY2xpZW50LT5tdXguc2l6ZSwKPiA+ID4g
PiBzaXplb2YoZ3VpbnQxNiksIE5VTEwsIE5VTEwpOwo+ID4gPiA+ICsgICAgLyogdGhpcyBpbnRl
cm5hbGx5IHVzZXMgc3BpY2Vfdm1jX3dyaXRlX2FzeW5jKCksIHByaW9yaXR5IGlzCj4gPiA+ID4g
aWdub3JlZDsKPiA+ID4gPiArICAgICAqIHRoZSBjYWxsYmFjayBpcyBpbnZva2VkIG9uY2UgdGhl
IG1zZyBpcyB3cml0dGVuIG91dCB0byB0aGUKPiA+ID4gPiBzb2NrZXQgKi8KPiA+ID4gPiArICAg
IGdfb3V0cHV0X3N0cmVhbV93cml0ZV9hc3luYyhtdXhfb3V0LCAoZ3VpbnQ4ICopY2xpZW50LT5t
dXguYnVmLAo+ID4gPiA+IHNpemUsCj4gPiA+ID4gKyAgICAgICAgR19QUklPUklUWV9ERUZBVUxU
LCBjbGllbnQtPmNhbmNlbGxhYmxlLCBtdXhfbXNnX2ZsdXNoZWRfY2IsCj4gPiA+ID4gY2xpZW50
KTsKPiA+ID4KPiA+ID4gV2h5IGRvbid0IHlvdSB1c2UgZ19vdXRwdXRfc3RyZWFtX3dyaXRldl9h
bGxfYXN5bmMgaGVyZSB3cml0aW5nIGFsbCAzCj4gPiA+IGJ1ZmZlcnMKPiA+ID4gdG9nZXRoZXIg
YW5kIGF2b2lkIGJsb2NraW5nIGNhbGxzPwo+ID4KPiA+IEFjdHVhbGx5LCBhbGwgb2YgdGhlc2Ug
MyBjYWxscyBhcmUgaW4gYSB3YXkgc3luY2hyb25vdXMgLS0gbG9vayBhdAo+ID4gU3BpY2VWbWNP
dXRwdXRTdHJlYW0gaW1wbGVtZW50YXRpb24sCj4gPiB0aGV5IGFsbCBjcmVhdGUgYSBuZXcgb3V0
IG1lc3NhZ2UgYW5kIGFwcGVuZCBpdCB0byB0aGUgY2hhbm5lbCdzCj4gPiB4bWl0X3F1ZXVlLgo+
ID4gVGhlIG9ubHkgZGlmZmVyZW5jZSBpcyB0aGF0IHdpdGggdGhlIGFzeW5jIGNhbGwsIHdlIGNh
biBwcm92aWRlIGEKPiA+IGZ1bmN0aW9uIHRoYXQgaXMgY2FsbGVkIGJhY2sgb25jZSB0aGUgbWVz
c2FnZSBpcyB3cml0dGVuIG91dC4KPiA+Cj4gPiBJIGFncmVlIHRoYXQgdGhlIDMgYnVmZmVycyBj
b3VsZCBiZSB3cml0dGVuIHRvZ2V0aGVyLCBidXQgd3JpdGluZyB0aGVtCj4gPiBzZXBhcmF0ZWx5
IHdhc24ndCBpbnRyb2R1Y2VkIGJ5IG1lLgo+ID4KPiA+ID4gV2VsbCwgaXQncyBhdmFpbGFibGUg
c3RhcnRpbmcgZnJvbSBHTGliIDIuNjAgc28gcG9zc2libHkgeW91J2xsIGhhdmUKPiA+ID4gdG8g
cHJvdmlkZSBhIHJlcGxhY2VtZW50IGZvciBHTGliIDIuNjAgdXNpbmcKPiA+ID4gZ19vdXRwdXRf
c3RyZWFtX3dyaXRlX2FsbF9hc3luYy4KPiA+ID4KPiA+ID4gPgo+ID4gPiA+ICAgICAgcmV0dXJu
Owo+ID4gPiA+Cj4gPiA+ID4gQEAgLTI4NCw4ICsyOTcsOSBAQCBzdGF0aWMgYm9vbCBjbGllbnRf
c3RhcnRfcmVhZChDbGllbnQgKmNsaWVudCkKPiA+ID4gPiAgICAgIGlmIChnX2lucHV0X3N0cmVh
bV9pc19jbG9zZWQoaW5wdXQpKSB7Cj4gPiA+ID4gICAgICAgICAgcmV0dXJuIGZhbHNlOwo+ID4g
PiA+ICAgICAgfQo+ID4gPiA+ICsgICAgLyogdXNlIGxvdyBwcmlvcml0eSB0byBsZWF2ZSBlbm91
Z2ggdGltZSBmb3Igb3RoZXIgY2hhbm5lbHMgKi8KPiA+ID4gPiAgICAgIGdfaW5wdXRfc3RyZWFt
X3JlYWRfYXN5bmMoaW5wdXQsIGNsaWVudC0+bXV4LmJ1ZiwgTUFYX01VWF9TSVpFLAo+ID4gPiA+
IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHX1BSSU9SSVRZX0RFRkFVTFQsIGNsaWVu
dC0+Y2FuY2VsbGFibGUsCj4gPiA+ID4gc2VydmVyX3JlcGx5X2NiLAo+ID4gPiA+ICsgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBHX1BSSU9SSVRZX0RFRkFVTFRfSURMRSwKPiA+ID4gPiBj
bGllbnQtPmNhbmNlbGxhYmxlLAo+ID4gPiA+IHNlcnZlcl9yZXBseV9jYiwKPiA+ID4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3JlZihjbGllbnQpKTsKPiA+ID4gPiAg
ICAgIHJldHVybiB0cnVlOwo+ID4gPiA+ICB9Cj4gPiA+ID4gQEAgLTU0MCw5ICs1NTQsNiBAQCBz
dGF0aWMgdm9pZAo+ID4gPiA+IHNwaWNlX3dlYmRhdl9jaGFubmVsX2luaXQoU3BpY2VXZWJkYXZD
aGFubmVsCj4gPiA+ID4gKmNoYW5uZWwpCj4gPiA+ID4gICAgICBjLT5jbGllbnRzID0gZ19oYXNo
X3RhYmxlX25ld19mdWxsKGdfaW50NjRfaGFzaCwgZ19pbnQ2NF9lcXVhbCwKPiA+ID4gPiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTlVMTCwgY2xpZW50X3JlbW92ZV91
bnJlZik7Cj4gPiA+ID4gICAgICBjLT5kZW11eC5idWYgPSBnX21hbGxvYzAoTUFYX01VWF9TSVpF
KTsKPiA+ID4gPiAtCj4gPiA+ID4gLSAgICBHT3V0cHV0U3RyZWFtICpvc3RyZWFtID0KPiA+ID4g
PiBnX2lvX3N0cmVhbV9nZXRfb3V0cHV0X3N0cmVhbShHX0lPX1NUUkVBTShjLT5zdHJlYW0pKTsK
PiA+ID4gPiAtICAgIGMtPnF1ZXVlID0gb3V0cHV0X3F1ZXVlX25ldyhvc3RyZWFtKTsKPiA+ID4g
PiAgfQo+ID4gPiA+Cj4gPiA+ID4gIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVsX2Zp
bmFsaXplKEdPYmplY3QgKm9iamVjdCkKPiA+ID4gPiBAQCAtNTYwLDcgKzU3MSw2IEBAIHN0YXRp
YyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVsX2Rpc3Bvc2UoR09iamVjdAo+ID4gPiA+ICpvYmpl
Y3QpCj4gPiA+ID4KPiA+ID4gPiAgICAgIGdfY2FuY2VsbGFibGVfY2FuY2VsKGMtPmNhbmNlbGxh
YmxlKTsKPiA+ID4gPiAgICAgIGdfY2xlYXJfb2JqZWN0KCZjLT5jYW5jZWxsYWJsZSk7Cj4gPiA+
ID4gLSAgICBnX2NsZWFyX3BvaW50ZXIoJmMtPnF1ZXVlLCBvdXRwdXRfcXVldWVfZnJlZSk7Cj4g
PiA+ID4gICAgICBnX2NsZWFyX29iamVjdCgmYy0+c3RyZWFtKTsKPiA+ID4gPiAgICAgIGdfaGFz
aF90YWJsZV91bnJlZihjLT5jbGllbnRzKTsKPiA+ID4gPgo+ID4gPiA+IEBAIC01NzIsNiArNTgy
LDE4IEBAIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVsX3VwKFNwaWNlQ2hhbm5lbAo+
ID4gPiA+ICpjaGFubmVsKQo+ID4gPiA+ICAgICAgQ0hBTk5FTF9ERUJVRyhjaGFubmVsLCAidXAi
KTsKPiA+ID4gPiAgfQo+ID4gPiA+Cj4gPiA+ID4gK3N0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9j
aGFubmVsX3Jlc2V0KFNwaWNlQ2hhbm5lbCAqY2hhbm5lbCwgZ2Jvb2xlYW4KPiA+ID4gPiBtaWdy
YXRpbmcpCj4gPiA+ID4gK3sKPiA+ID4gPiArICAgIFNwaWNlV2ViZGF2Q2hhbm5lbFByaXZhdGUg
KmM7Cj4gPiA+ID4gKyAgICBjID0KPiA+ID4gPiBzcGljZV93ZWJkYXZfY2hhbm5lbF9nZXRfaW5z
dGFuY2VfcHJpdmF0ZShTUElDRV9XRUJEQVZfQ0hBTk5FTChjaGFubmVsKSk7Cj4gPiA+ID4gKwo+
ID4gPiA+ICsgICAgZ19jYW5jZWxsYWJsZV9jYW5jZWwoYy0+Y2FuY2VsbGFibGUpOwo+ID4gPiA+
ICsgICAgYy0+ZGVtdXhpbmcgPSBGQUxTRTsKPiA+ID4gPiArICAgIGdfaGFzaF90YWJsZV9yZW1v
dmVfYWxsKGMtPmNsaWVudHMpOwo+ID4gPiA+ICsKPiA+ID4gPiArCj4gPiA+ID4gU1BJQ0VfQ0hB
Tk5FTF9DTEFTUyhzcGljZV93ZWJkYXZfY2hhbm5lbF9wYXJlbnRfY2xhc3MpLT5jaGFubmVsX3Jl
c2V0KGNoYW5uZWwsCj4gPiA+ID4gbWlncmF0aW5nKTsKPiA+ID4gPiArfQo+ID4gPiA+ICsKPiA+
ID4gPiAgc3RhdGljIHZvaWQgc3BpY2Vfd2ViZGF2X2NoYW5uZWxfY2xhc3NfaW5pdChTcGljZVdl
YmRhdkNoYW5uZWxDbGFzcwo+ID4gPiA+ICAqa2xhc3MpCj4gPiA+ID4gIHsKPiA+ID4gPiAgICAg
IEdPYmplY3RDbGFzcyAqZ29iamVjdF9jbGFzcyA9IEdfT0JKRUNUX0NMQVNTKGtsYXNzKTsKPiA+
ID4gPiBAQCAtNTgxLDYgKzYwMyw3IEBAIHN0YXRpYyB2b2lkCj4gPiA+ID4gc3BpY2Vfd2ViZGF2
X2NoYW5uZWxfY2xhc3NfaW5pdChTcGljZVdlYmRhdkNoYW5uZWxDbGFzcyAqa2xhc3MpCj4gPiA+
ID4gICAgICBnb2JqZWN0X2NsYXNzLT5maW5hbGl6ZSAgICAgPSBzcGljZV93ZWJkYXZfY2hhbm5l
bF9maW5hbGl6ZTsKPiA+ID4gPiAgICAgIGNoYW5uZWxfY2xhc3MtPmhhbmRsZV9tc2cgICA9IHNw
aWNlX3dlYmRhdl9oYW5kbGVfbXNnOwo+ID4gPiA+ICAgICAgY2hhbm5lbF9jbGFzcy0+Y2hhbm5l
bF91cCAgID0gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfdXA7Cj4gPiA+ID4gKyAgICBjaGFubmVsX2Ns
YXNzLT5jaGFubmVsX3Jlc2V0ID0gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfcmVzZXQ7Cj4gPiA+ID4K
PiA+ID4gPiAgICAgIGdfc2lnbmFsX292ZXJyaWRlX2NsYXNzX2hhbmRsZXIoInBvcnQtZXZlbnQi
LAo+ID4gPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTUElDRV9UWVBF
X1dFQkRBVl9DSEFOTkVMLAo+ID4gPgo+ID4gPiBGcmVkaWFubwo+ID4KPiA+IFRoYW5rcywKPiA+
IEpha3ViCj4gCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
ClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1k
ZXZlbA==
