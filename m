Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 17718F30D
	for <lists+spice-devel@lfdr.de>; Tue, 30 Apr 2019 11:34:12 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6230E891AC;
	Tue, 30 Apr 2019 09:34:10 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A3A548919F
 for <spice-devel@lists.freedesktop.org>; Tue, 30 Apr 2019 09:34:08 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 4CA715D68A
 for <spice-devel@lists.freedesktop.org>; Tue, 30 Apr 2019 09:34:08 +0000 (UTC)
Received: from jjanku-t480s.redhat.com (unknown [10.40.205.166])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 6DE3619491;
 Tue, 30 Apr 2019 09:34:07 +0000 (UTC)
From: =?UTF-8?q?Jakub=20Jank=C5=AF?= <jjanku@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Tue, 30 Apr 2019 11:33:38 +0200
Message-Id: <20190430093339.14062-5-jjanku@redhat.com>
In-Reply-To: <20190430093339.14062-1-jjanku@redhat.com>
References: <20190430093339.14062-1-jjanku@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.39]); Tue, 30 Apr 2019 09:34:08 +0000 (UTC)
Subject: [Spice-devel] [vdagent-linux v2 4/5] virtio: use GObject macro
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

VXNlIEdfREVDTEFSRV9GSU5BTF9UWVBFKCkuCgpSZW5hbWUKc3RydWN0IHZkYWdlbnRfdmlydGlv
X3BvcnQgLS0+IFZpcnRpb1BvcnQKClNpZ25lZC1vZmYtYnk6IEpha3ViIEphbmvFryA8amphbmt1
QHJlZGhhdC5jb20+Ci0tLQogc3JjL3ZkYWdlbnRkL3ZkYWdlbnRkLmMgICAgfCAxOCArKysrKysr
KystLS0tLS0tLS0KIHNyYy92ZGFnZW50ZC92aXJ0aW8tcG9ydC5jIHwgMTYgKysrKysrKystLS0t
LS0tLQogc3JjL3ZkYWdlbnRkL3ZpcnRpby1wb3J0LmggfCAzMSArKysrKysrKy0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCiAzIGZpbGVzIGNoYW5nZWQsIDI1IGluc2VydGlvbnMoKyksIDQwIGRlbGV0
aW9ucygtKQoKZGlmZiAtLWdpdCBhL3NyYy92ZGFnZW50ZC92ZGFnZW50ZC5jIGIvc3JjL3ZkYWdl
bnRkL3ZkYWdlbnRkLmMKaW5kZXggMDU2NTg4MS4uMTFmNzdlOCAxMDA2NDQKLS0tIGEvc3JjL3Zk
YWdlbnRkL3ZkYWdlbnRkLmMKKysrIGIvc3JjL3ZkYWdlbnRkL3ZkYWdlbnRkLmMKQEAgLTY3LDcg
KzY3LDcgQEAgc3RhdGljIGdib29sZWFuIGRvX2RhZW1vbml6ZSA9IFRSVUU7CiBzdGF0aWMgZ2Jv
b2xlYW4gd2FudF9zZXNzaW9uX2luZm8gPSBUUlVFOwogCiBzdGF0aWMgc3RydWN0IHVkc2NzX3Nl
cnZlciAqc2VydmVyID0gTlVMTDsKLXN0YXRpYyBzdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAq
dmlydGlvX3BvcnQgPSBOVUxMOworc3RhdGljIFZpcnRpb1BvcnQgKnZpcnRpb19wb3J0ID0gTlVM
TDsKIHN0YXRpYyBHSGFzaFRhYmxlICphY3RpdmVfeGZlcnMgPSBOVUxMOwogc3RhdGljIHN0cnVj
dCBzZXNzaW9uX2luZm8gKnNlc3Npb25faW5mbyA9IE5VTEw7CiBzdGF0aWMgc3RydWN0IHZkYWdl
bnRkX3VpbnB1dCAqdWlucHV0ID0gTlVMTDsKQEAgLTEyMCw3ICsxMjAsNyBAQCBzdGF0aWMgdm9p
ZCB2aXJ0aW9fbXNnX3VpbnQxNl9mcm9tX2xlKHVpbnQ4X3QgKl9tc2csIHVpbnQzMl90IHNpemUs
IHVpbnQzMl90IG9mZgogfQogCiAvKiB2ZGFnZW50ZCA8LT4gc3BpY2UtY2xpZW50IGNvbW11bmlj
YXRpb24gaGFuZGxpbmcgKi8KLXN0YXRpYyB2b2lkIHNlbmRfY2FwYWJpbGl0aWVzKHN0cnVjdCB2
ZGFnZW50X3ZpcnRpb19wb3J0ICp2cG9ydCwKK3N0YXRpYyB2b2lkIHNlbmRfY2FwYWJpbGl0aWVz
KFZpcnRpb1BvcnQgKnZwb3J0LAogICAgIHVpbnQzMl90IHJlcXVlc3QpCiB7CiAgICAgVkRBZ2Vu
dEFubm91bmNlQ2FwYWJpbGl0aWVzICpjYXBzOwpAQCAtMTc5LDcgKzE3OSw3IEBAIHZvaWQgZG9f
Y2xpZW50X21vdXNlKHN0cnVjdCB2ZGFnZW50ZF91aW5wdXQgKip1aW5wdXRwLCBWREFnZW50TW91
c2VTdGF0ZSAqbW91c2UpCiAgICAgfQogfQogCi1zdGF0aWMgdm9pZCBkb19jbGllbnRfbW9uaXRv
cnMoc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgKnZwb3J0LCBpbnQgcG9ydF9uciwKK3N0YXRp
YyB2b2lkIGRvX2NsaWVudF9tb25pdG9ycyhWaXJ0aW9Qb3J0ICp2cG9ydCwgaW50IHBvcnRfbnIs
CiAgICAgVkRBZ2VudE1lc3NhZ2UgKm1lc3NhZ2VfaGVhZGVyLCBWREFnZW50TW9uaXRvcnNDb25m
aWcgKm5ld19tb25pdG9ycykKIHsKICAgICBWREFnZW50UmVwbHkgcmVwbHk7CkBAIC0yMTAsNyAr
MjEwLDcgQEAgc3RhdGljIHZvaWQgZG9fY2xpZW50X21vbml0b3JzKHN0cnVjdCB2ZGFnZW50X3Zp
cnRpb19wb3J0ICp2cG9ydCwgaW50IHBvcnRfbnIsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAodWludDhfdCAqKSZyZXBseSwgc2l6ZW9mKHJlcGx5KSk7CiB9CiAKLXN0YXRpYyB2b2lk
IGRvX2NsaWVudF92b2x1bWVfc3luYyhzdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdnBvcnQs
IGludCBwb3J0X25yLAorc3RhdGljIHZvaWQgZG9fY2xpZW50X3ZvbHVtZV9zeW5jKFZpcnRpb1Bv
cnQgKnZwb3J0LCBpbnQgcG9ydF9uciwKICAgICBWREFnZW50TWVzc2FnZSAqbWVzc2FnZV9oZWFk
ZXIsCiAgICAgVkRBZ2VudEF1ZGlvVm9sdW1lU3luYyAqYXZzKQogewpAQCAtMjIzLDcgKzIyMyw3
IEBAIHN0YXRpYyB2b2lkIGRvX2NsaWVudF92b2x1bWVfc3luYyhzdHJ1Y3QgdmRhZ2VudF92aXJ0
aW9fcG9ydCAqdnBvcnQsIGludCBwb3J0X25yCiAgICAgICAgICAgICAgICAgKHVpbnQ4X3QgKilh
dnMsIG1lc3NhZ2VfaGVhZGVyLT5zaXplKTsKIH0KIAotc3RhdGljIHZvaWQgZG9fY2xpZW50X2Nh
cGFiaWxpdGllcyhzdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdnBvcnQsCitzdGF0aWMgdm9p
ZCBkb19jbGllbnRfY2FwYWJpbGl0aWVzKFZpcnRpb1BvcnQgKnZwb3J0LAogICAgIFZEQWdlbnRN
ZXNzYWdlICptZXNzYWdlX2hlYWRlciwKICAgICBWREFnZW50QW5ub3VuY2VDYXBhYmlsaXRpZXMg
KmNhcHMpCiB7CkBAIC0yNDEsNyArMjQxLDcgQEAgc3RhdGljIHZvaWQgZG9fY2xpZW50X2NhcGFi
aWxpdGllcyhzdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdnBvcnQsCiAgICAgfQogfQogCi1z
dGF0aWMgdm9pZCBkb19jbGllbnRfY2xpcGJvYXJkKHN0cnVjdCB2ZGFnZW50X3ZpcnRpb19wb3J0
ICp2cG9ydCwKK3N0YXRpYyB2b2lkIGRvX2NsaWVudF9jbGlwYm9hcmQoVmlydGlvUG9ydCAqdnBv
cnQsCiAgICAgVkRBZ2VudE1lc3NhZ2UgKm1lc3NhZ2VfaGVhZGVyLCB1aW50OF90ICpkYXRhKQog
ewogICAgIHVpbnQzMl90IG1zZ190eXBlID0gMCwgZGF0YV90eXBlID0gMCwgc2l6ZSA9IG1lc3Nh
Z2VfaGVhZGVyLT5zaXplOwpAQCAtMjk1LDcgKzI5NSw3IEBAIHN0YXRpYyB2b2lkIGRvX2NsaWVu
dF9jbGlwYm9hcmQoc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgKnZwb3J0LAogCiAvKiBTZW5k
IGZpbGUteGZlciBzdGF0dXMgdG8gdGhlIGNsaWVudC4gSW4gdGhlIGNhc2Ugc3RhdHVzIGlzIGFu
IGVycm9yLAogICogb3B0aW9uYWwgZGF0YSBmb3IgdGhlIGNsaWVudCBhbmQgbG9nIG1lc3NhZ2Ug
bWF5IGJlIHNwZWNpZmllZC4gKi8KLXN0YXRpYyB2b2lkIHNlbmRfZmlsZV94ZmVyX3N0YXR1cyhz
dHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdnBvcnQsCitzdGF0aWMgdm9pZCBzZW5kX2ZpbGVf
eGZlcl9zdGF0dXMoVmlydGlvUG9ydCAqdnBvcnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgY29uc3QgY2hhciAqbXNnLCB1aW50MzJfdCBpZCwgdWludDMyX3QgeGZlcl9zdGF0
dXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdWludDhfdCAqZGF0
YSwgdWludDMyX3QgZGF0YV9zaXplKQogewpAQCAtMzI3LDcgKzMyNyw3IEBAIHN0YXRpYyB2b2lk
IHNlbmRfZmlsZV94ZmVyX3N0YXR1cyhzdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdnBvcnQs
CiAgICAgZ19mcmVlKHN0YXR1cyk7CiB9CiAKLXN0YXRpYyB2b2lkIGRvX2NsaWVudF9maWxlX3hm
ZXIoc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgKnZwb3J0LAorc3RhdGljIHZvaWQgZG9fY2xp
ZW50X2ZpbGVfeGZlcihWaXJ0aW9Qb3J0ICp2cG9ydCwKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgVkRBZ2VudE1lc3NhZ2UgKm1lc3NhZ2VfaGVhZGVyLAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICB1aW50OF90ICpkYXRhKQogewpAQCAtNTI0LDcgKzUyNCw3IEBAIHN0
YXRpYyBnYm9vbGVhbiB2ZGFnZW50X21lc3NhZ2VfY2hlY2tfc2l6ZShjb25zdCBWREFnZW50TWVz
c2FnZSAqbWVzc2FnZV9oZWFkZXIpCiBzdGF0aWMgVkRBZ2VudEdyYXBoaWNzRGV2aWNlSW5mbyAq
ZGV2aWNlX2luZm8gPSBOVUxMOwogc3RhdGljIHNpemVfdCBkZXZpY2VfaW5mb19zaXplID0gMDsK
IHN0YXRpYyB2b2lkIHZpcnRpb19wb3J0X3JlYWRfY29tcGxldGUoCi0gICAgICAgIHN0cnVjdCB2
ZGFnZW50X3ZpcnRpb19wb3J0ICp2cG9ydCwKKyAgICAgICAgVmlydGlvUG9ydCAqdnBvcnQsCiAg
ICAgICAgIGludCBwb3J0X25yLAogICAgICAgICBWREFnZW50TWVzc2FnZSAqbWVzc2FnZV9oZWFk
ZXIsCiAgICAgICAgIHVpbnQ4X3QgKmRhdGEpCmRpZmYgLS1naXQgYS9zcmMvdmRhZ2VudGQvdmly
dGlvLXBvcnQuYyBiL3NyYy92ZGFnZW50ZC92aXJ0aW8tcG9ydC5jCmluZGV4IGFkOWQyN2IuLmE0
MTVkNDYgMTAwNjQ0Ci0tLSBhL3NyYy92ZGFnZW50ZC92aXJ0aW8tcG9ydC5jCisrKyBiL3NyYy92
ZGFnZW50ZC92aXJ0aW8tcG9ydC5jCkBAIC00NSw3ICs0NSw3IEBAIHN0cnVjdCB2ZGFnZW50X3Zp
cnRpb19wb3J0X2NodW5rX3BvcnRfZGF0YSB7CiAgICAgdWludDhfdCAqbWVzc2FnZV9kYXRhOwog
fTsKIAotc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgeworc3RydWN0IF9WaXJ0aW9Qb3J0IHsK
ICAgICBWREFnZW50Q29ubmVjdGlvbiBwYXJlbnRfaW5zdGFuY2U7CiAKICAgICAvKiBQZXIgY2h1
bmsgcG9ydCBkYXRhICovCkBAIC0xMTksMTEgKzExOSwxMSBAQCBzdGF0aWMgdm9pZCB2aXJ0aW9f
cG9ydF9jbGFzc19pbml0KFZpcnRpb1BvcnRDbGFzcyAqa2xhc3MpCiAgICAgY29ubl9jbGFzcy0+
aGFuZGxlX21lc3NhZ2UgPSB2ZGFnZW50X3ZpcnRpb19wb3J0X2RvX2NodW5rOwogfQogCi1zdHJ1
Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdmRhZ2VudF92aXJ0aW9fcG9ydF9jcmVhdGUoY29uc3Qg
Y2hhciAqcG9ydG5hbWUsCitWaXJ0aW9Qb3J0ICp2ZGFnZW50X3ZpcnRpb19wb3J0X2NyZWF0ZShj
b25zdCBjaGFyICpwb3J0bmFtZSwKICAgICB2ZGFnZW50X3ZpcnRpb19wb3J0X3JlYWRfY2FsbGJh
Y2sgcmVhZF9jYWxsYmFjaywKICAgICBWREFnZW50Q29ubkVycm9yQ2IgZXJyb3JfY2IpCiB7Ci0g
ICAgc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgKnZwb3J0OworICAgIFZpcnRpb1BvcnQgKnZw
b3J0OwogICAgIEdJT1N0cmVhbSAqaW9fc3RyZWFtOwogICAgIEdFcnJvciAqZXJyID0gTlVMTDsK
IApAQCAtMTc0LDcgKzE3NCw3IEBAIHN0cnVjdCB2ZGFnZW50X3ZpcnRpb19wb3J0ICp2ZGFnZW50
X3ZpcnRpb19wb3J0X2NyZWF0ZShjb25zdCBjaGFyICpwb3J0bmFtZSwKIH0KIAogdm9pZCB2ZGFn
ZW50X3ZpcnRpb19wb3J0X3dyaXRlX3N0YXJ0KAotICAgICAgICBzdHJ1Y3QgdmRhZ2VudF92aXJ0
aW9fcG9ydCAqdnBvcnQsCisgICAgICAgIFZpcnRpb1BvcnQgKnZwb3J0LAogICAgICAgICB1aW50
MzJfdCBwb3J0X25yLAogICAgICAgICB1aW50MzJfdCBtZXNzYWdlX3R5cGUsCiAgICAgICAgIHVp
bnQzMl90IG1lc3NhZ2Vfb3BhcXVlLApAQCAtMjA0LDcgKzIwNCw3IEBAIHZvaWQgdmRhZ2VudF92
aXJ0aW9fcG9ydF93cml0ZV9zdGFydCgKICAgICBuZXdfd2J1Zi0+d3JpdGVfcG9zICs9IHNpemVv
ZigqbWVzc2FnZV9oZWFkZXIpOwogfQogCi1pbnQgdmRhZ2VudF92aXJ0aW9fcG9ydF93cml0ZV9h
cHBlbmQoc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgKnZwb3J0LAoraW50IHZkYWdlbnRfdmly
dGlvX3BvcnRfd3JpdGVfYXBwZW5kKFZpcnRpb1BvcnQgKnZwb3J0LAogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVpbnQ4X3QgKmRhdGEsIHVpbnQzMl90IHNpemUp
CiB7CiAgICAgc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnRfYnVmICp3YnVmOwpAQCAtMjM0LDcg
KzIzNCw3IEBAIGludCB2ZGFnZW50X3ZpcnRpb19wb3J0X3dyaXRlX2FwcGVuZChzdHJ1Y3QgdmRh
Z2VudF92aXJ0aW9fcG9ydCAqdnBvcnQsCiB9CiAKIHZvaWQgdmRhZ2VudF92aXJ0aW9fcG9ydF93
cml0ZSgKLSAgICAgICAgc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgKnZwb3J0LAorICAgICAg
ICBWaXJ0aW9Qb3J0ICp2cG9ydCwKICAgICAgICAgdWludDMyX3QgcG9ydF9uciwKICAgICAgICAg
dWludDMyX3QgbWVzc2FnZV90eXBlLAogICAgICAgICB1aW50MzJfdCBtZXNzYWdlX29wYXF1ZSwK
QEAgLTI0Niw3ICsyNDYsNyBAQCB2b2lkIHZkYWdlbnRfdmlydGlvX3BvcnRfd3JpdGUoCiAgICAg
dmRhZ2VudF92aXJ0aW9fcG9ydF93cml0ZV9hcHBlbmQodnBvcnQsIGRhdGEsIGRhdGFfc2l6ZSk7
CiB9CiAKLXZvaWQgdmRhZ2VudF92aXJ0aW9fcG9ydF9yZXNldChzdHJ1Y3QgdmRhZ2VudF92aXJ0
aW9fcG9ydCAqdnBvcnQsIGludCBwb3J0KQordm9pZCB2ZGFnZW50X3ZpcnRpb19wb3J0X3Jlc2V0
KFZpcnRpb1BvcnQgKnZwb3J0LCBpbnQgcG9ydCkKIHsKICAgICBpZiAocG9ydCA+PSBWRFBfRU5E
X1BPUlQpIHsKICAgICAgICAgc3lzbG9nKExPR19FUlIsICJ2ZGFnZW50X3ZpcnRpb19wb3J0X3Jl
c2V0IHBvcnQgb3V0IG9mIHJhbmdlIik7CkBAIC0yNjEsNyArMjYxLDcgQEAgc3RhdGljIHZvaWQg
dmRhZ2VudF92aXJ0aW9fcG9ydF9kb19jaHVuayhWREFnZW50Q29ubmVjdGlvbiAqY29ubiwKICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3BvaW50ZXIgY2h1bmtfZGF0
YSkKIHsKICAgICBpbnQgYXZhaWwsIHJlYWQsIHBvcyA9IDA7Ci0gICAgc3RydWN0IHZkYWdlbnRf
dmlydGlvX3BvcnQgKnZwb3J0ID0gVklSVElPX1BPUlQoY29ubik7CisgICAgVmlydGlvUG9ydCAq
dnBvcnQgPSBWSVJUSU9fUE9SVChjb25uKTsKICAgICBWRElDaHVua0hlYWRlciAqY2h1bmtfaGVh
ZGVyID0gaGVhZGVyX2RhdGE7CiAgICAgc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnRfY2h1bmtf
cG9ydF9kYXRhICpwb3J0ID0KICAgICAgICAgJnZwb3J0LT5wb3J0X2RhdGFbY2h1bmtfaGVhZGVy
LT5wb3J0XTsKZGlmZiAtLWdpdCBhL3NyYy92ZGFnZW50ZC92aXJ0aW8tcG9ydC5oIGIvc3JjL3Zk
YWdlbnRkL3ZpcnRpby1wb3J0LmgKaW5kZXggMzJjZjhiNy4uY2FjMmE3NCAxMDA2NDQKLS0tIGEv
c3JjL3ZkYWdlbnRkL3ZpcnRpby1wb3J0LmgKKysrIGIvc3JjL3ZkYWdlbnRkL3ZpcnRpby1wb3J0
LmgKQEAgLTI5LDU5ICsyOSw0NCBAQAogCiBHX0JFR0lOX0RFQ0xTCiAKLSNkZWZpbmUgVklSVElP
X1RZUEVfUE9SVCAgICAgICAgICAgICh2aXJ0aW9fcG9ydF9nZXRfdHlwZSgpKQotI2RlZmluZSBW
SVJUSU9fUE9SVChvYmopICAgICAgICAgICAgKEdfVFlQRV9DSEVDS19JTlNUQU5DRV9DQVNUKChv
YmopLCBWSVJUSU9fVFlQRV9QT1JULCBWaXJ0aW9Qb3J0KSkKLSNkZWZpbmUgVklSVElPX0lTX1BP
UlQob2JqKSAgICAgICAgIChHX1RZUEVfQ0hFQ0tfSU5TVEFOQ0VfVFlQRSgob2JqKSwgVklSVElP
X1RZUEVfUE9SVCkpCi0jZGVmaW5lIFZJUlRJT19QT1JUX0NMQVNTKGtsYXNzKSAgICAoR19UWVBF
X0NIRUNLX0NMQVNTX0NBU1QoKGtsYXNzKSwgVklSVElPX1RZUEVfUE9SVCwgVmlydGlvUG9ydENs
YXNzKSkKLSNkZWZpbmUgVklSVElPX0lTX1BPUlRfQ0xBU1Moa2xhc3MpIChHX1RZUEVfQ0hFQ0tf
Q0xBU1NfVFlQRSgoa2xhc3MpLCBWSVJUSU9fVFlQRV9QT1JUKSkKLSNkZWZpbmUgVklSVElPX1BP
UlRfR0VUX0NMQVNTKG9iaikgIChHX1RZUEVfSU5TVEFOQ0VfR0VUX0NMQVNTKChvYmopLCBWSVJU
SU9fVFlQRV9QT1JULCBWaXJ0aW9Qb3J0Q2xhc3MpKQotCi10eXBlZGVmIHN0cnVjdCB2ZGFnZW50
X3ZpcnRpb19wb3J0IFZpcnRpb1BvcnQ7Ci10eXBlZGVmIHN0cnVjdCBWaXJ0aW9Qb3J0Q2xhc3Mg
VmlydGlvUG9ydENsYXNzOwotCi1zdHJ1Y3QgVmlydGlvUG9ydENsYXNzIHsKLSAgICBWREFnZW50
Q29ubmVjdGlvbkNsYXNzIHBhcmVudF9jbGFzczsKLX07Ci0KLUdUeXBlIHZpcnRpb19wb3J0X2dl
dF90eXBlKHZvaWQpOwotCi1zdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydDsKKyNkZWZpbmUgVklS
VElPX1RZUEVfUE9SVCB2aXJ0aW9fcG9ydF9nZXRfdHlwZSgpCitHX0RFQ0xBUkVfRklOQUxfVFlQ
RShWaXJ0aW9Qb3J0LCB2aXJ0aW9fcG9ydCwgVklSVElPLCBQT1JULCBWREFnZW50Q29ubmVjdGlv
bik7CiAKIC8qIENhbGxiYWNrcyB3aXRoIHRoaXMgdHlwZSB3aWxsIGJlIGNhbGxlZCB3aGVuIGEg
Y29tcGxldGUgbWVzc2FnZSBoYXMgYmVlbgogICAgcmVjZWl2ZWQuICovCiB0eXBlZGVmIHZvaWQg
KCp2ZGFnZW50X3ZpcnRpb19wb3J0X3JlYWRfY2FsbGJhY2spKAotICAgIHN0cnVjdCB2ZGFnZW50
X3ZpcnRpb19wb3J0ICp2cG9ydCwKKyAgICBWaXJ0aW9Qb3J0ICp2cG9ydCwKICAgICBpbnQgcG9y
dF9uciwKICAgICBWREFnZW50TWVzc2FnZSAqbWVzc2FnZV9oZWFkZXIsCiAgICAgdWludDhfdCAq
ZGF0YSk7CiAKIC8qIENyZWF0ZSBhIHZkYWdlbnQgdmlydGlvIHBvcnQgb2JqZWN0IGZvciBwb3J0
IHBvcnRuYW1lICovCi1zdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdmRhZ2VudF92aXJ0aW9f
cG9ydF9jcmVhdGUoY29uc3QgY2hhciAqcG9ydG5hbWUsCitWaXJ0aW9Qb3J0ICp2ZGFnZW50X3Zp
cnRpb19wb3J0X2NyZWF0ZShjb25zdCBjaGFyICpwb3J0bmFtZSwKICAgICB2ZGFnZW50X3ZpcnRp
b19wb3J0X3JlYWRfY2FsbGJhY2sgcmVhZF9jYWxsYmFjaywKICAgICBWREFnZW50Q29ubkVycm9y
Q2IgZXJyb3JfY2IpOwogCiAvKiBRdWV1ZSBhIG1lc3NhZ2UgZm9yIGRlbGl2ZXJ5LCBlaXRoZXIg
Yml0IGJ5IGJpdCwgb3IgYWxsIGF0IG9uY2UgKi8KIHZvaWQgdmRhZ2VudF92aXJ0aW9fcG9ydF93
cml0ZV9zdGFydCgKLSAgICAgICAgc3RydWN0IHZkYWdlbnRfdmlydGlvX3BvcnQgKnZwb3J0LAor
ICAgICAgICBWaXJ0aW9Qb3J0ICp2cG9ydCwKICAgICAgICAgdWludDMyX3QgcG9ydF9uciwKICAg
ICAgICAgdWludDMyX3QgbWVzc2FnZV90eXBlLAogICAgICAgICB1aW50MzJfdCBtZXNzYWdlX29w
YXF1ZSwKICAgICAgICAgdWludDMyX3QgZGF0YV9zaXplKTsKIAogaW50IHZkYWdlbnRfdmlydGlv
X3BvcnRfd3JpdGVfYXBwZW5kKAotICAgICAgICBzdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAq
dnBvcnQsCisgICAgICAgIFZpcnRpb1BvcnQgKnZwb3J0LAogICAgICAgICBjb25zdCB1aW50OF90
ICpkYXRhLAogICAgICAgICB1aW50MzJfdCBzaXplKTsKIAogdm9pZCB2ZGFnZW50X3ZpcnRpb19w
b3J0X3dyaXRlKAotICAgICAgICBzdHJ1Y3QgdmRhZ2VudF92aXJ0aW9fcG9ydCAqdnBvcnQsCisg
ICAgICAgIFZpcnRpb1BvcnQgKnZwb3J0LAogICAgICAgICB1aW50MzJfdCBwb3J0X25yLAogICAg
ICAgICB1aW50MzJfdCBtZXNzYWdlX3R5cGUsCiAgICAgICAgIHVpbnQzMl90IG1lc3NhZ2Vfb3Bh
cXVlLAogICAgICAgICBjb25zdCB1aW50OF90ICpkYXRhLAogICAgICAgICB1aW50MzJfdCBkYXRh
X3NpemUpOwogCi12b2lkIHZkYWdlbnRfdmlydGlvX3BvcnRfcmVzZXQoc3RydWN0IHZkYWdlbnRf
dmlydGlvX3BvcnQgKnZwb3J0LCBpbnQgcG9ydCk7Cit2b2lkIHZkYWdlbnRfdmlydGlvX3BvcnRf
cmVzZXQoVmlydGlvUG9ydCAqdnBvcnQsIGludCBwb3J0KTsKIAogR19FTkRfREVDTFMKIAotLSAK
Mi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpT
cGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
Cmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2
ZWw=
