Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 66CC586601
	for <lists+spice-devel@lfdr.de>; Thu,  8 Aug 2019 17:36:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id E95D76E882;
	Thu,  8 Aug 2019 15:36:54 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-wm1-f68.google.com (mail-wm1-f68.google.com
 [209.85.128.68])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3DEDF6E882
 for <spice-devel@lists.freedesktop.org>; Thu,  8 Aug 2019 15:36:53 +0000 (UTC)
Received: by mail-wm1-f68.google.com with SMTP id v15so2864475wml.0
 for <spice-devel@lists.freedesktop.org>; Thu, 08 Aug 2019 08:36:53 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:subject:to:cc:references:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=ez42V380nxgzV2UHmrtvPZg2dDl6pAAG5Abfi5Ar45g=;
 b=ipToOIBfqmh7c595DGAM7NU5kTBcNBL35UM8FL+3jAQ8fLmYsQFBOxh3fnh2GGcxQc
 9zmFOxkN2uRwq16DwvLX9zmeaIC7OX3QsbqyVsyp6OtO3+/EQ/13vo4at/yzi7o4/3WR
 +SurlSmqzAQ97c5CCLs4fXa9mQfg0EB7uutZo0CIMFlh6XqwyHRPo0/gzBXhZBo8eK5q
 u7H7b7YcIZhw1TMQXsUhawi0xGOrYUQfnOkHce9MC5GXAZH0Dht6WaA+raa6Vbb9XKbR
 XldQQWPjY4as/ne5EpC4JnLTA4RDW/iJ4l4Aknrw+MF8x7kMiWLfKDGGkXdx+JHr5+UE
 NBKA==
X-Gm-Message-State: APjAAAWDh7nc1b1VXtIouEgR9pn3g3GhDuH6Eb82SZp4L3EyPUd7WYoT
 yHgjjNz1XH1yAoGl8eTmkrkSxSX0aNs=
X-Google-Smtp-Source: APXvYqzDpP70oLpuPrqIYPOXtqWfEuyL3KNkOeAQj+MbdthGfbfSGHRQyQeS+bKL0UkLrpi+mKdtJg==
X-Received: by 2002:a1c:c14a:: with SMTP id r71mr4933130wmf.166.1565278611389; 
 Thu, 08 Aug 2019 08:36:51 -0700 (PDT)
Received: from dhcp-4-93.tlv.redhat.com (bzq-82-81-161-50.red.bezeqint.net.
 [82.81.161.50])
 by smtp.gmail.com with ESMTPSA id v5sm144291745wre.50.2019.08.08.08.36.49
 (version=TLS1_3 cipher=AEAD-AES128-GCM-SHA256 bits=128/128);
 Thu, 08 Aug 2019 08:36:49 -0700 (PDT)
From: Snir Sheriber <ssheribe@redhat.com>
To: Kevin Pouget <kpouget@redhat.com>
References: <20190806153453.20616-9-kpouget@redhat.com>
 <20190807154949.28693-1-kpouget@redhat.com>
 <01beefc4-40d8-4e3d-3ebd-2b43dce90d3e@redhat.com>
 <CADJ1XR1PxwSy4PWoAJDL6WFkan0DOTwRarM9w_wxve5orugYkQ@mail.gmail.com>
Message-ID: <9f4d859c-9449-547c-9c48-4313358070ae@redhat.com>
Date: Thu, 8 Aug 2019 18:36:48 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.8.0
MIME-Version: 1.0
In-Reply-To: <CADJ1XR1PxwSy4PWoAJDL6WFkan0DOTwRarM9w_wxve5orugYkQ@mail.gmail.com>
Content-Language: en-US
Subject: Re: [Spice-devel] [RFC spice-gtk 1/2] streaming: make draw-area
 visible on MJPEG encoder creation
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Spice devel <spice-devel@lists.freedesktop.org>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SGksCgoKT24gOC84LzE5IDE6MDkgUE0sIEtldmluIFBvdWdldCB3cm90ZToKPiBIZWxsbywKPgo+
IE9uIFRodSwgQXVnIDgsIDIwMTkgYXQgMTE6MjMgQU0gU25pciBTaGVyaWJlcjxzc2hlcmliZUBy
ZWRoYXQuY29tPiAgd3JvdGU6Cj4+IEhpLAo+Pgo+PiBPbiA4LzcvMTkgNjo0OSBQTSwgS2V2aW4g
UG91Z2V0IHdyb3RlOgo+Pj4gVGhpcyBwYXRjaCBhbGxvd3MgdGhlIE1KUEVHIGVuY29kZXIgdG8g
aW5mb3JtIHRoZSBzcGljZS13aWRnZXQgdGhhdAo+Pj4gaXRzIHZpZGVvIGRyYXdpbmcgYXJlYSAo
ZHJhdy1hcmVhKSBzaG91bGQgYmUgbWFkZSB2aXNpYmxlIG9uIHNjcmVlbi4KPj4gU28gdGhlIGZp
cnN0IG9uZSBkb2VzIG5vdCB3b3JrPwo+IGl0IHdhcyB3b3JraW5nLCBidXQgdGhlIHBhdGNoIHdh
cyBtb3JlIGEgd29ya2Fyb3VuZCB0aGFuIGEgcHJvcGVyIGZpeCwKPiB0aGlzIGNhbGw6Cj4KPj4+
ICsgICAgZ3RrX3N0YWNrX3NldF92aXNpYmxlX2NoaWxkX25hbWUoZC0+c3RhY2ssICJkcmF3LWFy
ZWEiKTsKPiB3YXMgdHJpZ2dlcmVkIHRvbyBvZnRlbiwgaWUgYWxzbyB3aGVuIHN3aXRjaGluZyBi
ZXR3ZWVuIEdTVCBzdHJlYW1zCj4gKGJ1dCB0aGUgZ3N0LWFyZWEgd291bGQgYmUgcHV0IGJhY2sg
b24gdG9wIHJpZ2h0IGFmdGVyKQo+Cj4+IEJUVyBpIHRoaW5rIHRoZSBjb25zZW5zdXMgaXMgdG8g
bWVudGlvbiB0aGUgcGF0Y2ggdmVyc2lvbiBpbiBhbGwKPj4gb2YgdGhlIHN1YmplY3RzIChub3Qg
b25seSBpbiB0aGUgY292ZXIgbGV0dGVyKQo+IHllcywgc29ycnksIEkgd2FudGVkIHRvIHBvc3Qg
dGhpcyBhcyBhIHJlcGx5IHRvIHRoZSBwcmV2aW91cyBlbWFpbCwKPiBidXQgZ2l0IGZvcmdvdCB0
byBhc2sgbWUgdGhlIGluLXJlcGx5LXRvIHZhbHVlLCBJIGRvbid0IGtub3cgd2h5IDojCj4gLi4u
Lgo+Cj4+PiBUaGlzIGlzIHJlcXVpcmVkIHRvIHN3aXRjaCBmcm9tIEdTVCB2aWRlbyBkZWNvZGlu
ZyB0byBuYXRpdmUgTUpQRUcKPj4+IGRlY29kaW5nLCBvdGhlcndpc2UgdGhlIGdzdC1hcmVhIHJl
bWFpbmVkIG9uIHRvcCBhbmQgdGhlIE1KUEVHIHZpZGVvCj4+PiBzdHJlYW0gd2FzIG5ldmVyIHNo
b3duLgo+PiBBY3R1YWxseSBJSVJDIHRoZSBmaXJzdCB2ZXJzaW9uIG9mIHRoZSBnc3Qtb3Zlcmxh
eSBzaWduYWwgaW5jbHVkZWQKPj4gYSBib29sZWFuIHZhbHVlIHdoaWNoIGNvdWxkIGhhdmUgYmVl
biB1c2VmdWwgaGVyZSA6UAo+IHlvdSBtZWFuIGFuIGVhcmxpZXIgdmVyc2lvbiwgb3IgdGhlIG9u
ZSBtb2RpZmllZCBieSB0aGlzIHBhdGNoPwoKRWFybGllciB2ZXJzaW9uCgo+IEkgd29uZGVyZWQg
aWYgaXQgd291bGQgYmUgYW4gYWNjZXB0YWJsZSBzb2x1dGlvbiB0byBoYWNrIHRoZSBleGlzdGlu
Zwo+IHNldF9vdmVybGF5IGZ1bmN0aW9uLAo+IGZvciBpbnN0YW5jZSBpZiBwaXBlbGluZV9wdHIg
PT0gTlVMTCwgdGhlbiBzZXQgdGhlIG5hdGl2ZSBkcmF3aW5nIGFyZWEKCgpJJ20gbm90IHN1cmUg
aG93IGJhZCBpcyBpdCwgYXQgbGVhc3QgaXQgc2hvdWxkbid0IGRhbWFnZS4KCgo+Pj4gU2lnbmVk
LW9mZi1ieTogS2V2aW4gUG91Z2V0PGtwb3VnZXRAcmVkaGF0LmNvbT4KPj4+Cj4+PiAtLS0KPj4+
ICAgIHNyYy9jaGFubmVsLWRpc3BsYXktbWpwZWcuYyB8ICAyICsrCj4+PiAgICBzcmMvY2hhbm5l
bC1kaXNwbGF5LXByaXYuaCAgfCAgMiArLQo+Pj4gICAgc3JjL2NoYW5uZWwtZGlzcGxheS5jICAg
ICAgIHwgMzggKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLQo+Pj4gICAgc3Jj
L3NwaWNlLW1hcnNoYWwudHh0ICAgICAgIHwgIDEgKwo+Pj4gICAgc3JjL3NwaWNlLXdpZGdldC5j
ICAgICAgICAgIHwgMTYgKysrKysrKysrKysrKystLQo+Pj4gICAgNSBmaWxlcyBjaGFuZ2VkLCA1
MyBpbnNlcnRpb25zKCspLCA2IGRlbGV0aW9ucygtKQo+Pj4KPj4+IGRpZmYgLS1naXQgYS9zcmMv
Y2hhbm5lbC1kaXNwbGF5LW1qcGVnLmMgYi9zcmMvY2hhbm5lbC1kaXNwbGF5LW1qcGVnLmMKPj4+
IGluZGV4IDY0N2QzMWIuLjZmMWE0ZDcgMTAwNjQ0Cj4+PiAtLS0gYS9zcmMvY2hhbm5lbC1kaXNw
bGF5LW1qcGVnLmMKPj4+ICsrKyBiL3NyYy9jaGFubmVsLWRpc3BsYXktbWpwZWcuYwo+Pj4gQEAg
LTMwMCw1ICszMDAsNyBAQCBWaWRlb0RlY29kZXIqIGNyZWF0ZV9tanBlZ19kZWNvZGVyKGludCBj
b2RlY190eXBlLCBkaXNwbGF5X3N0cmVhbSAqc3RyZWFtKQo+Pj4KPj4+ICAgICAgICAvKiBBbGwg
dGhlIG90aGVyIGZpZWxkcyBhcmUgaW5pdGlhbGl6ZWQgdG8gemVybyBieSBnX25ldzAoKS4gKi8K
Pj4+Cj4+PiArICAgIHNob3dfbWpwZWdfd2lkZ2V0KHN0cmVhbSk7Cj4+PiArCj4+PiAgICAgICAg
cmV0dXJuIChWaWRlb0RlY29kZXIqKWRlY29kZXI7Cj4+PiAgICB9Cj4+PiBkaWZmIC0tZ2l0IGEv
c3JjL2NoYW5uZWwtZGlzcGxheS1wcml2LmggYi9zcmMvY2hhbm5lbC1kaXNwbGF5LXByaXYuaAo+
Pj4gaW5kZXggMTZjMTJjNi4uMzQyNGE4ZSAxMDA2NDQKPj4+IC0tLSBhL3NyYy9jaGFubmVsLWRp
c3BsYXktcHJpdi5oCj4+PiArKysgYi9zcmMvY2hhbm5lbC1kaXNwbGF5LXByaXYuaAo+Pj4gQEAg
LTE5OSw3ICsxOTksNyBAQCB2b2lkIHN0cmVhbV9kcm9wcGVkX2ZyYW1lX29uX3BsYXliYWNrKGRp
c3BsYXlfc3RyZWFtICpzdCk7Cj4+PiAgICB2b2lkIHN0cmVhbV9kaXNwbGF5X2ZyYW1lKGRpc3Bs
YXlfc3RyZWFtICpzdCwgU3BpY2VGcmFtZSAqZnJhbWUsIHVpbnQzMl90IHdpZHRoLCB1aW50MzJf
dCBoZWlnaHQsIGludCBzdHJpZGUsIHVpbnQ4X3QqIGRhdGEpOwo+Pj4gICAgZ3VpbnRwdHIgZ2V0
X3dpbmRvd19oYW5kbGUoZGlzcGxheV9zdHJlYW0gKnN0KTsKPj4+ICAgIGdib29sZWFuIGhhbmRf
cGlwZWxpbmVfdG9fd2lkZ2V0KGRpc3BsYXlfc3RyZWFtICpzdCwgIEdzdFBpcGVsaW5lICpwaXBl
bGluZSk7Cj4+PiAtCj4+PiArZ2Jvb2xlYW4gc2hvd19tanBlZ193aWRnZXQoZGlzcGxheV9zdHJl
YW0gKnN0KTsKPj4+ICAgIHZvaWQgc3BpY2VfZnJhbWVfZnJlZShTcGljZUZyYW1lICpmcmFtZSk7
Cj4+Pgo+Pj4gICAgR19FTkRfREVDTFMKPj4+IGRpZmYgLS1naXQgYS9zcmMvY2hhbm5lbC1kaXNw
bGF5LmMgYi9zcmMvY2hhbm5lbC1kaXNwbGF5LmMKPj4+IGluZGV4IDQ0NTU1ZTMuLjE4ZTk1Yjkg
MTAwNjQ0Cj4+PiAtLS0gYS9zcmMvY2hhbm5lbC1kaXNwbGF5LmMKPj4+ICsrKyBiL3NyYy9jaGFu
bmVsLWRpc3BsYXkuYwo+Pj4gQEAgLTkwLDcgKzkwLDggQEAgZW51bSB7Cj4+PiAgICAgICAgU1BJ
Q0VfRElTUExBWV9NQVJLLAo+Pj4gICAgICAgIFNQSUNFX0RJU1BMQVlfR0xfRFJBVywKPj4+ICAg
ICAgICBTUElDRV9ESVNQTEFZX1NUUkVBTUlOR19NT0RFLAo+Pj4gLSAgICBTUElDRV9ESVNQTEFZ
X09WRVJMQVksCj4+PiArICAgIFNQSUNFX0RJU1BMQVlfR1NUX09WRVJMQVksCj4+PiArICAgIFNQ
SUNFX0RJU1BMQVlfTUpQRUdfT1ZFUkxBWSwKPj4gVGhlIHRlcm0gb3ZlcmxheSBpcyBkZXJpdmVk
IGZyb20gR3N0VmlkZW9PdmVybGF5IHdoaWNoIGlzIGFuIGdzdHJlYW1lcgo+PiBpbnRlcmZhY2Ug
dGhhdCBvdmVybGF5cyBnc3RyZWFtZXIgb3V0cHV0IG9uIHRoZSBndGsgd2lkZ2V0LCBpbiB0aGUg
Y2FzZQo+PiBvZiBidWlsdGluIG1qcGVnIChhbHNvIHdpdGggZ3N0IGlzIG5vdCBhbHdheXMgdHJ1
ZSkgd2UgcGFzcyBwaXhlbHMgYW5kCj4+IHJlbmRlciBpbnRvIHRoZSBzdXJmYWNlIEkgZG9uJ3Qg
dGhpbmsgdGhlIG5hbWUgc2hvdWxkIGludmx1ZGUgIm92ZXJsYXkiLgo+IGFjdHVhbGx5LCBJIGFs
c28gZG9uJ3QgcmVhbGx5IGxpa2UgdG8gaGF2ZSAibWpwZWciIGluIHRoZSBuYW1lLAo+IGJlY2F1
c2UgR1NUIGFsc28gc3VwcG9ydHMgaXQsCj4gbWF5YmUgU1BJQ0VfRElTUExBWV9OQVRJVkVfRFJB
V19BUkVBCgoKU291bmRzIGJldHRlci4KCgo+Pj4gICAgICAgIFNQSUNFX0RJU1BMQVlfTEFTVF9T
SUdOQUwsCj4+PiAgICB9Owo+Pj4gQEAgLTQ5MSw3ICs0OTIsNyBAQCBzdGF0aWMgdm9pZCBzcGlj
ZV9kaXNwbGF5X2NoYW5uZWxfY2xhc3NfaW5pdChTcGljZURpc3BsYXlDaGFubmVsQ2xhc3MgKmts
YXNzKQo+Pj4gICAgICAgICAqCj4+PiAgICAgICAgICogU2luY2U6IDAuMzYKPj4+ICAgICAgICAg
KiovCj4+PiAtICAgIHNpZ25hbHNbU1BJQ0VfRElTUExBWV9PVkVSTEFZXSA9Cj4+PiArICAgIHNp
Z25hbHNbU1BJQ0VfRElTUExBWV9HU1RfT1ZFUkxBWV0gPQo+Pj4gICAgICAgICAgICBnX3NpZ25h
bF9uZXcoImdzdC12aWRlby1vdmVybGF5IiwKPj4+ICAgICAgICAgICAgICAgICAgICAgICAgIEdf
T0JKRUNUX0NMQVNTX1RZUEUoZ29iamVjdF9jbGFzcyksCj4+PiAgICAgICAgICAgICAgICAgICAg
ICAgICAwLCAwLAo+Pj4gQEAgLTUwMSw2ICs1MDIsMjUgQEAgc3RhdGljIHZvaWQgc3BpY2VfZGlz
cGxheV9jaGFubmVsX2NsYXNzX2luaXQoU3BpY2VEaXNwbGF5Q2hhbm5lbENsYXNzICprbGFzcykK
Pj4+ICAgICAgICAgICAgICAgICAgICAgICAgIDEsCj4+PiAgICAgICAgICAgICAgICAgICAgICAg
ICBHU1RfVFlQRV9QSVBFTElORSk7Cj4+Pgo+Pj4gKyAgICAvKioKPj4+ICsgICAgICogU3BpY2VE
aXNwbGF5Q2hhbm5lbDo6bWpwZWctdmlkZW8tb3ZlcmxheToKPj4+ICsgICAgICogQGRpc3BsYXk6
IHRoZSAjU3BpY2VEaXNwbGF5Q2hhbm5lbCB0aGF0IGVtaXR0ZWQgdGhlIHNpZ25hbAo+Pj4gKyAg
ICAgKgo+Pj4gKyAgICAgKiBUaGUgI1NwaWNlRGlzcGxheUNoYW5uZWw6Om1qcGVnLXZpZGVvLW92
ZXJsYXkgc2lnbmFsIGlzIGVtaXR0ZWQKPj4+ICsgICAgICogd2hlbiB0aGUgTUpQRUcgZW5jb2Rl
ciBpcyByZWFkeSBhbmQgaXRzIGRyYXdpbmcgYXJlYSBzaG91bGQgYmUKPj4+ICsgICAgICogbWFk
ZSB2aXNpYmxlIG9uIHNjcmVlbgo+Pj4gKyAgICAgKgo+Pj4gKyAgICAgKiBTaW5jZTogMC4zNwo+
Pj4gKyAgICAgKiovCj4+PiArICAgIHNpZ25hbHNbU1BJQ0VfRElTUExBWV9NSlBFR19PVkVSTEFZ
XSA9Cj4+PiArICAgICAgICBnX3NpZ25hbF9uZXcoIm1qcGVnLXZpZGVvLW92ZXJsYXkiLAo+Pj4g
KyAgICAgICAgICAgICAgICAgICAgIEdfT0JKRUNUX0NMQVNTX1RZUEUoZ29iamVjdF9jbGFzcyks
Cj4+PiArICAgICAgICAgICAgICAgICAgICAgMCwgMCwKPj4+ICsgICAgICAgICAgICAgICAgICAg
ICBOVUxMLCBOVUxMLAo+Pj4gKyAgICAgICAgICAgICAgICAgICAgIGdfY2Nsb3N1cmVfdXNlcl9t
YXJzaGFsX0JPT0xFQU5fX1ZPSUQsCj4+PiArICAgICAgICAgICAgICAgICAgICAgR19UWVBFX0JP
T0xFQU4sCj4+PiArICAgICAgICAgICAgICAgICAgICAgMCk7Cj4+PiArCj4+PiAgICAgICAgY2hh
bm5lbF9zZXRfaGFuZGxlcnMoU1BJQ0VfQ0hBTk5FTF9DTEFTUyhrbGFzcykpOwo+Pj4gICAgfQo+
Pj4KPj4+IEBAIC0xNDcyLDEyICsxNDkyLDI0IEBAIGdib29sZWFuIGhhbmRfcGlwZWxpbmVfdG9f
d2lkZ2V0KGRpc3BsYXlfc3RyZWFtICpzdCwgR3N0UGlwZWxpbmUgKnBpcGVsaW5lKQo+Pj4gICAg
ICAgIGdib29sZWFuIHJlcyA9IGZhbHNlOwo+Pj4KPj4+ICAgICAgICBpZiAoc3QtPnN1cmZhY2Ut
PnN0cmVhbWluZ19tb2RlKSB7Cj4+PiAtICAgICAgICBnX3NpZ25hbF9lbWl0KHN0LT5jaGFubmVs
LCBzaWduYWxzW1NQSUNFX0RJU1BMQVlfT1ZFUkxBWV0sIDAsCj4+PiArICAgICAgICBnX3NpZ25h
bF9lbWl0KHN0LT5jaGFubmVsLCBzaWduYWxzW1NQSUNFX0RJU1BMQVlfR1NUX09WRVJMQVldLCAw
LAo+Pj4gICAgICAgICAgICAgICAgICAgICAgICAgIHBpcGVsaW5lLCAmcmVzKTsKPj4+ICAgICAg
ICB9Cj4+PiAgICAgICAgcmV0dXJuIHJlczsKPj4+ICAgIH0KPj4+Cj4+PiArR19HTlVDX0lOVEVS
TkFMCj4+PiArZ2Jvb2xlYW4gc2hvd19tanBlZ193aWRnZXQoZGlzcGxheV9zdHJlYW0gKnN0KQo+
Pj4gK3sKPj4+ICsgICAgZ2Jvb2xlYW4gcmVzID0gZmFsc2U7Cj4+PiArICAgIGdfd2FybmluZygi
U0hPVyEiKTsKPj4gSSBndWVzcyB0aGlzIHdhcyBmb3IgdGVzdGluZyBwdXJwb3Nlcy4KPiBpbmRl
ZWQsIEknbGwgdXBkYXRlIHRoZSBjaGVja3BhdGNoIHNjcmlwdCB0byB3YXJuIGFib3V0IG5ldyBn
X3dhcm5pbmchCj4KPj4+ICsgICAgaWYgKHN0LT5zdXJmYWNlLT5zdHJlYW1pbmdfbW9kZSkgewo+
Pj4gKyAgICAgICAgZ19zaWduYWxfZW1pdChzdC0+Y2hhbm5lbCwgc2lnbmFsc1tTUElDRV9ESVNQ
TEFZX01KUEVHX09WRVJMQVldLCAwLCAmcmVzKTsKPj4+ICsgICAgfQo+Pj4gKwo+Pj4gKyAgICBy
ZXR1cm4gcmVzOwo+Pj4gK30KPj4+ICsKPj4+ICAgIC8qIGFmdGVyIGEgc2VxdWVuY2Ugb2YgMyBk
cm9wcywgcHVzaCBhIHJlcG9ydCB0byB0aGUgc2VydmVyLCBldmVuCj4+PiAgICAgKiBpZiB0aGUg
cmVwb3J0IHdpbmRvdyBpcyBiaWdnZXIgKi8KPj4+ICAgICNkZWZpbmUgU1RSRUFNX1JFUE9SVF9E
Uk9QX1NFUV9MRU5fTElNSVQgMwo+Pj4gZGlmZiAtLWdpdCBhL3NyYy9zcGljZS1tYXJzaGFsLnR4
dCBiL3NyYy9zcGljZS1tYXJzaGFsLnR4dAo+Pj4gaW5kZXggNDZiZTQwNS4uZTYwZDcyNSAxMDA2
NDQKPj4+IC0tLSBhL3NyYy9zcGljZS1tYXJzaGFsLnR4dAo+Pj4gKysrIGIvc3JjL3NwaWNlLW1h
cnNoYWwudHh0Cj4+PiBAQCAtOCw2ICs4LDcgQEAgVk9JRDpQT0lOVEVSLElOVAo+Pj4gICAgVk9J
RDpQT0lOVEVSLEJPT0xFQU4KPj4+ICAgIEJPT0xFQU46UE9JTlRFUixVSU5UCj4+PiAgICBCT09M
RUFOOlVJTlQKPj4+ICtCT09MRUFOOlZPSUQKPj4+ICAgIFZPSUQ6VUlOVCxQT0lOVEVSLFVJTlQK
Pj4+ICAgIFZPSUQ6VUlOVCxVSU5ULFBPSU5URVIsVUlOVAo+Pj4gICAgQk9PTEVBTjpVSU5ULFBP
SU5URVIsVUlOVAo+Pj4gZGlmZiAtLWdpdCBhL3NyYy9zcGljZS13aWRnZXQuYyBiL3NyYy9zcGlj
ZS13aWRnZXQuYwo+Pj4gaW5kZXggYTliYTFmMS4uMzRlM2M1ZSAxMDA2NDQKPj4+IC0tLSBhL3Ny
Yy9zcGljZS13aWRnZXQuYwo+Pj4gKysrIGIvc3JjL3NwaWNlLXdpZGdldC5jCj4+PiBAQCAtMjIx
MCw2ICsyMjEwLDggQEAgc3RhdGljIHZvaWQgdXBkYXRlX2ltYWdlKFNwaWNlRGlzcGxheSAqZGlz
cGxheSkKPj4+ICAgICAgICBTcGljZURpc3BsYXlQcml2YXRlICpkID0gZGlzcGxheS0+cHJpdjsK
Pj4+Cj4+PiAgICAgICAgc3BpY2VfY2Fpcm9faW1hZ2VfY3JlYXRlKGRpc3BsYXkpOwo+Pj4gKyAg
ICBndGtfc3RhY2tfc2V0X3Zpc2libGVfY2hpbGRfbmFtZShkLT5zdGFjaywgImRyYXctYXJlYSIp
Owo+Pj4gKwo+Pj4gICAgICAgIGlmIChkLT5jYW52YXMuY29udmVydCkKPj4+ICAgICAgICAgICAg
ZG9fY29sb3JfY29udmVydChkaXNwbGF5LCAmZC0+YXJlYSk7Cj4+PiAgICB9Cj4+PiBAQCAtMjc4
Miw3ICsyNzg0LDcgQEAgc3RhdGljIHZvaWQgZ3N0X3NpemVfYWxsb2NhdGUoR3RrV2lkZ2V0ICp3
aWRnZXQsIEdka1JlY3RhbmdsZSAqYSwgZ3BvaW50ZXIgZGF0YSkKPj4+ICAgIC8qIFRoaXMgY2Fs
bGJhY2sgc2hvdWxkIHBhc3MgdG8gdGhlIHdpZGdldCBhIHBvaW50ZXIgb2YgdGhlIHBpcGVsaW5l
Cj4+PiAgICAgKiBzbyB0aGF0IHdlIGNhbiBzZXQgcGlwZWxpbmUgYW5kIG92ZXJsYXkgcmVsYXRl
ZCBjYWxscyBmcm9tIGhlcmUuCj4+PiAgICAgKi8KPj4+IC1zdGF0aWMgZ2Jvb2xlYW4gc2V0X292
ZXJsYXkoU3BpY2VDaGFubmVsICpjaGFubmVsLCB2b2lkKiBwaXBlbGluZV9wdHIsIFNwaWNlRGlz
cGxheSAqZGlzcGxheSkKPj4+ICtzdGF0aWMgZ2Jvb2xlYW4gZ3N0X3NldF9vdmVybGF5KFNwaWNl
Q2hhbm5lbCAqY2hhbm5lbCwgdm9pZCogcGlwZWxpbmVfcHRyLCBTcGljZURpc3BsYXkgKmRpc3Bs
YXkpCj4+PiAgICB7Cj4+PiAgICAjaWYgZGVmaW5lZChHREtfV0lORE9XSU5HX1gxMSkKPj4+ICAg
ICAgICBTcGljZURpc3BsYXlQcml2YXRlICpkID0gZGlzcGxheS0+cHJpdjsKPj4+IEBAIC0yODA4
LDYgKzI4MTAsMTQgQEAgc3RhdGljIGdib29sZWFuIHNldF9vdmVybGF5KFNwaWNlQ2hhbm5lbCAq
Y2hhbm5lbCwgdm9pZCogcGlwZWxpbmVfcHRyLCBTcGljZURpc3AKPj4+ICAgICAgICByZXR1cm4g
ZmFsc2U7Cj4+PiAgICB9Cj4+Pgo+Pj4gK3N0YXRpYyBnYm9vbGVhbiBtanBlZ19zZXRfb3Zlcmxh
eShTcGljZUNoYW5uZWwgKmNoYW5uZWwsIFNwaWNlRGlzcGxheSAqZGlzcGxheSkKPj4+ICt7Cj4+
PiArICAgIFNwaWNlRGlzcGxheVByaXZhdGUgKmQgPSBkaXNwbGF5LT5wcml2Owo+Pj4gKyAgICBn
X3dhcm5pbmcoIlNFVCEiKTsKPj4gU2FtZQo+Pgo+Pj4gKyAgICBndGtfc3RhY2tfc2V0X3Zpc2li
bGVfY2hpbGRfbmFtZShkLT5zdGFjaywgImRyYXctYXJlYSIpOwo+Pj4gKyAgICByZXR1cm4gdHJ1
ZTsKPj4+ICt9Cj4+PiArCj4+PiAgICBzdGF0aWMgdm9pZCBpbnZhbGlkYXRlKFNwaWNlQ2hhbm5l
bCAqY2hhbm5lbCwKPj4+ICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2ludCB4LCBnaW50IHks
IGdpbnQgdywgZ2ludCBoLCBncG9pbnRlciBkYXRhKQo+Pj4gICAgewo+Pj4gQEAgLTMxOTIsNyAr
MzIwMiw5IEBAIHN0YXRpYyB2b2lkIGNoYW5uZWxfbmV3KFNwaWNlU2Vzc2lvbiAqcywgU3BpY2VD
aGFubmVsICpjaGFubmVsLCBTcGljZURpc3BsYXkgKmRpCj4+PiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIEdfQ0FMTEJBQ0soc3BpY2VfZGlzcGxheV93aWRnZXRfdXBk
YXRlX21vbml0b3JfYXJlYSksCj4+PiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIGRpc3BsYXksIEdfQ09OTkVDVF9BRlRFUiB8IEdfQ09OTkVDVF9TV0FQUEVEKTsKPj4+
ICAgICAgICAgICAgc3BpY2VfZ19zaWduYWxfY29ubmVjdF9vYmplY3QoY2hhbm5lbCwgImdzdC12
aWRlby1vdmVybGF5IiwKPj4+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IEdfQ0FMTEJBQ0soc2V0X292ZXJsYXkpLCBkaXNwbGF5LCBHX0NPTk5FQ1RfQUZURVIpOwo+Pj4g
KyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR19DQUxMQkFDSyhnc3Rfc2V0
X292ZXJsYXkpLCBkaXNwbGF5LCBHX0NPTk5FQ1RfQUZURVIpOwo+Pj4gKyAgICAgICAgc3BpY2Vf
Z19zaWduYWxfY29ubmVjdF9vYmplY3QoY2hhbm5lbCwgIm1qcGVnLXZpZGVvLW92ZXJsYXkiLAo+
Pj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR19DQUxMQkFDSyhtanBl
Z19zZXRfb3ZlcmxheSksIGRpc3BsYXksIEdfQ09OTkVDVF9BRlRFUik7Cj4+PiAgICAgICAgICAg
IGlmIChzcGljZV9kaXNwbGF5X2NoYW5uZWxfZ2V0X3ByaW1hcnkoY2hhbm5lbCwgMCwgJnByaW1h
cnkpKSB7Cj4+PiAgICAgICAgICAgICAgICBwcmltYXJ5X2NyZWF0ZShjaGFubmVsLCBwcmltYXJ5
LmZvcm1hdCwgcHJpbWFyeS53aWR0aCwgcHJpbWFyeS5oZWlnaHQsCj4+PiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBwcmltYXJ5LnN0cmlkZSwgcHJpbWFyeS5zaG1pZCwgcHJpbWFyeS5k
YXRhLCBkaXNwbGF5KTsKPj4gSSdkIGFsc28gc3VnZ2VzdCBhbm90aGVyIG9wdGlvbiB3aGljaCBp
cyB0byBub3QgYWxsb3cgc3dpdGNoaW5nIGludG8KPj4gYnVpbHQtaW4KPj4gbWpwZWcgaW4gY2Fz
ZSB5b3Ugc3RhcnRlZCB3aXRoIGdzdHJlYW1lciAoaS5lLiBvbmUgeW91IHN0YXJ0ZWQgd2l0aAo+
PiBnc3RyZWFtZXIgZGVjb2RlciBzdGljayB0byBpdCkuCj4+IEkgZ3Vlc3MgaXQgd2lsbCBiZSBz
aW1wbGVyIGJ1dCBuZWVkcyB0byBzZWUgd2hhdCB0aGlzIHdvdWxkIHJlcXVpcmUuCj4gY2FuIHdl
IGFzc3VtZSB0aGF0IEdzdHJlYW1lciBhbHdheXMgc3VwcG9ydHMgTUpQRUcgZGVjb2Rpbmc/CgpU
aGVvcmV0aWNhbGx5IG5vLCBwcmFjdGljYWxseSBpIHRoaW5rIHdlIGNhbiBhc3N1bWUgdGhpcyBp
ZiB3ZSdsbApyZXF1aXJlIHNvbWUgbGlicyBhcyBtYW5kYXRvcnkuCgpXb3J0aCBjaGVja2luZyBw
ZXJmb3JtYW5jZSBkaWZmZXJlbmNlLgoKCj4gaWYgeWVzLCB3aGF0IGl0IHRoZSBwb2ludCBvZiB1
c2luZyB0aGUgbmF0aXZlIGRlY29kZXI/CgpTdGlsbCwgdGhpcyBpcyBtb3JlIHNhZmUgaSBndWVz
cywgZ3N0cmVhbWVyIGlzIGJ1aWxkaW5nIGl0cwpkZWNvZGluZyBwaXBlbGluZSBkeW5hbWljYWxs
eSAsIHNvbWV0aGluZyBhbHdheXMgbWF5IGZhaWwuCgoKPiBhdCB0aGUgbW9tZW50LCBkaXNwbGF5
X3N0cmVhbV9jcmVhdGUgZ29lcyBpbnRvIHRoZSBuYXRpdmUgZGVjb2RlciBpZgo+IHRoZSBzdHJl
YW0gaXMgTUpQRUcsIGFuZCBHU1Qgb3RoZXJ3aXNlLiBTbyBHU1Qgd2lsbCBuZXZlciBkZWNvZGUg
TUpQRUcKPiBzdHJlYW1zLgoKSW5kZWVkLCBpIG1lYW50LCBvbmNlIGdzdHJlYW1lciBpcyB1c2Vk
IGRvbid0IGxldCBuYXRpdmUKbWpwZWcgdG8gYmUgdXNlZC4KSWYgaXQgc3RhcnRzIHdpdGggbWpw
ZWcsIHVzZSBuYXRpdmUsIGJ1dCBvbmNlIHlvdSBzd2l0Y2hpbmcgdG8KZ3N0cmVhbWVyLCB1c2Ug
b25seSBnc3RyZWFtZXIuIGFsc28gaWYgc3dpdGNoaW5nIGJhY2sgdG8KbWpwZWcuCgoKU25pcgoK
Cj4+PiAtLQo+Pj4gMi4yMS4wCj4+PiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwo+Pj4gU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0Cj4+PiBTcGljZS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKPj4+IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3Jn
L21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWwKPj4gX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX18KPj4gU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0Cj4+IFNw
aWNlLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+PiBodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVsCl9fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGlj
ZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5v
cmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
