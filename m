Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DDB0D24B5E
	for <lists+spice-devel@lfdr.de>; Tue, 21 May 2019 11:22:44 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 32BA489130;
	Tue, 21 May 2019 09:22:42 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1813189130
 for <spice-devel@lists.freedesktop.org>; Tue, 21 May 2019 09:22:41 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.phx2.redhat.com
 [10.5.11.13])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 88BCF356F8
 for <spice-devel@lists.freedesktop.org>; Tue, 21 May 2019 09:22:40 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx02.intmail.prod.int.phx2.redhat.com [10.5.11.21])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 7E1B36085B
 for <spice-devel@lists.freedesktop.org>; Tue, 21 May 2019 09:22:40 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 71C4F5B423;
 Tue, 21 May 2019 09:22:40 +0000 (UTC)
Date: Tue, 21 May 2019 05:22:39 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Victor Toso <victortoso@redhat.com>
Message-ID: <1496131889.19361305.1558430559072.JavaMail.zimbra@redhat.com>
In-Reply-To: <20190521090552.2310-3-victortoso@redhat.com>
References: <20190521090552.2310-1-victortoso@redhat.com>
 <20190521090552.2310-3-victortoso@redhat.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.19, 10.4.195.16]
Thread-Topic: FIXUP suggestion: drop the function instead
Thread-Index: af2W/YBtuLQkN2D+MUrKGrgmXpD73g==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.13
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.30]); Tue, 21 May 2019 09:22:40 +0000 (UTC)
Subject: Re: [Spice-devel] [spice-gtk v1 2/4] FIXUP suggestion: drop the
 function instead
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBGcm9tOiBWaWN0b3IgVG9zbyA8bWVAdmljdG9ydG9zby5jb20+Cj4gCj4gSW4gdGhpcyBw
YXRjaCBzZXJpZXMsIHNwaWNlX3VzYnV0aWxfbGlidXNiX3N0cmVycm9yKCkgYmVjb21lcyB1c2Vs
ZXNzCj4gaW4gZmF2b3Igb2YgbGlidXNiX2Vycm9yX25hbWUoKS4gSW5zdGVhZCBvZiBtYWtpbmcg
dGhlIGhlbHBlciBmdW5jdGlvbgo+IHRvIGNhbGwgdGhlIG5hdGl2ZSBvbmUsIGRyb3AgdGhlIHVz
YWdlIG9mIHRoZSBoZWxwZXIgZnVuY3Rpb24KPiBlbnRpcmVseS4KPiAKPiBTaWduZWQtb2ZmLWJ5
OiBWaWN0b3IgVG9zbyA8dmljdG9ydG9zb0ByZWRoYXQuY29tPgoKQXJlIHdlIHN1cmUgd2Ugd2Fu
dCBsaWJ1c2JfZXJyb3JfbmFtZSBhbmQgbm90IGxpYnVzYl9zdHJlcnJvciA/CgpJIHRoaW5rIChu
b3QgdGVzdGVkKSBsaWJ1c2JfZXJyb3JfbmFtZSBnaXZlIG1vcmUgYSAiQyIgdmVyc2lvbgpvZiB0
aGUgZXJyb3IsIG5vdCBhIHN0cmluZyB0byBzaG93IHRvIHRoZSB1c2VyLgoKPiAtLS0KPiAgc3Jj
L2NoYW5uZWwtdXNicmVkaXIuYyAgIHwgMiArLQo+ICBzcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMg
fCA4ICsrKystLS0tCj4gIHNyYy91c2J1dGlsLmMgICAgICAgICAgICB8IDYgLS0tLS0tCj4gIHNy
Yy91c2J1dGlsLmggICAgICAgICAgICB8IDEgLQo+ICBzcmMvd2luLXVzYi1kZXYuYyAgICAgICAg
fCA0ICsrLS0KPiAgNSBmaWxlcyBjaGFuZ2VkLCA3IGluc2VydGlvbnMoKyksIDE0IGRlbGV0aW9u
cygtKQo+IAo+IGRpZmYgLS1naXQgYS9zcmMvY2hhbm5lbC11c2JyZWRpci5jIGIvc3JjL2NoYW5u
ZWwtdXNicmVkaXIuYwo+IGluZGV4IDE5MTBmZjYuLjA3OWE5NzYgMTAwNjQ0Cj4gLS0tIGEvc3Jj
L2NoYW5uZWwtdXNicmVkaXIuYwo+ICsrKyBiL3NyYy9jaGFubmVsLXVzYnJlZGlyLmMKPiBAQCAt
MjkyLDcgKzI5Miw3IEBAIHN0YXRpYyBnYm9vbGVhbiBzcGljZV91c2JyZWRpcl9jaGFubmVsX29w
ZW5fZGV2aWNlKAo+ICAgICAgaWYgKHJjICE9IDApIHsKPiAgICAgICAgICBnX3NldF9lcnJvcihl
cnIsIFNQSUNFX0NMSUVOVF9FUlJPUiwgU1BJQ0VfQ0xJRU5UX0VSUk9SX0ZBSUxFRCwKPiAgICAg
ICAgICAgICAgICAgICAgICAiQ291bGQgbm90IG9wZW4gdXNiIGRldmljZTogJXMgWyVpXSIsCj4g
LSAgICAgICAgICAgICAgICAgICAgc3BpY2VfdXNidXRpbF9saWJ1c2Jfc3RyZXJyb3IocmMpLCBy
Yyk7Cj4gKyAgICAgICAgICAgICAgICAgICAgbGlidXNiX2Vycm9yX25hbWUocmMpLCByYyk7Cj4g
ICAgICAgICAgcmV0dXJuIEZBTFNFOwo+ICAgICAgfQo+ICAKPiBkaWZmIC0tZ2l0IGEvc3JjL3Vz
Yi1kZXZpY2UtbWFuYWdlci5jIGIvc3JjL3VzYi1kZXZpY2UtbWFuYWdlci5jCj4gaW5kZXggYmQ0
MjE0Mi4uYzFkZjk3NyAxMDA2NDQKPiAtLS0gYS9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMKPiAr
KysgYi9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMKPiBAQCAtMjgxLDcgKzI4MSw3IEBAIHN0YXRp
YyBnYm9vbGVhbgo+IHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9pbml0YWJsZV9pbml0KEdJbml0
YWJsZSAgKmluaXRhYmxlLAo+ICAgICAgLyogSW5pdGlhbGl6ZSBsaWJ1c2IgKi8KPiAgICAgIHJj
ID0gbGlidXNiX2luaXQoJnByaXYtPmNvbnRleHQpOwo+ICAgICAgaWYgKHJjIDwgMCkgewo+IC0g
ICAgICAgIGNvbnN0IGNoYXIgKmRlc2MgPSBzcGljZV91c2J1dGlsX2xpYnVzYl9zdHJlcnJvcihy
Yyk7Cj4gKyAgICAgICAgY29uc3QgY2hhciAqZGVzYyA9IGxpYnVzYl9lcnJvcl9uYW1lKHJjKTsK
PiAgICAgICAgICBnX3dhcm5pbmcoIkVycm9yIGluaXRpYWxpemluZyBVU0Igc3VwcG9ydDogJXMg
WyVpXSIsIGRlc2MsIHJjKTsKPiAgICAgICAgICBnX3NldF9lcnJvcihlcnIsIFNQSUNFX0NMSUVO
VF9FUlJPUiwgU1BJQ0VfQ0xJRU5UX0VSUk9SX0ZBSUxFRCwKPiAgICAgICAgICAgICAgICAgICAg
ICAiRXJyb3IgaW5pdGlhbGl6aW5nIFVTQiBzdXBwb3J0OiAlcyBbJWldIiwgZGVzYywgcmMpOwo+
IEBAIC0zMDgsNyArMzA4LDcgQEAgc3RhdGljIGdib29sZWFuCj4gc3BpY2VfdXNiX2RldmljZV9t
YW5hZ2VyX2luaXRhYmxlX2luaXQoR0luaXRhYmxlICAqaW5pdGFibGUsCj4gICAgICAgICAgTElC
VVNCX0hPVFBMVUdfTUFUQ0hfQU5ZLCBMSUJVU0JfSE9UUExVR19NQVRDSF9BTlksCj4gICAgICAg
ICAgc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2hvdHBsdWdfY2IsIHNlbGYsICZwcml2LT5ocF9o
YW5kbGUpOwo+ICAgICAgaWYgKHJjIDwgMCkgewo+IC0gICAgICAgIGNvbnN0IGNoYXIgKmRlc2Mg
PSBzcGljZV91c2J1dGlsX2xpYnVzYl9zdHJlcnJvcihyYyk7Cj4gKyAgICAgICAgY29uc3QgY2hh
ciAqZGVzYyA9IGxpYnVzYl9lcnJvcl9uYW1lKHJjKTsKPiAgICAgICAgICBnX3dhcm5pbmcoIkVy
cm9yIGluaXRpYWxpemluZyBVU0IgaG90cGx1ZyBzdXBwb3J0OiAlcyBbJWldIiwgZGVzYywKPiAg
ICAgICAgICByYyk7Cj4gICAgICAgICAgZ19zZXRfZXJyb3IoZXJyLCBTUElDRV9DTElFTlRfRVJS
T1IsIFNQSUNFX0NMSUVOVF9FUlJPUl9GQUlMRUQsCj4gICAgICAgICAgICAgICAgICAgICJFcnJv
ciBpbml0aWFsaXppbmcgVVNCIGhvdHBsdWcgc3VwcG9ydDogJXMgWyVpXSIsIGRlc2MsCj4gICAg
ICAgICAgICAgICAgICAgIHJjKTsKPiBAQCAtNzMwLDcgKzczMCw3IEBAIHN0YXRpYyBnYm9vbGVh
bgo+IHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9nZXRfZGV2aWNlX2Rlc2NyaXB0b3IoCj4gIAo+
ICAgICAgICAgIGJ1cyA9IGxpYnVzYl9nZXRfYnVzX251bWJlcihsaWJkZXYpOwo+ICAgICAgICAg
IGFkZHIgPSBsaWJ1c2JfZ2V0X2RldmljZV9hZGRyZXNzKGxpYmRldik7Cj4gLSAgICAgICAgZXJy
c3RyID0gc3BpY2VfdXNidXRpbF9saWJ1c2Jfc3RyZXJyb3IoZXJyY29kZSk7Cj4gKyAgICAgICAg
ZXJyc3RyID0gbGlidXNiX2Vycm9yX25hbWUoZXJyY29kZSk7Cj4gICAgICAgICAgZ193YXJuaW5n
KCJjYW5ub3QgZ2V0IGRldmljZSBkZXNjcmlwdG9yIGZvciAoJXApICVkLiVkIC0tICVzKCVkKSIs
Cj4gICAgICAgICAgICAgICAgICAgIGxpYmRldiwgYnVzLCBhZGRyLCBlcnJzdHIsIGVycmNvZGUp
Owo+ICAgICAgICAgIHJldHVybiBGQUxTRTsKPiBAQCAtMTA2OCw3ICsxMDY4LDcgQEAgc3RhdGlj
IGdwb2ludGVyCj4gc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX3VzYl9ldl90aHJlYWQoZ3BvaW50
ZXIgdXNlcl9kYXRhKQo+ICAgICAgd2hpbGUgKGdfYXRvbWljX2ludF9nZXQoJnByaXYtPmV2ZW50
X3RocmVhZF9ydW4pKSB7Cj4gICAgICAgICAgcmMgPSBsaWJ1c2JfaGFuZGxlX2V2ZW50cyhwcml2
LT5jb250ZXh0KTsKPiAgICAgICAgICBpZiAocmMgJiYgcmMgIT0gTElCVVNCX0VSUk9SX0lOVEVS
UlVQVEVEKSB7Cj4gLSAgICAgICAgICAgIGNvbnN0IGNoYXIgKmRlc2MgPSBzcGljZV91c2J1dGls
X2xpYnVzYl9zdHJlcnJvcihyYyk7Cj4gKyAgICAgICAgICAgIGNvbnN0IGNoYXIgKmRlc2MgPSBs
aWJ1c2JfZXJyb3JfbmFtZShyYyk7Cj4gICAgICAgICAgICAgIGdfd2FybmluZygiRXJyb3IgaGFu
ZGxpbmcgVVNCIGV2ZW50czogJXMgWyVpXSIsIGRlc2MsIHJjKTsKPiAgICAgICAgICAgICAgYnJl
YWs7Cj4gICAgICAgICAgfQo+IGRpZmYgLS1naXQgYS9zcmMvdXNidXRpbC5jIGIvc3JjL3VzYnV0
aWwuYwo+IGluZGV4IDRhYTZlZjcuLjUwNTJlZjMgMTAwNjQ0Cj4gLS0tIGEvc3JjL3VzYnV0aWwu
Ywo+ICsrKyBiL3NyYy91c2J1dGlsLmMKPiBAQCAtNTgsMTIgKzU4LDYgQEAgc3RhdGljIEdNdXRl
eCB1c2JpZHNfbG9hZF9tdXRleDsKPiAgc3RhdGljIGludCB1c2JpZHNfdmVuZG9yX2NvdW50ID0g
MDsgLyogPCAwOiBmYWlsZWQsIDA6IGVtcHR5LCA+IDA6IGxvYWRlZCAqLwo+ICBzdGF0aWMgdXNi
X3ZlbmRvcl9pbmZvICp1c2JpZHNfdmVuZG9yX2luZm8gPSBOVUxMOwo+ICAKPiAtR19HTlVDX0lO
VEVSTkFMCj4gLWNvbnN0IGNoYXIgKnNwaWNlX3VzYnV0aWxfbGlidXNiX3N0cmVycm9yKGVudW0g
bGlidXNiX2Vycm9yIGVycm9yX2NvZGUpCj4gLXsKPiAtICAgIHJldHVybiBsaWJ1c2JfZXJyb3Jf
bmFtZShlcnJvcl9jb2RlKTsKPiAtfQo+IC0KPiAgI2lmZGVmIF9fbGludXhfXwo+ICAvKiA8U2ln
aD4gbGlidXNiIGRvZXMgbm90IGFsbG93IGdldHRpbmcgdGhlIG1hbnVmYWN0dXJlciBhbmQgcHJv
ZHVjdCBzdHJpbmdzCj4gICAgIHdpdGhvdXQgb3BlbmluZyB0aGUgZGV2aWNlLCBzbyBncmFiIHRo
ZW0gZGlyZWN0bHkgZnJvbSBzeXNmcyAqLwo+IGRpZmYgLS1naXQgYS9zcmMvdXNidXRpbC5oIGIv
c3JjL3VzYnV0aWwuaAo+IGluZGV4IGRlNWU5MmEuLjUwZTM5NDkgMTAwNjQ0Cj4gLS0tIGEvc3Jj
L3VzYnV0aWwuaAo+ICsrKyBiL3NyYy91c2J1dGlsLmgKPiBAQCAtMjgsNyArMjgsNiBAQAo+ICAK
PiAgR19CRUdJTl9ERUNMUwo+ICAKPiAtY29uc3QgY2hhciAqc3BpY2VfdXNidXRpbF9saWJ1c2Jf
c3RyZXJyb3IoZW51bSBsaWJ1c2JfZXJyb3IgZXJyb3JfY29kZSk7Cj4gIHZvaWQgc3BpY2VfdXNi
X3V0aWxfZ2V0X2RldmljZV9zdHJpbmdzKGludCBidXMsIGludCBhZGRyZXNzLAo+ICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnQgdmVuZG9yX2lkLCBpbnQgcHJvZHVj
dF9pZCwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NoYXIgKipt
YW51ZmFjdHVyZXIsIGdjaGFyCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICoqcHJvZHVjdCk7Cj4gZGlmZiAtLWdpdCBhL3NyYy93aW4tdXNiLWRldi5jIGIvc3JjL3dp
bi11c2ItZGV2LmMKPiBpbmRleCBhNGRmYTc4Li5jZTU5OWI5IDEwMDY0NAo+IC0tLSBhL3NyYy93
aW4tdXNiLWRldi5jCj4gKysrIGIvc3JjL3dpbi11c2ItZGV2LmMKPiBAQCAtMTEzLDcgKzExMyw3
IEBAIGdfdWRldl9jbGllbnRfbGlzdF9kZXZpY2VzKEdVZGV2Q2xpZW50ICpzZWxmLCBHTGlzdAo+
ICoqZGV2cywKPiAgCj4gICAgICByYyA9IGxpYnVzYl9nZXRfZGV2aWNlX2xpc3QocHJpdi0+Y3R4
LCAmbHVzYl9saXN0KTsKPiAgICAgIGlmIChyYyA8IDApIHsKPiAtICAgICAgICBjb25zdCBjaGFy
ICplcnJzdHIgPSBzcGljZV91c2J1dGlsX2xpYnVzYl9zdHJlcnJvcihyYyk7Cj4gKyAgICAgICAg
Y29uc3QgY2hhciAqZXJyc3RyID0gbGlidXNiX2Vycm9yX25hbWUocmMpOwo+ICAgICAgICAgIGdf
d2FybmluZygiJXM6IGxpYnVzYl9nZXRfZGV2aWNlX2xpc3QgZmFpbGVkIC0gJXMiLCBuYW1lLCBl
cnJzdHIpOwo+ICAgICAgICAgIGdfc2V0X2Vycm9yKGVyciwgR19VREVWX0NMSUVOVF9FUlJPUiwg
R19VREVWX0NMSUVOVF9MSUJVU0JfRkFJTEVELAo+ICAgICAgICAgICAgICAgICAgICAgICIlczog
RXJyb3IgZ2V0dGluZyBkZXZpY2UgbGlzdCBmcm9tIGxpYnVzYjogJXMKPiAgICAgICAgICAgICAg
ICAgICAgICBbJSJHX0dTU0laRV9GT1JNQVQiXSIsCj4gQEAgLTE3MCw3ICsxNzAsNyBAQCBnX3Vk
ZXZfY2xpZW50X2luaXRhYmxlX2luaXQoR0luaXRhYmxlICppbml0YWJsZSwKPiBHQ2FuY2VsbGFi
bGUgKmNhbmNlbGxhYmxlLAo+ICAKPiAgICAgIHJjID0gbGlidXNiX2luaXQoJnByaXYtPmN0eCk7
Cj4gICAgICBpZiAocmMgPCAwKSB7Cj4gLSAgICAgICAgY29uc3QgY2hhciAqZXJyc3RyID0gc3Bp
Y2VfdXNidXRpbF9saWJ1c2Jfc3RyZXJyb3IocmMpOwo+ICsgICAgICAgIGNvbnN0IGNoYXIgKmVy
cnN0ciA9IGxpYnVzYl9lcnJvcl9uYW1lKHJjKTsKPiAgICAgICAgICBnX3dhcm5pbmcoIkVycm9y
IGluaXRpYWxpemluZyBVU0Igc3VwcG9ydDogJXMgWyVpXSIsIGVycnN0ciwgcmMpOwo+ICAgICAg
ICAgIGdfc2V0X2Vycm9yKGVyciwgR19VREVWX0NMSUVOVF9FUlJPUiwgR19VREVWX0NMSUVOVF9M
SUJVU0JfRkFJTEVELAo+ICAgICAgICAgICAgICAgICAgICAgICJFcnJvciBpbml0aWFsaXppbmcg
VVNCIHN1cHBvcnQ6ICVzIFslaV0iLCBlcnJzdHIsIHJjKTsKCkZyZWRpYW5vCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcg
bGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
