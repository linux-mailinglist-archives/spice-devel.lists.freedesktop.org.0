Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4FACF7535D
	for <lists+spice-devel@lfdr.de>; Thu, 25 Jul 2019 17:59:56 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D2F6889728;
	Thu, 25 Jul 2019 15:59:54 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-io1-xd36.google.com (mail-io1-xd36.google.com
 [IPv6:2607:f8b0:4864:20::d36])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2783E89728
 for <spice-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 15:59:54 +0000 (UTC)
Received: by mail-io1-xd36.google.com with SMTP id j6so23167890ioa.5
 for <spice-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 08:59:54 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=jR8FygeOrOSsQzMdwpIe3hWjiXONUpYHrcVDa/aXPA8=;
 b=LzzRadXxW3jVO/UAUlUJ4chBHub3meKvC4wkroRsHrFv2iQuVMd9H2SckZB8a9Mbva
 JjEfpUDMsKrAXXXYQsBPfpmJtZVSY8y+BO/TQjg5KhuiJu9Z34MfuC0+6ko4YbNDu6mo
 bmgoc+AI444Uy8tUP7IZtgowIGXgZKfv5utSx6c5zexyXaL6t+vU165+tsAiUw/lCoY2
 RyFWq1PuR/dLevfyS5zHxzz5jxPRR/CfqZbGO5ec2n1VHaYK4IJNuirrWKlB4wR2bzph
 P/kYprCa2CjHFFIpWvfdAqEb1QCL93QoqSJcve7/THmPP6ce66PCOPMTyIUoaaSCD79e
 rwqQ==
X-Gm-Message-State: APjAAAVUReZqmMDKADlXzzU399tq8MsjM7UPrRonGmdox55duVOn0N3b
 mc25R+yl5yYxFdTV9h2NwnLeilh2GE31EmjcPf0=
X-Google-Smtp-Source: APXvYqyuaeYOZipeUEzSuWfmoX3Xt+8xJMsXHOBufmHBHjF6S50zd/R1rY2kRqj2yfFVXBPvhAlAhHqEeT0T/btRRw4=
X-Received: by 2002:a5d:96cc:: with SMTP id r12mr65536101iol.99.1564070393390; 
 Thu, 25 Jul 2019 08:59:53 -0700 (PDT)
MIME-Version: 1.0
References: <20190724105351.13753-1-yuri.benditovich@daynix.com>
 <20190724105351.13753-4-yuri.benditovich@daynix.com>
 <20190725103313.e2fsqkbyfzeeklfr@wingsuit>
In-Reply-To: <20190725103313.e2fsqkbyfzeeklfr@wingsuit>
From: Yuri Benditovich <yuri.benditovich@daynix.com>
Date: Thu, 25 Jul 2019 18:59:39 +0300
Message-ID: <CAOEp5Od1NTSkHnYmVfibu01VzQ9uK9=tnODJocY3RnASPXkNtA@mail.gmail.com>
To: Victor Toso <victortoso@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=jR8FygeOrOSsQzMdwpIe3hWjiXONUpYHrcVDa/aXPA8=;
 b=rm2NFfiYi0h/DXLFe74cz/giUdQM/RxPpu79vqrC5yjRV6h4+OExoXDh8CQjDZ7SF+
 0dVHWq6E1ZyAWJ70TzqtOez9DMRHt+aRz8iKbWLYwx9rnwi2qZGn8CNlE3MMh2XklXbd
 snb0DS/iT9xHcn+nUCTzRkiY2eYGEv+MCa1bv1aa78MB/xw8I+Oy2FjrCsm6czKZlK8Y
 vjeiFSqo/XJRjLvO2imUeHggAcnHzcktx1Pyi6uykAJRdehPkGxJ32U0ZUQ2T5OvhHx2
 r9BQDQpZ83Kbkfjii/pVNSiBUiN3h6BFfGvoGy2D+vlIHphcE+81f/1TO2ok1eVOqt1q
 DETg==
Subject: Re: [Spice-devel] [spice-gtk 3/9] usb-redir: Prepare for creation
 of emulated CD drive
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Yan Vugenfirer <yan@daynix.com>,
 Spice List <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBKdWwgMjUsIDIwMTkgYXQgMTozMyBQTSBWaWN0b3IgVG9zbyA8dmljdG9ydG9zb0By
ZWRoYXQuY29tPiB3cm90ZToKPgo+IE9uIFdlZCwgSnVsIDI0LCAyMDE5IGF0IDAxOjUzOjQ1UE0g
KzAzMDAsIFl1cmkgQmVuZGl0b3ZpY2ggd3JvdGU6Cj4gPiBBZGRlZCBjb21tYW5kLWxpbmUgb3B0
aW9uIGZvciBzaGFyZWQgQ0QgZGV2aWNlcyBhbmQgcmVzcGVjdGl2ZQo+ID4gcHJvcGVydHkgaW4g
dXNiLWRldmljZS1tYW5hZ2VyLgo+ID4KPiA+IFNpZ25lZC1vZmYtYnk6IFl1cmkgQmVuZGl0b3Zp
Y2ggPHl1cmkuYmVuZGl0b3ZpY2hAZGF5bml4LmNvbT4KPiA+IC0tLQo+ID4gIHNyYy9zcGljZS1v
cHRpb24uYyAgICAgICB8IDE1ICsrKysrKysrKysrKysrKwo+ID4gIHNyYy91c2ItZGV2aWNlLW1h
bmFnZXIuYyB8IDMzICsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwo+ID4gIDIgZmls
ZXMgY2hhbmdlZCwgNDggaW5zZXJ0aW9ucygrKQo+ID4KPiA+IGRpZmYgLS1naXQgYS9zcmMvc3Bp
Y2Utb3B0aW9uLmMgYi9zcmMvc3BpY2Utb3B0aW9uLmMKPiA+IGluZGV4IGMyYjA1OWUuLjRmYmNh
OWYgMTAwNjQ0Cj4gPiAtLS0gYS9zcmMvc3BpY2Utb3B0aW9uLmMKPiA+ICsrKyBiL3NyYy9zcGlj
ZS1vcHRpb24uYwo+ID4gQEAgLTMyLDYgKzMyLDcgQEAgc3RhdGljIGNoYXIgKnNtYXJ0Y2FyZF9k
YiA9IE5VTEw7Cj4gPiAgc3RhdGljIGNoYXIgKnNtYXJ0Y2FyZF9jZXJ0aWZpY2F0ZXMgPSBOVUxM
Owo+ID4gIHN0YXRpYyBjaGFyICp1c2JyZWRpcl9hdXRvX3JlZGlyZWN0X2ZpbHRlciA9IE5VTEw7
Cj4gPiAgc3RhdGljIGNoYXIgKnVzYnJlZGlyX3JlZGlyZWN0X29uX2Nvbm5lY3QgPSBOVUxMOwo+
ID4gK3N0YXRpYyBnY2hhciAqKmNkX3NoYXJlX2ZpbGVzID0gTlVMTDsKPiA+ICBzdGF0aWMgZ2Jv
b2xlYW4gc21hcnRjYXJkID0gRkFMU0U7Cj4gPiAgc3RhdGljIGdib29sZWFuIGRpc2FibGVfYXVk
aW8gPSBGQUxTRTsKPiA+ICBzdGF0aWMgZ2Jvb2xlYW4gZGlzYWJsZV91c2JyZWRpciA9IEZBTFNF
Owo+ID4gQEAgLTE4Myw2ICsxODQsOCBAQCBHT3B0aW9uR3JvdXAqIHNwaWNlX2dldF9vcHRpb25f
Z3JvdXAodm9pZCkKPiA+ICAgICAgICAgICAgTl8oIkZpbHRlciBzZWxlY3RpbmcgVVNCIGRldmlj
ZXMgdG8gYmUgYXV0by1yZWRpcmVjdGVkIHdoZW4gcGx1Z2dlZCBpbiIpLCBOXygiPGZpbHRlci1z
dHJpbmc+IikgfSwKPiA+ICAgICAgICAgIHsgInNwaWNlLXVzYnJlZGlyLXJlZGlyZWN0LW9uLWNv
bm5lY3QiLCAnXDAnLCAwLCBHX09QVElPTl9BUkdfU1RSSU5HLCAmdXNicmVkaXJfcmVkaXJlY3Rf
b25fY29ubmVjdCwKPiA+ICAgICAgICAgICAgTl8oIkZpbHRlciBzZWxlY3RpbmcgVVNCIGRldmlj
ZXMgdG8gcmVkaXJlY3Qgb24gY29ubmVjdCIpLCBOXygiPGZpbHRlci1zdHJpbmc+IikgfSwKPiA+
ICsgICAgICAgIHsgInNwaWNlLXNoYXJlLWNkIiwgJ1wwJywgMCwgR19PUFRJT05fQVJHX1NUUklO
R19BUlJBWSwgJmNkX3NoYXJlX2ZpbGVzLAo+ID4gKyAgICAgICAgICBOXygiTmFtZSBvZiBJU08g
ZmlsZSBvciBDRC9EVkQgZGV2aWNlIHRvIHNoYXJlIiksIE5fKCI8ZmlsZW5hbWU+IChyZXBlYXQg
YWxsb3dlZCkiKSB9LAo+ID4gICAgICAgICAgeyAic3BpY2UtY2FjaGUtc2l6ZSIsICdcMCcsIDAs
IEdfT1BUSU9OX0FSR19JTlQsICZjYWNoZV9zaXplLAo+ID4gICAgICAgICAgICBOXygiSW1hZ2Ug
Y2FjaGUgc2l6ZSAoZGVwcmVjYXRlZCkiKSwgTl8oIjxieXRlcz4iKSB9LAo+ID4gICAgICAgICAg
eyAic3BpY2UtZ2x6LXdpbmRvdy1zaXplIiwgJ1wwJywgMCwgR19PUFRJT05fQVJHX0lOVCwgJmds
el93aW5kb3dfc2l6ZSwKPiA+IEBAIC0yNzIsNiArMjc1LDE4IEBAIHZvaWQgc3BpY2Vfc2V0X3Nl
c3Npb25fb3B0aW9uKFNwaWNlU2Vzc2lvbiAqc2Vzc2lvbikKPiA+ICAgICAgICAgICAgICBnX29i
amVjdF9zZXQobSwgInJlZGlyZWN0LW9uLWNvbm5lY3QiLAo+ID4gICAgICAgICAgICAgICAgICAg
ICAgICAgICB1c2JyZWRpcl9yZWRpcmVjdF9vbl9jb25uZWN0LCBOVUxMKTsKPiA+ICAgICAgfQo+
ID4gKyAgICBpZiAoY2Rfc2hhcmVfZmlsZXMpIHsKPiA+ICsgICAgICAgIFNwaWNlVXNiRGV2aWNl
TWFuYWdlciAqbSA9IHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9nZXQoc2Vzc2lvbiwgTlVMTCk7
Cj4KPiBQbGVhc2UgY2hlY2sgZm9yIGVycm9ycyBhcyB3ZWxsLCBJIHBhdGNoZWQgdGhlIG90aGVy
IHR3byBjYWxscwo+IGZvciB0aGlzCgpJIGRvIG5vdCBleGFjdGx5IHVuZGVyc3RhbmQgdGhlIGNv
bW1lbnQuIENhbiB5b3UgZXhwbGFpbj8KCj4KPiA+ICsgICAgICAgIGlmIChtKSB7Cj4gPiArICAg
ICAgICAgICAgZ2NoYXIgKipuYW1lID0gY2Rfc2hhcmVfZmlsZXM7Cj4gPiArICAgICAgICAgICAg
d2hpbGUgKG5hbWUgJiYgKm5hbWUpIHsKPiA+ICsgICAgICAgICAgICAgICAgZ19vYmplY3Rfc2V0
KG0sICJzaGFyZS1jZCIsICpuYW1lLCBOVUxMKTsKPiA+ICsgICAgICAgICAgICAgICAgbmFtZSsr
Owo+ID4gKyAgICAgICAgICAgIH0KPiA+ICsgICAgICAgIH0KPiA+ICsgICAgICAgIGdfc3RyZnJl
ZXYoY2Rfc2hhcmVfZmlsZXMpOwo+ID4gKyAgICAgICAgY2Rfc2hhcmVfZmlsZXMgPSBOVUxMOwo+
ID4gKyAgICB9Cj4gPiAgICAgIGlmIChkaXNhYmxlX3VzYnJlZGlyKQo+ID4gICAgICAgICAgZ19v
YmplY3Rfc2V0KHNlc3Npb24sICJlbmFibGUtdXNicmVkaXIiLCBGQUxTRSwgTlVMTCk7Cj4gPiAg
ICAgIGlmIChkaXNhYmxlX2F1ZGlvKQo+ID4gZGlmZiAtLWdpdCBhL3NyYy91c2ItZGV2aWNlLW1h
bmFnZXIuYyBiL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYwo+ID4gaW5kZXggMDk2MWQxNi4uYjEx
YmIxNSAxMDA2NDQKPiA+IC0tLSBhL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYwo+ID4gKysrIGIv
c3JjL3VzYi1kZXZpY2UtbWFuYWdlci5jCj4gPiBAQCAtNzUsNiArNzUsNyBAQCBlbnVtIHsKPiA+
ICAgICAgUFJPUF9BVVRPX0NPTk5FQ1RfRklMVEVSLAo+ID4gICAgICBQUk9QX1JFRElSRUNUX09O
X0NPTk5FQ1QsCj4gPiAgICAgIFBST1BfRlJFRV9DSEFOTkVMUywKPiA+ICsgICAgUFJPUF9TSEFS
RV9DRAo+ID4gIH07Cj4gPgo+ID4gIGVudW0KPiA+IEBAIC00MzMsNiArNDM0LDI2IEBAIHN0YXRp
YyB2b2lkIHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9zZXRfcHJvcGVydHkoR09iamVjdCAgICAg
ICAqZ29iamVjdCwKPiA+ICAgICAgICAgIHByaXYtPnJlZGlyZWN0X29uX2Nvbm5lY3QgPSBnX3N0
cmR1cChmaWx0ZXIpOwo+ID4gICAgICAgICAgYnJlYWs7Cj4gPiAgICAgIH0KPiA+ICsgICAgY2Fz
ZSBQUk9QX1NIQVJFX0NEOgo+ID4gKyAgICB7Cj4gPiArI2lmZGVmIFVTRV9VU0JSRURJUgo+ID4g
KyAgICAgICAgVXNiQ3JlYXRlRGV2aWNlUGFyYW1ldGVycyBwYXJhbSA9IHsgMCB9Owo+ID4gKyAg
ICAgICAgY29uc3QgZ2NoYXIgKm5hbWUgPSBnX3ZhbHVlX2dldF9zdHJpbmcodmFsdWUpOwo+ID4g
KyAgICAgICAgLyogdGhlIHN0cmluZyBpcyB0ZW1wb3JhcnksIG5vIG5lZWQgdG8ga2VlcCBpdCAq
Lwo+ID4gKyAgICAgICAgU1BJQ0VfREVCVUcoInNoYXJlX2NkIHNldCB0byAlcyIsIG5hbWUpOwo+
ID4gKyAgICAgICAgaWYgKG5hbWVbMF0gPT0gJyEnKSB7Cj4gPiArICAgICAgICAgICAgbmFtZSsr
Owo+ID4gKyAgICAgICAgICAgIHBhcmFtLmRldmljZV9wYXJhbS5jcmVhdGVfY2QuZGVsZXRlX29u
X2VqZWN0ID0gMTsKPiA+ICsgICAgICAgIH0KPiA+ICsgICAgICAgIHBhcmFtLmRldmljZV9wYXJh
bS5jcmVhdGVfY2QuZmlsZW5hbWUgPSBuYW1lOwo+ID4gKyAgICAgICAgaWYgKCFzcGljZV91c2Jf
YmFja2VuZF9jcmVhdGVfZGV2aWNlKHByaXYtPmNvbnRleHQsIFVTQl9ERVZfVFlQRV9DRCwgJnBh
cmFtKSkgewo+ID4gKyAgICAgICAgICAgIGdfd2FybmluZyhwYXJhbS5lcnJvci0+bWVzc2FnZSk7
Cj4gPiArICAgICAgICAgICAgc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2RldmljZV9lcnJvcihz
ZWxmLCBOVUxMLCBwYXJhbS5lcnJvcik7Cj4gPiArICAgICAgICAgICAgZ19lcnJvcl9mcmVlKHBh
cmFtLmVycm9yKTsKPiA+ICsgICAgICAgIH0KPiA+ICsjZW5kaWYKPiA+ICsgICAgICAgIGJyZWFr
Owo+ID4gKyAgICB9Cj4gPiAgICAgIGRlZmF1bHQ6Cj4gPiAgICAgICAgICBHX09CSkVDVF9XQVJO
X0lOVkFMSURfUFJPUEVSVFlfSUQoZ29iamVjdCwgcHJvcF9pZCwgcHNwZWMpOwo+ID4gICAgICAg
ICAgYnJlYWs7Cj4gPiBAQCAtNTIzLDYgKzU0NCwxOCBAQCBzdGF0aWMgdm9pZCBzcGljZV91c2Jf
ZGV2aWNlX21hbmFnZXJfY2xhc3NfaW5pdChTcGljZVVzYkRldmljZU1hbmFnZXJDbGFzcyAqa2xh
cwo+ID4gICAgICBnX29iamVjdF9jbGFzc19pbnN0YWxsX3Byb3BlcnR5KGdvYmplY3RfY2xhc3Ms
IFBST1BfUkVESVJFQ1RfT05fQ09OTkVDVCwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBwc3BlYyk7Cj4gPgo+ID4gKyAgICAvKioKPiA+ICsgICAgKiBTcGljZVVzYkRl
dmljZU1hbmFnZXI6c2hhcmUtY2Q6Cj4gPiArICAgICoKPiA+ICsgICAgKiBTZXQgYSBzdHJpbmcg
c3BlY2lmeWluZyBhIGZpbGVuYW1lIChJU08pIG9yIHBoeXNpY2FsIENEL0RWRCBkZXZpY2UKPiA+
ICsgICAgKiB0byBzaGFyZSB2aWEgVVNCIGFmdGVyIGEgU3BpY2UgY29ubmVjdGlvbiBoYXMgYmVl
biBlc3RhYmxpc2hlZC4KPiA+ICsgICAgKgo+ID4gKyAgICAqLwo+ID4gKyAgICBwc3BlYyA9IGdf
cGFyYW1fc3BlY19zdHJpbmcoInNoYXJlLWNkIiwgIlNoYXJlIElTTyBmaWxlIG9yIGRldmljZSBh
cyBDRCIsCj4gPiArICAgICAgICAiRmlsZSBvciBkZXZpY2UgbmFtZSB0byBzaGFyZSIsIE5VTEws
Cj4gPiArICAgICAgICBHX1BBUkFNX1JFQURXUklURSB8IEdfUEFSQU1fU1RBVElDX1NUUklOR1Mp
Owo+ID4gKyAgICBnX29iamVjdF9jbGFzc19pbnN0YWxsX3Byb3BlcnR5KGdvYmplY3RfY2xhc3Ms
IFBST1BfU0hBUkVfQ0QsIHBzcGVjKTsKPiA+ICsKPiA+ICAgICAgLyoqCj4gPiAgICAgICAqIFNw
aWNlVXNiRGV2aWNlTWFuYWdlcjpmcmVlLWNoYW5uZWxzOgo+ID4gICAgICAgKgo+ID4gLS0KPiA+
IDIuMTcuMQo+ID4KPiA+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fCj4gPiBTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKPiA+IFNwaWNlLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwo+ID4gaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9zcGljZS1kZXZlbApfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMu
ZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlz
dGluZm8vc3BpY2UtZGV2ZWw=
