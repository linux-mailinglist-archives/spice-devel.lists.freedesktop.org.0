Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5BCEF2B96E
	for <lists+spice-devel@lfdr.de>; Mon, 27 May 2019 19:29:43 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 2769C89762;
	Mon, 27 May 2019 17:29:41 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-wr1-x443.google.com (mail-wr1-x443.google.com
 [IPv6:2a00:1450:4864:20::443])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A96FB89762
 for <spice-devel@lists.freedesktop.org>; Mon, 27 May 2019 17:29:39 +0000 (UTC)
Received: by mail-wr1-x443.google.com with SMTP id c2so2329662wrm.8
 for <spice-devel@lists.freedesktop.org>; Mon, 27 May 2019 10:29:39 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=Hk8u+wJmzopg9gURli9zX/4lD08Na5xZlPtg67EApB0=;
 b=qYs9Nq4lxzkV3+t6WTcUTBj7qGLHKIBRn2u9SP88XG29/Rt4sjybW9BaRKZ7wV0SSq
 CTCAXrdA+aC8hxGVKj/6GnNt/GkzzNwKmF3CgNcEsBEOpMJHvNbeu0eO/VIKQ7E7YfYg
 fBElHQsxKkfmzAZDZoyJuxeQv7a1YqykZFK7vlPET3xgkANcG8XKpxbBDFhM+UumMEGF
 Mb6AgZ4UPDxydihV5JjAhqSiiBfi5fOBVdu0P5l7tO91cgrXXPMUWYe6eVHShVfqWY2W
 H9TabBV0bVa+8fZ1ZeeOAckbHkdO/1OaL0PtO82PQYDzjLoxCQuBwKFKalTIHTt7Z/y8
 tK1g==
X-Gm-Message-State: APjAAAUXlkw0B5F4faNkC76ezlajiodoiZ6jTaQbFiRX3UdvPtFnzDQD
 W/DcUhTWq6362tKPUE6TmIo6tU9ldKlF19TIUeE=
X-Google-Smtp-Source: APXvYqwf+mur6p6LwRdFldEtOL8MDDUuhdelqlBHXZuzLfivLHSFXPdeekIDWn7S9OQIjqLOTu1j0e/4ofqt1tN63Fk=
X-Received: by 2002:a5d:5702:: with SMTP id a2mr5384993wrv.89.1558978178277;
 Mon, 27 May 2019 10:29:38 -0700 (PDT)
MIME-Version: 1.0
References: <8f0d6136-c5a4-b541-46bf-6c2280eb302d@redhat.com>
 <20190527080409.3430-1-ssheribe@redhat.com>
In-Reply-To: <20190527080409.3430-1-ssheribe@redhat.com>
From: =?UTF-8?B?TWFyYy1BbmRyw6kgTHVyZWF1?= <marcandre.lureau@gmail.com>
Date: Mon, 27 May 2019 19:29:26 +0200
Message-ID: <CAJ+F1CKvO3T+VjG7D3=0EQ827zhBRBY4R+fK+gGQQb98BwiR2Q@mail.gmail.com>
To: Snir Sheriber <ssheribe@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=Hk8u+wJmzopg9gURli9zX/4lD08Na5xZlPtg67EApB0=;
 b=NiZSbiQRGrDCGb9ZUHDy+OPLGUo73p2i/iUkOQJcVuXg3ouEPXhv65lWgndeLCx4q6
 Q7PJ/VriOitQjTJPIJpnF6BrVTKE3JXNiFjDB+dKgARSpR5KEZlHoUfrlzfr6mm2KWf3
 uQCZWiSMloacsM0+u0Zw+dJ105IkBXKEIYTxl+bVQhsF4qK/oS3VcHr0r1PaiOSqQisM
 cLMkCXWUNk/QNJt7UE1R5m78tU1nzqQxTvPs9dOwVjgdvxq4R+rOyJjzgtjZddbkB3+C
 JGk5CHceOjjhOo+Z8PHdiLWEQY4A76MzEXwx7L+zo/Sqx6INI+fCweSxNcBMCVXvNAQU
 SJHg==
Subject: Re: [Spice-devel] [PATCH v3 spice-gtk] Adjust to window scaling
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SGkKCk9uIE1vbiwgTWF5IDI3LCAyMDE5IGF0IDEwOjA0IEFNIFNuaXIgU2hlcmliZXIgPHNzaGVy
aWJlQHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gV2hlbiBHREtfU0NBTEUgaXMgIT0gMSBhbmQgZWds
IGlzIHVzZWQsIHRoZSBpbWFnZSBwcmVzZW50ZWQgZG9lcyBub3QKPiBmaXQgdG8gdGhlIHdpbmRv
dyAoc2NhbGUgb2YgMiBpcyBvZnRlbiB1c2VkIHdpdGggaGlkcGkgbW9uaXRvcnMpLgo+IFVzdWFs
bHkgdGhpcyBpcyBub3QgYSBwcm9ibGVtIHNpbmNlIGFsbCBjb21wb25lbnRzIGFyZSBhZGp1c3Rl
ZCBieQo+IGdkay9ndGsgYnV0IHdpdGggZWdsLCBwaXhlbC1iYXNlZCBkYXRhIGlzIG5vdCBiZWlu
ZyBzY2FsZWQuIEluIHRoaXMKPiBjYXNlIHdpbmRvdydzIHNjYWxlIHZhbHVlIGNhbiBiZSB1c2Vk
IGluIG9yZGVyIHRvIGRldGVybWluZSB3aGV0aGVyCj4gdG8gdXNlIGEgcGl4ZWwgcmVzb3VyY2Ug
d2l0aCBoaWdoZXIgcmVzb2x1dGlvbiBkYXRhLgo+Cj4gSW4gb3JkZXIgdG8gcmVwcm9kdWNlIHRo
ZSBwcm9ibGVtIHNldCBzcGljZSB3aXRoIHZpcmdsL0ludGVsLXZHUFUKPiBhbmQgcnVuIHNwaWNl
LWd0ayB3aXRoIEdES19TQ0FMRT0yCj4KPiBUaGlzIGlzc3VlIHdhcyBhbHNvIHJlcG9ydGVkIGF0
IGZyZWVkZXNrdG9wIGdpdGxhYiByZXBvOgo+IGh0dHBzOi8vZ2l0bGFiLmZyZWVkZXNrdG9wLm9y
Zy9zcGljZS9zcGljZS1ndGsvaXNzdWVzLzk5Cj4gLS0tCj4gIHNyYy9zcGljZS13aWRnZXQtZWds
LmMgfCAgOCArKysrLS0tLQo+ICBzcmMvc3BpY2Utd2lkZ2V0LmMgICAgIHwgMzEgKysrKysrKysr
KysrKysrKysrKysrKystLS0tLS0tLQo+ICAyIGZpbGVzIGNoYW5nZWQsIDI3IGluc2VydGlvbnMo
KyksIDEyIGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL3NyYy9zcGljZS13aWRnZXQtZWds
LmMgYi9zcmMvc3BpY2Utd2lkZ2V0LWVnbC5jCj4gaW5kZXggNDNmY2NkNy4uZjY4OGZkMiAxMDA2
NDQKPiAtLS0gYS9zcmMvc3BpY2Utd2lkZ2V0LWVnbC5jCj4gKysrIGIvc3JjL3NwaWNlLXdpZGdl
dC1lZ2wuYwo+IEBAIC0zNjAsOSArMzYwLDkgQEAgZ2Jvb2xlYW4gc3BpY2VfZWdsX3JlYWxpemVf
ZGlzcGxheShTcGljZURpc3BsYXkgKmRpc3BsYXksIEdka1dpbmRvdyAqd2luLCBHRXJyb3IKPiAg
ICAgIERJU1BMQVlfREVCVUcoZGlzcGxheSwgImVnbCByZWFsaXplIik7Cj4gICAgICBpZiAoIXNw
aWNlX3dpZGdldF9pbml0X2VnbF93aW4oZGlzcGxheSwgd2luLCBlcnIpKQo+ICAgICAgICAgIHJl
dHVybiBGQUxTRTsKPiAtCj4gLSAgICBzcGljZV9lZ2xfcmVzaXplX2Rpc3BsYXkoZGlzcGxheSwg
Z2RrX3dpbmRvd19nZXRfd2lkdGgod2luKSwKPiAtICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBnZGtfd2luZG93X2dldF9oZWlnaHQod2luKSk7Cj4gKyAgICBnaW50IGdka19zY2FsZSA9IGdk
a193aW5kb3dfZ2V0X3NjYWxlX2ZhY3Rvcih3aW4pOwoKSGVyZSB0b28sIEkgc3VwcG9zZSBndGtf
d2lkZ2V0X2dldF9zY2FsZV9mYWN0b3IoKSB3b3VsZCBiZSBiZXR0ZXIuCgo+ICsgICAgc3BpY2Vf
ZWdsX3Jlc2l6ZV9kaXNwbGF5KGRpc3BsYXksIGdka193aW5kb3dfZ2V0X3dpZHRoKHdpbikgKiBn
ZGtfc2NhbGUsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2RrX3dpbmRvd19nZXRf
aGVpZ2h0KHdpbikgKiBnZGtfc2NhbGUpOwo+Cj4gICAgICByZXR1cm4gVFJVRTsKPiAgfQo+IEBA
IC00MjcsNyArNDI3LDcgQEAgdm9pZCBzcGljZV9lZ2xfdW5yZWFsaXplX2Rpc3BsYXkoU3BpY2VE
aXNwbGF5ICpkaXNwbGF5KQo+ICB9Cj4KPiAgR19HTlVDX0lOVEVSTkFMCj4gLXZvaWQgc3BpY2Vf
ZWdsX3Jlc2l6ZV9kaXNwbGF5KFNwaWNlRGlzcGxheSAqZGlzcGxheSwgaW50IHcsIGludCBoKQo+
ICt2b2lkIHNwaWNlX2VnbF9yZXNpemVfZGlzcGxheShTcGljZURpc3BsYXkgKmRpc3BsYXksIGlu
dCB3LCBpbnQgaCkgLy8gdyBhbmQgaCBzaG91bGQgYmUgYWRqdXN0ZWQgdG8gZ2RrIHNjYWxpbmcK
PiAgewo+ICAgICAgU3BpY2VEaXNwbGF5UHJpdmF0ZSAqZCA9IGRpc3BsYXktPnByaXY7Cj4gICAg
ICBpbnQgcHJvZzsKPiBkaWZmIC0tZ2l0IGEvc3JjL3NwaWNlLXdpZGdldC5jIGIvc3JjL3NwaWNl
LXdpZGdldC5jCj4gaW5kZXggMWYyYTE1NC4uYzQ3NWMzOSAxMDA2NDQKPiAtLS0gYS9zcmMvc3Bp
Y2Utd2lkZ2V0LmMKPiArKysgYi9zcmMvc3BpY2Utd2lkZ2V0LmMKPiBAQCAtMTM4Miw3ICsxMzgy
LDggQEAgc3RhdGljIHZvaWQgc2V0X2VnbF9lbmFibGVkKFNwaWNlRGlzcGxheSAqZGlzcGxheSwg
Ym9vbCBlbmFibGVkKQo+ICAgICAgfQo+Cj4gICAgICBpZiAoZW5hYmxlZCAmJiBkLT5lZ2wuY29u
dGV4dF9yZWFkeSkgewo+IC0gICAgICAgIHNwaWNlX2VnbF9yZXNpemVfZGlzcGxheShkaXNwbGF5
LCBkLT53dywgZC0+d2gpOwo+ICsgICAgICAgIGdpbnQgZ2RrX3NjYWxlID0gZ3RrX3dpZGdldF9n
ZXRfc2NhbGVfZmFjdG9yKEdUS19XSURHRVQoZGlzcGxheSkpOwo+ICsgICAgICAgIHNwaWNlX2Vn
bF9yZXNpemVfZGlzcGxheShkaXNwbGF5LCBkLT53dyAqIGdka19zY2FsZSwgZC0+d2ggKiBnZGtf
c2NhbGUpOwo+ICAgICAgfQo+Cj4gICAgICBkLT5lZ2wuZW5hYmxlZCA9IGVuYWJsZWQ7Cj4gQEAg
LTE5NzgsMTEgKzE5NzksMTYgQEAgc3RhdGljIHZvaWQgdHJhbnNmb3JtX2lucHV0KFNwaWNlRGlz
cGxheSAqZGlzcGxheSwKPiAgICAgIFNwaWNlRGlzcGxheVByaXZhdGUgKmQgPSBkaXNwbGF5LT5w
cml2Owo+ICAgICAgaW50IGRpc3BsYXlfeCwgZGlzcGxheV95LCBkaXNwbGF5X3csIGRpc3BsYXlf
aDsKPiAgICAgIGRvdWJsZSBpczsKPiArICAgIGdpbnQgZ2RrX3NjYWxlID0gMTsKPgo+ICAgICAg
c3BpY2VfZGlzcGxheV9nZXRfc2NhbGluZyhkaXNwbGF5LCBOVUxMLAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAmZGlzcGxheV94LCAmZGlzcGxheV95LAo+ICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAmZGlzcGxheV93LCAmZGlzcGxheV9oKTsKPiAtCj4gKyNpZiBIQVZF
X0VHTAo+ICsgICAgICAgIGlmIChlZ2xfZW5hYmxlZChkKSkgewo+ICsgICAgICAgICAgICBnZGtf
c2NhbGUgPSBndGtfd2lkZ2V0X2dldF9zY2FsZV9mYWN0b3IoR1RLX1dJREdFVChkaXNwbGF5KSk7
Cj4gKyAgICAgICAgfQo+ICsjZW5kaWYKPiAgICAgIC8qIEZvciBpbnB1dCB3ZSBuZWVkIGEgZGlm
ZmVyZW50IHNjYWxpbmcgZmFjdG9yIGluIG9yZGVyIHRvCj4gICAgICAgICBiZSBhYmxlIHRvIHJl
YWNoIHRoZSBmdWxsIHdpZHRoIG9mIGEgZGlzcGxheS4gRm9yIGluc3RhbmNlLCBjb25zaWRlcgo+
ICAgICAgICAgYSBkaXNwbGF5IG9mIDEwMCBwaXhlbHMgc2hvd2luZyBpbiBhIHdpbmRvdyAxMCBw
aXhlbHMgd2lkZS4gVGhlIG5vcm1hbAo+IEBAIC0xOTk4LDcgKzIwMDQsNyBAQCBzdGF0aWMgdm9p
ZCB0cmFuc2Zvcm1faW5wdXQoU3BpY2VEaXNwbGF5ICpkaXNwbGF5LAo+ICAgICAgICAgY29vcmRp
bmF0ZXMgaW4gdGhlIGludmVyc2UgZGlyZWN0aW9uICh3aW5kb3cgLT4gZGlzcGxheSkgYXMgdGhl
IGZiIHNpemUKPiAgICAgICAgIChkaXNwbGF5IC0+IHdpbmRvdykuCj4gICAgICAqLwo+IC0gICAg
aXMgPSAoZG91YmxlKShkLT5hcmVhLndpZHRoLTEpIC8gKGRvdWJsZSkoZGlzcGxheV93LTEpOwo+
ICsgICAgaXMgPSAoKGRvdWJsZSkoZC0+YXJlYS53aWR0aC0xKSAvIChkb3VibGUpKGRpc3BsYXlf
dy0xKSkgKiBnZGtfc2NhbGU7Cj4KPiAgICAgIHdpbmRvd194IC09IGRpc3BsYXlfeDsKPiAgICAg
IHdpbmRvd195IC09IGRpc3BsYXlfeTsKPiBAQCAtMjE4Myw4ICsyMTg5LDEwIEBAIHN0YXRpYyB2
b2lkIHNpemVfYWxsb2NhdGUoR3RrV2lkZ2V0ICp3aWRnZXQsIEd0a0FsbG9jYXRpb24gKmNvbmYs
IGdwb2ludGVyIGRhdGEpCj4gICAgICAgICAgZC0+d2ggPSBjb25mLT5oZWlnaHQ7Cj4gICAgICAg
ICAgcmVjYWxjX2dlb21ldHJ5KHdpZGdldCk7Cj4gICNpZiBIQVZFX0VHTAo+IC0gICAgICAgIGlm
IChlZ2xfZW5hYmxlZChkKSkKPiAtICAgICAgICAgICAgc3BpY2VfZWdsX3Jlc2l6ZV9kaXNwbGF5
KGRpc3BsYXksIGNvbmYtPndpZHRoLCBjb25mLT5oZWlnaHQpOwo+ICsgICAgICAgIGlmIChlZ2xf
ZW5hYmxlZChkKSkgewo+ICsgICAgICAgICAgICBnaW50IGdka19zY2FsZSA9IGd0a193aWRnZXRf
Z2V0X3NjYWxlX2ZhY3Rvcih3aWRnZXQpOwo+ICsgICAgICAgICAgICBzcGljZV9lZ2xfcmVzaXpl
X2Rpc3BsYXkoZGlzcGxheSwgY29uZi0+d2lkdGggKiBnZGtfc2NhbGUsIGNvbmYtPmhlaWdodCAq
IGdka19zY2FsZSk7Cj4gKyAgICAgICAgfQo+ICAjZW5kaWYKPiAgICAgIH0KPgo+IEBAIC0yOTQy
LDEwICsyOTUwLDE2IEBAIHZvaWQgc3BpY2VfZGlzcGxheV9nZXRfc2NhbGluZyhTcGljZURpc3Bs
YXkgKmRpc3BsYXksCj4gICAgICBpbnQgd3csIHdoOwo+ICAgICAgaW50IHgsIHksIHcsIGg7Cj4g
ICAgICBkb3VibGUgczsKPiArICAgIGdpbnQgZ2RrX3NjYWxlID0gMTsKPgo+ICAgICAgaWYgKGd0
a193aWRnZXRfZ2V0X3JlYWxpemVkIChHVEtfV0lER0VUKGRpc3BsYXkpKSkgewo+IC0gICAgICAg
IHd3ID0gZ3RrX3dpZGdldF9nZXRfYWxsb2NhdGVkX3dpZHRoKEdUS19XSURHRVQoZGlzcGxheSkp
Owo+IC0gICAgICAgIHdoID0gZ3RrX3dpZGdldF9nZXRfYWxsb2NhdGVkX2hlaWdodChHVEtfV0lE
R0VUKGRpc3BsYXkpKTsKPiArI2lmIEhBVkVfRUdMCj4gKyAgICAgICAgaWYgKGVnbF9lbmFibGVk
KGQpKSB7Cj4gKyAgICAgICAgICAgIGdka19zY2FsZSA9IGd0a193aWRnZXRfZ2V0X3NjYWxlX2Zh
Y3RvcihHVEtfV0lER0VUKGRpc3BsYXkpKTsKPiArICAgICAgICB9Cj4gKyNlbmRpZgo+ICsgICAg
ICAgIHd3ID0gZ3RrX3dpZGdldF9nZXRfYWxsb2NhdGVkX3dpZHRoKEdUS19XSURHRVQoZGlzcGxh
eSkpICogZ2RrX3NjYWxlOwo+ICsgICAgICAgIHdoID0gZ3RrX3dpZGdldF9nZXRfYWxsb2NhdGVk
X2hlaWdodChHVEtfV0lER0VUKGRpc3BsYXkpKSAqIGdka19zY2FsZTsKPiAgICAgIH0gZWxzZSB7
Cj4gICAgICAgICAgd3cgPSBmYnc7Cj4gICAgICAgICAgd2ggPSBmYmg7Cj4gQEAgLTMwOTEsNyAr
MzEwNSw4IEBAIHZvaWQgc3BpY2VfZGlzcGxheV93aWRnZXRfZ2xfc2Nhbm91dChTcGljZURpc3Bs
YXkgKmRpc3BsYXkpCj4gICAgICAgICAgICAgIGdfY2xlYXJfZXJyb3IoJmVycik7Cj4gICAgICAg
ICAgfQo+Cj4gLSAgICAgICAgc3BpY2VfZWdsX3Jlc2l6ZV9kaXNwbGF5KGRpc3BsYXksIGQtPnd3
LCBkLT53aCk7Cj4gKyAgICAgICAgZ2ludCBnZGtfc2NhbGUgPSBndGtfd2lkZ2V0X2dldF9zY2Fs
ZV9mYWN0b3IoR1RLX1dJREdFVChkaXNwbGF5KSk7Cj4gKyAgICAgICAgc3BpY2VfZWdsX3Jlc2l6
ZV9kaXNwbGF5KGRpc3BsYXksIGQtPnd3ICogZ2RrX3NjYWxlLCBkLT53aCAqIGdka19zY2FsZSk7
Cj4gICAgICB9Cj4gICNlbmRpZgo+Cj4gLS0KPiAyLjIxLjAKPgo+IF9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0
Cj4gU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5mcmVl
ZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbAoKCgotLSAKTWFyYy1BbmRy
w6kgTHVyZWF1Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
ClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1k
ZXZlbA==
