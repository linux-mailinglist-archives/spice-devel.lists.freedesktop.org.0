Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7340A10B15
	for <lists+spice-devel@lfdr.de>; Wed,  1 May 2019 18:17:24 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 02784891FB;
	Wed,  1 May 2019 16:17:22 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail.codeweavers.com (mail.codeweavers.com [50.203.203.244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 1D1AF891A0
 for <spice-devel@lists.freedesktop.org>; Wed,  1 May 2019 16:17:20 +0000 (UTC)
Received: from jwhite.mn.codeweavers.com ([10.69.137.101])
 by mail.codeweavers.com with esmtpsa (TLS1.2:ECDHE_RSA_AES_128_GCM_SHA256:128)
 (Exim 4.89) (envelope-from <jwhite@codeweavers.com>)
 id 1hLrvv-0001bS-B9
 for spice-devel@lists.freedesktop.org; Wed, 01 May 2019 11:18:11 -0500
From: Jeremy White <jwhite@codeweavers.com>
To: spice-devel@lists.freedesktop.org
Date: Wed,  1 May 2019 11:17:13 -0500
Message-Id: <20190501161716.15538-1-jwhite@codeweavers.com>
X-Mailer: git-send-email 2.11.0
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; 
 d=codeweavers.com; s=6377696661; h=Content-Transfer-Encoding:Content-Type:
 MIME-Version:Message-Id:Date:Subject:To:From:Sender:Reply-To:Cc:Content-ID:
 Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc
 :Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:
 List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=GTQy7vBVEEQ5pbk/Fwl5qlyytEt61JA3/VfgeOOvQAE=; b=kigxnySQqV0+lC+tRm+VtzhTJS
 lgxNpbmnAAZeAvawIiBqEvxNnB8jgrC31+5rQZCqUIkzdXpT3FKrHLvr4Tg9/4JDHOWGhX0FK+VHV
 ZublqS7+CK8j9XnFj3/iAQ+BA889H3PscG3Bf6MF7Ja2Z9vQGhnGsUxIk3qkBZK16nG4=;
Subject: [Spice-devel] [PATCH v2 x11spice 1/4] Add the upstream
 xf86-video-dummy as of November 25, 2018.
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

VGhpcyBnaXZlcyB4MTFzcGljZSBhY2Nlc3MgdG8gYSBtb2Rlcm4gdmlydHVhbC9vZmZzY3JlZW4K
ZnJhbWUgYnVmZmVyIGRyaXZlciBmb3IgdGhlIFhvcmcgWCBzZXJ2ZXIuICBXZSB3aWxsIHRoZW4K
bWFrZSBzbGlnaHQgcmV2aXNpb25zIHRvIG1ha2UgaXQgbW9yZSBzdWl0YWJsZSBmb3IgdXNlIHdp
dGggU3BpY2UuCgpUaGUgb3ZlcmFsbCByZXN1bHQgc2hvdWxkIGJlIGEgbW9yZSBmdW5jdGlvbmFs
IHN0YWNrLAphcyBjb21wYXJlZCB0byB0aGUgZXhpc3RpbmcgeGY4Ni12aWRlby1xeGwgZHJpdmVy
LCBhcyB3ZSBnYWluCmEgd2lkZSByYW5nZSBvZiBNZXNhIGZlYXR1cmVzIGZvciBmcmVlLiAgSXQg
YWxzbyBzaW1wbGlmaWVzCnRoZSBvdmVyYWxsIHByb2Nlc3MuCgpUaGlzIGlzIGZyb20gaHR0cHM6
Ly9naXRsYWIuZnJlZWRlc2t0b3Aub3JnL3hvcmcvZHJpdmVyL3hmODYtdmlkZW8tZHVtbXkKYXMg
b2YgODUwYzA1MTYuCgpTaWduZWQtb2ZmLWJ5OiBKZXJlbXkgV2hpdGUgPGp3aGl0ZUBjb2Rld2Vh
dmVycy5jb20+Ci0tLQp2MjogUHJvdmlkZSBhIHNwZWNpZmljIFVSTCBmb3IgcmVmZXJlbmNlIHRv
IHRoZSB1cHN0cmVhbSB4b3JnIGRyaXZlci4KLS0tCiBzcGljZS12aWRlby1kdW1teS9DT1BZSU5H
ICAgICAgICAgICAgfCAgIDIgKwogc3BpY2UtdmlkZW8tZHVtbXkvTWFrZWZpbGUuYW0gICAgICAg
IHwgIDMxICsrCiBzcGljZS12aWRlby1kdW1teS9SRUFETUUubWQgICAgICAgICAgfCAgMTggKwog
c3BpY2UtdmlkZW8tZHVtbXkvYXV0b2dlbi5zaCAgICAgICAgIHwgIDE3ICsKIHNwaWNlLXZpZGVv
LWR1bW15L2NvbmZpZ3VyZS5hYyAgICAgICB8ICA3MiArKysrCiBzcGljZS12aWRlby1kdW1teS9z
cmMvTWFrZWZpbGUuYW0gICAgfCAgMzkgKysKIHNwaWNlLXZpZGVvLWR1bW15L3NyYy9jb21wYXQt
YXBpLmggICB8IDEwMSArKysrKwogc3BpY2UtdmlkZW8tZHVtbXkvc3JjL2R1bW15LmggICAgICAg
IHwgIDU5ICsrKwogc3BpY2UtdmlkZW8tZHVtbXkvc3JjL2R1bW15X2N1cnNvci5jIHwgMTAyICsr
KysrCiBzcGljZS12aWRlby1kdW1teS9zcmMvZHVtbXlfZHJpdmVyLmMgfCA3NDAgKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysKIDEwIGZpbGVzIGNoYW5nZWQsIDExODEgaW5zZXJ0
aW9ucygrKQogY3JlYXRlIG1vZGUgMTAwNjQ0IHNwaWNlLXZpZGVvLWR1bW15L0NPUFlJTkcKIGNy
ZWF0ZSBtb2RlIDEwMDY0NCBzcGljZS12aWRlby1kdW1teS9NYWtlZmlsZS5hbQogY3JlYXRlIG1v
ZGUgMTAwNjQ0IHNwaWNlLXZpZGVvLWR1bW15L1JFQURNRS5tZAogY3JlYXRlIG1vZGUgMTAwNzU1
IHNwaWNlLXZpZGVvLWR1bW15L2F1dG9nZW4uc2gKIGNyZWF0ZSBtb2RlIDEwMDY0NCBzcGljZS12
aWRlby1kdW1teS9jb25maWd1cmUuYWMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBzcGljZS12aWRlby1k
dW1teS9zcmMvTWFrZWZpbGUuYW0KIGNyZWF0ZSBtb2RlIDEwMDY0NCBzcGljZS12aWRlby1kdW1t
eS9zcmMvY29tcGF0LWFwaS5oCiBjcmVhdGUgbW9kZSAxMDA2NDQgc3BpY2UtdmlkZW8tZHVtbXkv
c3JjL2R1bW15LmgKIGNyZWF0ZSBtb2RlIDEwMDY0NCBzcGljZS12aWRlby1kdW1teS9zcmMvZHVt
bXlfY3Vyc29yLmMKIGNyZWF0ZSBtb2RlIDEwMDY0NCBzcGljZS12aWRlby1kdW1teS9zcmMvZHVt
bXlfZHJpdmVyLmMKCmRpZmYgLS1naXQgYS9zcGljZS12aWRlby1kdW1teS9DT1BZSU5HIGIvc3Bp
Y2UtdmlkZW8tZHVtbXkvQ09QWUlORwpuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAw
Li4zYzFlZjQ4Ci0tLSAvZGV2L251bGwKKysrIGIvc3BpY2UtdmlkZW8tZHVtbXkvQ09QWUlORwpA
QCAtMCwwICsxLDIgQEAKK0NvcHlyaWdodCAyMDAyLCBTdVNFIExpbnV4IEFHLCBBdXRob3I6IEVn
YmVydCBFaWNoCisKZGlmZiAtLWdpdCBhL3NwaWNlLXZpZGVvLWR1bW15L01ha2VmaWxlLmFtIGIv
c3BpY2UtdmlkZW8tZHVtbXkvTWFrZWZpbGUuYW0KbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXgg
MDAwMDAwMC4uMWExMGExYwotLS0gL2Rldi9udWxsCisrKyBiL3NwaWNlLXZpZGVvLWR1bW15L01h
a2VmaWxlLmFtCkBAIC0wLDAgKzEsMzEgQEAKKyMgIENvcHlyaWdodCAyMDA1IEFkYW0gSmFja3Nv
bi4KKyMKKyMgIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0
byBhbnkgcGVyc29uIG9idGFpbmluZyBhCisjICBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFz
c29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLAorIyAgdG8gZGVh
bCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQg
bGltaXRhdGlvbgorIyAgb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2Us
IHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YgorIyAgbGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVz
IG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20KKyMgIHRoZSBT
b2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBj
b25kaXRpb25zOgorIworIyAgVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVy
bWlzc2lvbiBub3RpY2UgKGluY2x1ZGluZyB0aGUgbmV4dAorIyAgcGFyYWdyYXBoKSBzaGFsbCBi
ZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZQor
IyAgU29mdHdhcmUuCisjCisjICBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lU
SE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgorIyAgSU1QTElFRCwgSU5DTFVE
SU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFks
CisjICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OLUlORlJJTkdFTUVO
VC4gIElOIE5PIEVWRU5UIFNIQUxMCisjICBBREFNIEpBQ0tTT04gQkUgTElBQkxFIEZPUiBBTlkg
Q0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSCisjICBJTiBBTiBBQ1RJ
T04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBP
UiBJTgorIyAgQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVS
IERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KKworU1VCRElSUyA9IHNyYworTUFJTlRBSU5FUkNM
RUFORklMRVMgPSBDaGFuZ2VMb2cKKworLlBIT05ZOiBDaGFuZ2VMb2cKKworQ2hhbmdlTG9nOgor
CSQoQ0hBTkdFTE9HX0NNRCkKKworZGlzdC1ob29rOiBDaGFuZ2VMb2cKKworRVhUUkFfRElTVCA9
IFJFQURNRS5tZApkaWZmIC0tZ2l0IGEvc3BpY2UtdmlkZW8tZHVtbXkvUkVBRE1FLm1kIGIvc3Bp
Y2UtdmlkZW8tZHVtbXkvUkVBRE1FLm1kCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAw
MDAuLjJhODRiYzMKLS0tIC9kZXYvbnVsbAorKysgYi9zcGljZS12aWRlby1kdW1teS9SRUFETUUu
bWQKQEAgLTAsMCArMSwxOCBAQAoreGY4Ni12aWRlby1kdW1teSAtIHZpcnR1YWwvb2Zmc2NyZWVu
IGZyYW1lIGJ1ZmZlciBkcml2ZXIgZm9yIHRoZSBYb3JnIFggc2VydmVyCistLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0KKworQWxsIHF1ZXN0aW9ucyByZWdhcmRpbmcgdGhpcyBzb2Z0d2FyZSBzaG91bGQg
YmUgZGlyZWN0ZWQgYXQgdGhlCitYb3JnIG1haWxpbmcgbGlzdDoKKworICBodHRwczovL2xpc3Rz
Lngub3JnL21haWxtYW4vbGlzdGluZm8veG9yZworCitUaGUgbWFzdGVyIGRldmVsb3BtZW50IGNv
ZGUgcmVwb3NpdG9yeSBjYW4gYmUgZm91bmQgYXQ6CisKKyAgaHR0cHM6Ly9naXRsYWIuZnJlZWRl
c2t0b3Aub3JnL3hvcmcvZHJpdmVyL3hmODYtdmlkZW8tZHVtbXkKKworUGxlYXNlIHN1Ym1pdCBi
dWcgcmVwb3J0cyBhbmQgcmVxdWVzdHMgdG8gbWVyZ2UgcGF0Y2hlcyB0aGVyZS4KKworRm9yIHBh
dGNoIHN1Ym1pc3Npb24gaW5zdHJ1Y3Rpb25zLCBzZWU6CisKKyAgaHR0cHM6Ly93d3cueC5vcmcv
d2lraS9EZXZlbG9wbWVudC9Eb2N1bWVudGF0aW9uL1N1Ym1pdHRpbmdQYXRjaGVzCisKZGlmZiAt
LWdpdCBhL3NwaWNlLXZpZGVvLWR1bW15L2F1dG9nZW4uc2ggYi9zcGljZS12aWRlby1kdW1teS9h
dXRvZ2VuLnNoCm5ldyBmaWxlIG1vZGUgMTAwNzU1CmluZGV4IDAwMDAwMDAuLjliOWY3ZTcKLS0t
IC9kZXYvbnVsbAorKysgYi9zcGljZS12aWRlby1kdW1teS9hdXRvZ2VuLnNoCkBAIC0wLDAgKzEs
MTcgQEAKKyMhIC9iaW4vc2gKKworc3JjZGlyPWBkaXJuYW1lICIkMCJgCit0ZXN0IC16ICIkc3Jj
ZGlyIiAmJiBzcmNkaXI9LgorCitPUklHRElSPWBwd2RgCitjZCAiJHNyY2RpciIKKworYXV0b3Jl
Y29uZiAtdiAtLWluc3RhbGwgfHwgZXhpdCAxCitjZCAiJE9SSUdESVIiIHx8IGV4aXQgJD8KKwor
Z2l0IGNvbmZpZyAtLWxvY2FsIC0tZ2V0IGZvcm1hdC5zdWJqZWN0UHJlZml4ID4vZGV2L251bGwg
Mj4mMSB8fAorICAgIGdpdCBjb25maWcgLS1sb2NhbCBmb3JtYXQuc3ViamVjdFByZWZpeCAiUEFU
Q0ggeGY4Ni12aWRlby1kdW1teSIKKworaWYgdGVzdCAteiAiJE5PQ09ORklHVVJFIjsgdGhlbgor
ICAgIGV4ZWMgIiRzcmNkaXIiL2NvbmZpZ3VyZSAiJEAiCitmaQpkaWZmIC0tZ2l0IGEvc3BpY2Ut
dmlkZW8tZHVtbXkvY29uZmlndXJlLmFjIGIvc3BpY2UtdmlkZW8tZHVtbXkvY29uZmlndXJlLmFj
Cm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAuLjJjYTAzMjcKLS0tIC9kZXYvbnVs
bAorKysgYi9zcGljZS12aWRlby1kdW1teS9jb25maWd1cmUuYWMKQEAgLTAsMCArMSw3MiBAQAor
IyAgQ29weXJpZ2h0IDIwMDUgQWRhbSBKYWNrc29uLgorIworIyAgUGVybWlzc2lvbiBpcyBoZXJl
YnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKKyMg
IGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVz
ICh0aGUgIlNvZnR3YXJlIiksCisjICB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJl
c3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uCisjICBvbiB0aGUgcmlnaHRz
IHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3ViCisj
ICBsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVy
bWl0IHBlcnNvbnMgdG8gd2hvbQorIyAgdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBz
bywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CisjCisjICBUaGUgYWJvdmUg
Y29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSAoaW5jbHVkaW5nIHRo
ZSBuZXh0CisjICBwYXJhZ3JhcGgpIHNoYWxsIGJlIGluY2x1ZGVkIGluIGFsbCBjb3BpZXMgb3Ig
c3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlCisjICBTb2Z0d2FyZS4KKyMKKyMgIFRIRSBTT0ZU
V0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBF
WFBSRVNTIE9SCisjICBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBX
QVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKKyMgIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxB
UiBQVVJQT1NFIEFORCBOT04tSU5GUklOR0VNRU5ULiAgSU4gTk8gRVZFTlQgU0hBTEwKKyMgIEFE
QU0gSkFDS1NPTiBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFC
SUxJVFksIFdIRVRIRVIKKyMgIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhF
UldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOCisjICBDT05ORUNUSU9OIFdJVEggVEhF
IFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgor
IworIyBQcm9jZXNzIHRoaXMgZmlsZSB3aXRoIGF1dG9jb25mIHRvIHByb2R1Y2UgYSBjb25maWd1
cmUgc2NyaXB0CisKKyMgSW5pdGlhbGl6ZSBBdXRvY29uZgorQUNfUFJFUkVRKFsyLjYwXSkKK0FD
X0lOSVQoW3hmODYtdmlkZW8tZHVtbXldLAorICAgICAgICBbMC4zLjhdLAorICAgICAgICBbaHR0
cHM6Ly9naXRsYWIuZnJlZWRlc2t0b3Aub3JnL3hvcmcvZHJpdmVyL3hmODYtdmlkZW8tZHVtbXkv
aXNzdWVzXSwKKyAgICAgICAgW3hmODYtdmlkZW8tZHVtbXldKQorQUNfQ09ORklHX1NSQ0RJUihb
TWFrZWZpbGUuYW1dKQorQUNfQ09ORklHX0hFQURFUlMoW2NvbmZpZy5oXSkKK0FDX0NPTkZJR19B
VVhfRElSKC4pCisKKyMgSW5pdGlhbGl6ZSBBdXRvbWFrZQorQU1fSU5JVF9BVVRPTUFLRShbZm9y
ZWlnbiBkaXN0LWJ6aXAyXSkKKworIyBSZXF1aXJlIHhvcmctbWFjcm9zOiBYT1JHX0RFRkFVTFRf
T1BUSU9OUworbTRfaWZuZGVmKFtYT1JHX01BQ1JPU19WRVJTSU9OXSwKKyAgICAgICAgICBbbTRf
ZmF0YWwoW211c3QgaW5zdGFsbCB4b3JnLW1hY3JvcyAxLjMgb3IgbGF0ZXIgYmVmb3JlIHJ1bm5p
bmcgYXV0b2NvbmYvYXV0b2dlbl0pXSkKK1hPUkdfTUFDUk9TX1ZFUlNJT04oMS4zKQorWE9SR19E
RUZBVUxUX09QVElPTlMKKworIyBJbml0aWFsaXplIGxpYnRvb2wKK0FDX0RJU0FCTEVfU1RBVElD
CitBQ19QUk9HX0xJQlRPT0wKKworQUhfVE9QKFsjaW5jbHVkZSAieG9yZy1zZXJ2ZXIuaCJdKQor
CisjIERlZmluZSBhIGNvbmZpZ3VyZSBvcHRpb24gZm9yIGFuIGFsdGVybmF0ZSBtb2R1bGUgZGly
ZWN0b3J5CitBQ19BUkdfV0lUSCh4b3JnLW1vZHVsZS1kaXIsIFsgIC0td2l0aC14b3JnLW1vZHVs
ZS1kaXI9RElSIF0sCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFsgbW9kdWxlZGlyPSIk
d2l0aHZhbCIgXSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgWyBtb2R1bGVkaXI9IiRs
aWJkaXIveG9yZy9tb2R1bGVzIiBdKQorQUNfU1VCU1QobW9kdWxlZGlyKQorCisKKyMgU3RvcmUg
dGhlIGxpc3Qgb2Ygc2VydmVyIGRlZmluZWQgb3B0aW9uYWwgZXh0ZW5zaW9ucyBpbiBSRVFVSVJF
RF9NT0RVTEVTCitYT1JHX0RSSVZFUl9DSEVDS19FWFQoUkFORFIsIHJhbmRycHJvdG8pCitYT1JH
X0RSSVZFUl9DSEVDS19FWFQoUkVOREVSLCByZW5kZXJwcm90bykKKworIyBPYnRhaW4gY29tcGls
ZXIvbGlua2VyIG9wdGlvbnMgZm9yIHRoZSBkcml2ZXIgZGVwZW5kZW5jaWVzCitQS0dfQ0hFQ0tf
TU9EVUxFUyhYT1JHLCBbeG9yZy1zZXJ2ZXIgPj0gMS40Ljk5LjkwMV0geHByb3RvIGZvbnRzcHJv
dG8gJFJFUVVJUkVEX01PRFVMRVMpCisKKyMgQ2hlY2tzIGZvciBsaWJyYXJpZXMuCisKKworRFJJ
VkVSX05BTUU9ZHVtbXkKK0FDX1NVQlNUKFtEUklWRVJfTkFNRV0pCisKK0FDX0NPTkZJR19GSUxF
UyhbCisgICAgICAgICAgICAgICAgTWFrZWZpbGUKKyAgICAgICAgICAgICAgICBzcmMvTWFrZWZp
bGUKK10pCitBQ19PVVRQVVQKZGlmZiAtLWdpdCBhL3NwaWNlLXZpZGVvLWR1bW15L3NyYy9NYWtl
ZmlsZS5hbSBiL3NwaWNlLXZpZGVvLWR1bW15L3NyYy9NYWtlZmlsZS5hbQpuZXcgZmlsZSBtb2Rl
IDEwMDY0NAppbmRleCAwMDAwMDAwLi5jMGQ4MmUwCi0tLSAvZGV2L251bGwKKysrIGIvc3BpY2Ut
dmlkZW8tZHVtbXkvc3JjL01ha2VmaWxlLmFtCkBAIC0wLDAgKzEsMzkgQEAKKyMgIENvcHlyaWdo
dCAyMDA1IEFkYW0gSmFja3Nvbi4KKyMKKyMgIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQs
IGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCisjICBjb3B5IG9mIHRo
aXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0
d2FyZSIpLAorIyAgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwg
aW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgorIyAgb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNv
cHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YgorIyAgbGljZW5zZSwg
YW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25z
IHRvIHdob20KKyMgIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3Qg
dG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgorIworIyAgVGhlIGFib3ZlIGNvcHlyaWdodCBu
b3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgKGluY2x1ZGluZyB0aGUgbmV4dAorIyAg
cGFyYWdyYXBoKSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFs
IHBvcnRpb25zIG9mIHRoZQorIyAgU29mdHdhcmUuCisjCisjICBUSEUgU09GVFdBUkUgSVMgUFJP
VklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgor
IyAgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBP
RiBNRVJDSEFOVEFCSUxJVFksCisjICBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBB
TkQgTk9OLUlORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMCisjICBBREFNIEpBQ0tTT04g
QkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVU
SEVSCisjICBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklT
SU5HIEZST00sIE9VVCBPRiBPUiBJTgorIyAgQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBP
UiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KKworCisjIHRoaXMg
aXMgb2Jub3hpb3VzOgorIyAtbW9kdWxlIGxldHMgdXMgbmFtZSB0aGUgbW9kdWxlIGV4YWN0bHkg
aG93IHdlIHdhbnQKKyMgLWF2b2lkLXZlcnNpb24gcHJldmVudHMgZ3JhdHVpdG91cyAuMC4wLjAg
dmVyc2lvbiBudW1iZXJzIG9uIHRoZSBlbmQKKyMgX2xhZGlyIHBhc3NlcyBhIGR1bW15IHJwYXRo
IHRvIGxpYnRvb2wgc28gdGhlIHRoaW5nIHdpbGwgYWN0dWFsbHkgbGluaworIyBUT0RPOiAtbm9z
dGRsaWIvLUJzdGF0aWMvLWxnY2MgcGxhdGZvcm0gbWFnaWMsIG5vdCBpbnN0YWxsaW5nIHRoZSAu
YSwgZXRjLgorCitBTV9DRkxBR1MgPSAkKFhPUkdfQ0ZMQUdTKSAkKFBDSUFDQ0VTU19DRkxBR1Mp
CisKK2R1bW15X2Rydl9sYV9MVExJQlJBUklFUyA9IGR1bW15X2Rydi5sYQorZHVtbXlfZHJ2X2xh
X0xERkxBR1MgPSAtbW9kdWxlIC1hdm9pZC12ZXJzaW9uCitkdW1teV9kcnZfbGFfTElCQUREID0g
JChYT1JHX0xJQlMpCitkdW1teV9kcnZfbGFkaXIgPSBAbW9kdWxlZGlyQC9kcml2ZXJzCisKK2R1
bW15X2Rydl9sYV9TT1VSQ0VTID0gXAorICAgICAgICAgY29tcGF0LWFwaS5oIFwKKyAgICAgICAg
IGR1bW15X2N1cnNvci5jIFwKKyAgICAgICAgIGR1bW15X2RyaXZlci5jIFwKKyAgICAgICAgIGR1
bW15LmgKZGlmZiAtLWdpdCBhL3NwaWNlLXZpZGVvLWR1bW15L3NyYy9jb21wYXQtYXBpLmggYi9z
cGljZS12aWRlby1kdW1teS9zcmMvY29tcGF0LWFwaS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0Cmlu
ZGV4IDAwMDAwMDAuLmI3NGE1ODIKLS0tIC9kZXYvbnVsbAorKysgYi9zcGljZS12aWRlby1kdW1t
eS9zcmMvY29tcGF0LWFwaS5oCkBAIC0wLDAgKzEsMTAxIEBACisvKgorICogQ29weXJpZ2h0IDIw
MTIgUmVkIEhhdCwgSW5jLgorICoKKyAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZy
ZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCisgKiBjb3B5IG9mIHRoaXMg
c29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2Fy
ZSIpLAorICogdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5j
bHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbgorICogdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1v
ZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsCisgKiBhbmQvb3Ig
c2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hv
bSB0aGUKKyAqIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUg
Zm9sbG93aW5nIGNvbmRpdGlvbnM6CisgKgorICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2Ug
YW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2UgKGluY2x1ZGluZyB0aGUgbmV4dAorICogcGFyYWdy
YXBoKSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRp
b25zIG9mIHRoZQorICogU29mdHdhcmUuCisgKgorICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVE
ICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKKyAqIElN
UExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVS
Q0hBTlRBQklMSVRZLAorICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5P
TklORlJJTkdFTUVOVC4gIElOIE5PIEVWRU5UIFNIQUxMCisgKiBUSEUgQVVUSE9SUyBPUiBDT1BZ
UklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgor
ICogTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBP
VEhFUldJU0UsIEFSSVNJTkcKKyAqIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEgg
VEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIKKyAqIERFQUxJTkdTIElOIFRIRSBTT0ZU
V0FSRS4KKyAqCisgKiBBdXRob3I6IERhdmUgQWlybGllIDxhaXJsaWVkQHJlZGhhdC5jb20+Cisg
Ki8KKworLyogdGhpcyBmaWxlIHByb3ZpZGVzIEFQSSBjb21wYXQgYmV0d2VlbiBzZXJ2ZXIgcG9z
dCAxLjEzIGFuZCBwcmUgaXQsCisgICBpdCBzaG91bGQgYmUgcmV1c2VkIGluc2lkZSBhcyBtYW55
IGRyaXZlcnMgYXMgcG9zc2libGUgKi8KKyNpZm5kZWYgQ09NUEFUX0FQSV9ICisjZGVmaW5lIENP
TVBBVF9BUElfSAorCisjaWZuZGVmIEdMWVBIX0hBU19HTFlQSF9QSUNUVVJFX0FDQ0VTU09SCisj
ZGVmaW5lIEdldEdseXBoUGljdHVyZShnLCBzKSBHbHlwaFBpY3R1cmUoKGcpKVsocyktPm15TnVt
XQorI2RlZmluZSBTZXRHbHlwaFBpY3R1cmUoZywgcywgcCkgR2x5cGhQaWN0dXJlKChnKSlbKHMp
LT5teU51bV0gPSBwCisjZW5kaWYKKworI2lmbmRlZiBYRjg2X0hBU19TQ1JOX0NPTlYKKyNkZWZp
bmUgeGY4NlNjcmVlblRvU2NybihzKSB4Zjg2U2NyZWVuc1socyktPm15TnVtXQorI2RlZmluZSB4
Zjg2U2NyblRvU2NyZWVuKHMpIHNjcmVlbkluZm8uc2NyZWVuc1socyktPnNjcm5JbmRleF0KKyNl
bmRpZgorCisjaWZuZGVmIFhGODZfU0NSTl9JTlRFUkZBQ0UKKworI2RlZmluZSBTQ1JOX0FSR19U
WVBFIGludAorI2RlZmluZSBTQ1JOX0lORk9fUFRSKGFyZzEpIFNjcm5JbmZvUHRyIHBTY3JuID0g
eGY4NlNjcmVlbnNbKGFyZzEpXQorCisjZGVmaW5lIFNDUkVFTl9BUkdfVFlQRSBpbnQKKyNkZWZp
bmUgU0NSRUVOX1BUUihhcmcxKSBTY3JlZW5QdHIgcFNjcmVlbiA9IHNjcmVlbkluZm8uc2NyZWVu
c1soYXJnMSldCisKKyNkZWZpbmUgU0NSRUVOX0lOSVRfQVJHU19ERUNMIGludCBpLCBTY3JlZW5Q
dHIgcFNjcmVlbiwgaW50IGFyZ2MsIGNoYXIgKiphcmd2CisKKyNkZWZpbmUgQkxPQ0tIQU5ETEVS
X0FSR1NfREVDTCBpbnQgYXJnLCBwb2ludGVyIGJsb2NrRGF0YSwgcG9pbnRlciBwVGltZW91dCwg
cG9pbnRlciBwUmVhZG1hc2sKKyNkZWZpbmUgQkxPQ0tIQU5ETEVSX0FSR1MgYXJnLCBibG9ja0Rh
dGEsIHBUaW1lb3V0LCBwUmVhZG1hc2sKKworI2RlZmluZSBDTE9TRV9TQ1JFRU5fQVJHU19ERUNM
IGludCBzY3JuSW5kZXgsIFNjcmVlblB0ciBwU2NyZWVuCisjZGVmaW5lIENMT1NFX1NDUkVFTl9B
UkdTIHNjcm5JbmRleCwgcFNjcmVlbgorCisjZGVmaW5lIEFESlVTVF9GUkFNRV9BUkdTX0RFQ0wg
aW50IGFyZywgaW50IHgsIGludCB5LCBpbnQgZmxhZ3MKKyNkZWZpbmUgQURKVVNUX0ZSQU1FX0FS
R1MoYXJnLCB4LCB5KSAoYXJnKS0+c2NybkluZGV4LCB4LCB5LCAwCisKKyNkZWZpbmUgU1dJVENI
X01PREVfQVJHU19ERUNMIGludCBhcmcsIERpc3BsYXlNb2RlUHRyIG1vZGUsIGludCBmbGFncwor
I2RlZmluZSBTV0lUQ0hfTU9ERV9BUkdTKGFyZywgbSkgKGFyZyktPnNjcm5JbmRleCwgbSwgMAor
CisjZGVmaW5lIEZSRUVfU0NSRUVOX0FSR1NfREVDTCBpbnQgYXJnLCBpbnQgZmxhZ3MKKyNkZWZp
bmUgRlJFRV9TQ1JFRU5fQVJHUyh4KSAoeCktPnNjcm5JbmRleCwgMAorCisjZGVmaW5lIFZUX0ZV
TkNfQVJHU19ERUNMIGludCBhcmcsIGludCBmbGFncworI2RlZmluZSBWVF9GVU5DX0FSR1MoZmxh
Z3MpIHBTY3JuLT5zY3JuSW5kZXgsIChmbGFncykKKworI2RlZmluZSBYRjg2X0VOQUJMRURJU0FC
TEVGQl9BUkcoeCkgKCh4KS0+c2NybkluZGV4KQorI2Vsc2UKKyNkZWZpbmUgU0NSTl9BUkdfVFlQ
RSBTY3JuSW5mb1B0cgorI2RlZmluZSBTQ1JOX0lORk9fUFRSKGFyZzEpIFNjcm5JbmZvUHRyIHBT
Y3JuID0gKGFyZzEpCisKKyNkZWZpbmUgU0NSRUVOX0FSR19UWVBFIFNjcmVlblB0cgorI2RlZmlu
ZSBTQ1JFRU5fUFRSKGFyZzEpIFNjcmVlblB0ciBwU2NyZWVuID0gKGFyZzEpCisKKyNkZWZpbmUg
U0NSRUVOX0lOSVRfQVJHU19ERUNMIFNjcmVlblB0ciBwU2NyZWVuLCBpbnQgYXJnYywgY2hhciAq
KmFyZ3YKKworI2RlZmluZSBCTE9DS0hBTkRMRVJfQVJHU19ERUNMIFNjcmVlblB0ciBhcmcsIHBv
aW50ZXIgcFRpbWVvdXQsIHBvaW50ZXIgcFJlYWRtYXNrCisjZGVmaW5lIEJMT0NLSEFORExFUl9B
UkdTIGFyZywgcFRpbWVvdXQsIHBSZWFkbWFzaworCisjZGVmaW5lIENMT1NFX1NDUkVFTl9BUkdT
X0RFQ0wgU2NyZWVuUHRyIHBTY3JlZW4KKyNkZWZpbmUgQ0xPU0VfU0NSRUVOX0FSR1MgcFNjcmVl
bgorCisjZGVmaW5lIEFESlVTVF9GUkFNRV9BUkdTX0RFQ0wgU2NybkluZm9QdHIgYXJnLCBpbnQg
eCwgaW50IHkKKyNkZWZpbmUgQURKVVNUX0ZSQU1FX0FSR1MoYXJnLCB4LCB5KSBhcmcsIHgsIHkK
KworI2RlZmluZSBTV0lUQ0hfTU9ERV9BUkdTX0RFQ0wgU2NybkluZm9QdHIgYXJnLCBEaXNwbGF5
TW9kZVB0ciBtb2RlCisjZGVmaW5lIFNXSVRDSF9NT0RFX0FSR1MoYXJnLCBtKSBhcmcsIG0KKwor
I2RlZmluZSBGUkVFX1NDUkVFTl9BUkdTX0RFQ0wgU2NybkluZm9QdHIgYXJnCisjZGVmaW5lIEZS
RUVfU0NSRUVOX0FSR1MoeCkgKHgpCisKKyNkZWZpbmUgVlRfRlVOQ19BUkdTX0RFQ0wgU2Nybklu
Zm9QdHIgYXJnCisjZGVmaW5lIFZUX0ZVTkNfQVJHUyhmbGFncykgcFNjcm4KKworI2RlZmluZSBY
Rjg2X0VOQUJMRURJU0FCTEVGQl9BUkcoeCkgKHgpCisKKyNlbmRpZgorCisjZW5kaWYKZGlmZiAt
LWdpdCBhL3NwaWNlLXZpZGVvLWR1bW15L3NyYy9kdW1teS5oIGIvc3BpY2UtdmlkZW8tZHVtbXkv
c3JjL2R1bW15LmgKbmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uOGU3YzQzYgot
LS0gL2Rldi9udWxsCisrKyBiL3NwaWNlLXZpZGVvLWR1bW15L3NyYy9kdW1teS5oCkBAIC0wLDAg
KzEsNTkgQEAKKworLyogQWxsIGRyaXZlcnMgc2hvdWxkIHR5cGljYWxseSBpbmNsdWRlIHRoZXNl
ICovCisjaW5jbHVkZSAieGY4Ni5oIgorI2luY2x1ZGUgInhmODZfT1Nwcm9jLmgiCisKKyNpbmNs
dWRlICJ4Zjg2Q3Vyc29yLmgiCisKKyNpZmRlZiBYdkV4dGVuc2lvbgorI2luY2x1ZGUgInhmODZ4
di5oIgorI2luY2x1ZGUgPFgxMS9leHRlbnNpb25zL1h2Lmg+CisjZW5kaWYKKyNpbmNsdWRlIDxz
dHJpbmcuaD4KKworI2luY2x1ZGUgImNvbXBhdC1hcGkuaCIKKworLyogU3VwcG9ydGVkIGNoaXBz
ZXRzICovCit0eXBlZGVmIGVudW0geworICAgIERVTU1ZX0NISVAKK30gRFVNTVlUeXBlOworCisv
KiBmdW5jdGlvbiBwcm90b3R5cGVzICovCisKK2V4dGVybiBCb29sIERVTU1ZU3dpdGNoTW9kZShT
V0lUQ0hfTU9ERV9BUkdTX0RFQ0wpOworZXh0ZXJuIHZvaWQgRFVNTVlBZGp1c3RGcmFtZShBREpV
U1RfRlJBTUVfQVJHU19ERUNMKTsKKworLyogaW4gZHVtbXlfY3Vyc29yLmMgKi8KK2V4dGVybiBC
b29sIERVTU1ZQ3Vyc29ySW5pdChTY3JlZW5QdHIgcFNjcm4pOworZXh0ZXJuIHZvaWQgRFVNTVlT
aG93Q3Vyc29yKFNjcm5JbmZvUHRyIHBTY3JuKTsKK2V4dGVybiB2b2lkIERVTU1ZSGlkZUN1cnNv
cihTY3JuSW5mb1B0ciBwU2Nybik7CisKKy8qIGdsb2JhbHMgKi8KK3R5cGVkZWYgc3RydWN0IF9j
b2xvcgoreworICAgIGludCByZWQ7CisgICAgaW50IGdyZWVuOworICAgIGludCBibHVlOworfSBk
dW1teV9jb2xvcnM7CisKK3R5cGVkZWYgc3RydWN0IGR1bW15UmVjIAoreworICAgIC8qIG9wdGlv
bnMgKi8KKyAgICBPcHRpb25JbmZvUHRyIE9wdGlvbnM7CisgICAgQm9vbCBzd0N1cnNvcjsKKyAg
ICAvKiBwcm9jIHBvaW50ZXIgKi8KKyAgICBDbG9zZVNjcmVlblByb2NQdHIgQ2xvc2VTY3JlZW47
CisgICAgeGY4NkN1cnNvckluZm9QdHIgQ3Vyc29ySW5mbzsKKworICAgIEJvb2wgRHVtbXlIV0N1
cnNvclNob3duOworICAgIGludCBjdXJzb3JYLCBjdXJzb3JZOworICAgIGludCBjdXJzb3JGRywg
Y3Vyc29yQkc7CisKKyAgICBkdW1teV9jb2xvcnMgY29sb3JzWzEwMjRdOworICAgIEJvb2wgICAg
ICAgICgqQ3JlYXRlV2luZG93KSgpIDsgICAgIC8qIHdyYXBwZWQgQ3JlYXRlV2luZG93ICovCisg
ICAgQm9vbCBwcm9wOworfSBEVU1NWVJlYywgKkRVTU1ZUHRyOworCisvKiBUaGUgcHJpdmF0ZXMg
b2YgdGhlIERVTU1ZIGRyaXZlciAqLworI2RlZmluZSBEVU1NWVBUUihwKQkoKERVTU1ZUHRyKSgo
cCktPmRyaXZlclByaXZhdGUpKQorCmRpZmYgLS1naXQgYS9zcGljZS12aWRlby1kdW1teS9zcmMv
ZHVtbXlfY3Vyc29yLmMgYi9zcGljZS12aWRlby1kdW1teS9zcmMvZHVtbXlfY3Vyc29yLmMKbmV3
IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMC4uZDdjNjdjNgotLS0gL2Rldi9udWxsCisr
KyBiL3NwaWNlLXZpZGVvLWR1bW15L3NyYy9kdW1teV9jdXJzb3IuYwpAQCAtMCwwICsxLDEwMiBA
QAorI2lmZGVmIEhBVkVfQ09ORklHX0gKKyNpbmNsdWRlICJjb25maWcuaCIKKyNlbmRpZgorCisv
KiBBbGwgZHJpdmVycyBzaG91bGQgdHlwaWNhbGx5IGluY2x1ZGUgdGhlc2UgKi8KKyNpbmNsdWRl
ICJ4Zjg2LmgiCisjaW5jbHVkZSAieGY4Nl9PU3Byb2MuaCIKKworI2luY2x1ZGUgInhmODZDdXJz
b3IuaCIKKyNpbmNsdWRlICJjdXJzb3JzdHIuaCIKKy8qIERyaXZlciBzcGVjaWZpYyBoZWFkZXJz
ICovCisjaW5jbHVkZSAiZHVtbXkuaCIKKworc3RhdGljIHZvaWQKK2R1bW15U2hvd0N1cnNvcihT
Y3JuSW5mb1B0ciBwU2NybikKK3sKKyAgICBEVU1NWVB0ciBkUHRyID0gRFVNTVlQVFIocFNjcm4p
OworCisgICAgLyogdHVybiBjdXJzb3Igb24gKi8KKyAgICBkUHRyLT5EdW1teUhXQ3Vyc29yU2hv
d24gPSBUUlVFOyAgICAKK30KKworc3RhdGljIHZvaWQKK2R1bW15SGlkZUN1cnNvcihTY3JuSW5m
b1B0ciBwU2NybikKK3sKKyAgICBEVU1NWVB0ciBkUHRyID0gRFVNTVlQVFIocFNjcm4pOworCisg
ICAgLyoKKyAgICAgKiB0dXJuIGN1cnNvciBvZmYgCisgICAgICoKKyAgICAgKi8KKyAgICBkUHRy
LT5EdW1teUhXQ3Vyc29yU2hvd24gPSBGQUxTRTsKK30KKworI2RlZmluZSBNQVhfQ1VSUyA2NAor
CitzdGF0aWMgdm9pZAorZHVtbXlTZXRDdXJzb3JQb3NpdGlvbihTY3JuSW5mb1B0ciBwU2Nybiwg
aW50IHgsIGludCB5KQoreworICAgIERVTU1ZUHRyIGRQdHIgPSBEVU1NWVBUUihwU2Nybik7CisK
KyAgICBkUHRyLT5jdXJzb3JYID0geDsKKyAgICBkUHRyLT5jdXJzb3JZID0geTsKK30KKworc3Rh
dGljIHZvaWQKK2R1bW15U2V0Q3Vyc29yQ29sb3JzKFNjcm5JbmZvUHRyIHBTY3JuLCBpbnQgYmcs
IGludCBmZykKK3sKKyAgICBEVU1NWVB0ciBkUHRyID0gRFVNTVlQVFIocFNjcm4pOworICAgIAor
ICAgIGRQdHItPmN1cnNvckZHID0gZmc7CisgICAgZFB0ci0+Y3Vyc29yQkcgPSBiZzsKK30KKwor
c3RhdGljIHZvaWQKK2R1bW15TG9hZEN1cnNvckltYWdlKFNjcm5JbmZvUHRyIHBTY3JuLCB1bnNp
Z25lZCBjaGFyICpzcmMpCit7Cit9CisKK3N0YXRpYyBCb29sCitkdW1teVVzZUhXQ3Vyc29yKFNj
cmVlblB0ciBwU2NyLCBDdXJzb3JQdHIgcEN1cnMpCit7CisgICAgRFVNTVlQdHIgZFB0ciA9IERV
TU1ZUFRSKHhmODZTY3JlZW5Ub1Njcm4ocFNjcikpOworICAgIHJldHVybighZFB0ci0+c3dDdXJz
b3IpOworfQorCisjaWYgMAorc3RhdGljIHVuc2lnbmVkIGNoYXIqCitkdW1teVJlYWxpemVDdXJz
b3IoeGY4NkN1cnNvckluZm9QdHIgaW5mb1B0ciwgQ3Vyc29yUHRyIHBDdXJzKQoreworICAgIHJl
dHVybiBOVUxMOworfQorI2VuZGlmCisKK0Jvb2wKK0RVTU1ZQ3Vyc29ySW5pdChTY3JlZW5QdHIg
cFNjcmVlbikKK3sKKyAgICBEVU1NWVB0ciBkUHRyID0gRFVNTVlQVFIoeGY4NlNjcmVlblRvU2Ny
bihwU2NyZWVuKSk7CisKKyAgICB4Zjg2Q3Vyc29ySW5mb1B0ciBpbmZvUHRyOworICAgIGluZm9Q
dHIgPSB4Zjg2Q3JlYXRlQ3Vyc29ySW5mb1JlYygpOworICAgIGlmKCFpbmZvUHRyKSByZXR1cm4g
RkFMU0U7CisKKyAgICBkUHRyLT5DdXJzb3JJbmZvID0gaW5mb1B0cjsKKworICAgIGluZm9QdHIt
Pk1heEhlaWdodCA9IDY0OworICAgIGluZm9QdHItPk1heFdpZHRoID0gNjQ7CisgICAgaW5mb1B0
ci0+RmxhZ3MgPSBIQVJEV0FSRV9DVVJTT1JfVFJVRUNPTE9SX0FUXzhCUFA7CisKKyAgICBpbmZv
UHRyLT5TZXRDdXJzb3JDb2xvcnMgPSBkdW1teVNldEN1cnNvckNvbG9yczsKKyAgICBpbmZvUHRy
LT5TZXRDdXJzb3JQb3NpdGlvbiA9IGR1bW15U2V0Q3Vyc29yUG9zaXRpb247CisgICAgaW5mb1B0
ci0+TG9hZEN1cnNvckltYWdlID0gZHVtbXlMb2FkQ3Vyc29ySW1hZ2U7CisgICAgaW5mb1B0ci0+
SGlkZUN1cnNvciA9IGR1bW15SGlkZUN1cnNvcjsKKyAgICBpbmZvUHRyLT5TaG93Q3Vyc29yID0g
ZHVtbXlTaG93Q3Vyc29yOworICAgIGluZm9QdHItPlVzZUhXQ3Vyc29yID0gZHVtbXlVc2VIV0N1
cnNvcjsKKy8qICAgICBpbmZvUHRyLT5SZWFsaXplQ3Vyc29yID0gZHVtbXlSZWFsaXplQ3Vyc29y
OyAqLworICAgIAorICAgIHJldHVybih4Zjg2SW5pdEN1cnNvcihwU2NyZWVuLCBpbmZvUHRyKSk7
Cit9CisKKworCmRpZmYgLS1naXQgYS9zcGljZS12aWRlby1kdW1teS9zcmMvZHVtbXlfZHJpdmVy
LmMgYi9zcGljZS12aWRlby1kdW1teS9zcmMvZHVtbXlfZHJpdmVyLmMKbmV3IGZpbGUgbW9kZSAx
MDA2NDQKaW5kZXggMDAwMDAwMC4uYjRiNDJmNwotLS0gL2Rldi9udWxsCisrKyBiL3NwaWNlLXZp
ZGVvLWR1bW15L3NyYy9kdW1teV9kcml2ZXIuYwpAQCAtMCwwICsxLDc0MCBAQAorCisvKgorICog
Q29weXJpZ2h0IDIwMDIsIFN1U0UgTGludXggQUcsIEF1dGhvcjogRWdiZXJ0IEVpY2gKKyAqLwor
CisjaWZkZWYgSEFWRV9DT05GSUdfSAorI2luY2x1ZGUgImNvbmZpZy5oIgorI2VuZGlmCisKKy8q
IEFsbCBkcml2ZXJzIHNob3VsZCB0eXBpY2FsbHkgaW5jbHVkZSB0aGVzZSAqLworI2luY2x1ZGUg
InhmODYuaCIKKyNpbmNsdWRlICJ4Zjg2X09TcHJvYy5oIgorCisvKiBBbGwgZHJpdmVycyBpbml0
aWFsaXNpbmcgdGhlIFNXIGN1cnNvciBuZWVkIHRoaXMgKi8KKyNpbmNsdWRlICJtaXBvaW50ZXIu
aCIKKworLyogQWxsIGRyaXZlcnMgdXNpbmcgdGhlIG1pIGNvbG9ybWFwIG1hbmlwdWxhdGlvbiBu
ZWVkIHRoaXMgKi8KKyNpbmNsdWRlICJtaWNtYXAuaCIKKworLyogaWRlbnRpZnlpbmcgYXRvbSBu
ZWVkZWQgYnkgbWFnbmlmaWVycyAqLworI2luY2x1ZGUgPFgxMS9YYXRvbS5oPgorI2luY2x1ZGUg
InByb3BlcnR5LmgiCisKKyNpbmNsdWRlICJ4Zjg2Y21hcC5oIgorCisjaW5jbHVkZSAieGY4NmZi
bWFuLmgiCisKKyNpbmNsdWRlICJmYi5oIgorCisjaW5jbHVkZSAicGljdHVyZXN0ci5oIgorCisv
KgorICogRHJpdmVyIGRhdGEgc3RydWN0dXJlcy4KKyAqLworI2luY2x1ZGUgImR1bW15LmgiCisK
Ky8qIFRoZXNlIG5lZWQgdG8gYmUgY2hlY2tlZCAqLworI2luY2x1ZGUgPFgxMS9YLmg+CisjaW5j
bHVkZSA8WDExL1hwcm90by5oPgorI2luY2x1ZGUgInNjcm5pbnRzdHIuaCIKKyNpbmNsdWRlICJz
ZXJ2ZXJtZC5oIgorCisvKiBNYW5kYXRvcnkgZnVuY3Rpb25zICovCitzdGF0aWMgY29uc3QgT3B0
aW9uSW5mb1JlYyAqCURVTU1ZQXZhaWxhYmxlT3B0aW9ucyhpbnQgY2hpcGlkLCBpbnQgYnVzaWQp
Oworc3RhdGljIHZvaWQgICAgIERVTU1ZSWRlbnRpZnkoaW50IGZsYWdzKTsKK3N0YXRpYyBCb29s
ICAgICBEVU1NWVByb2JlKERyaXZlclB0ciBkcnYsIGludCBmbGFncyk7CitzdGF0aWMgQm9vbCAg
ICAgRFVNTVlQcmVJbml0KFNjcm5JbmZvUHRyIHBTY3JuLCBpbnQgZmxhZ3MpOworc3RhdGljIEJv
b2wgICAgIERVTU1ZU2NyZWVuSW5pdChTQ1JFRU5fSU5JVF9BUkdTX0RFQ0wpOworc3RhdGljIEJv
b2wgICAgIERVTU1ZRW50ZXJWVChWVF9GVU5DX0FSR1NfREVDTCk7CitzdGF0aWMgdm9pZCAgICAg
RFVNTVlMZWF2ZVZUKFZUX0ZVTkNfQVJHU19ERUNMKTsKK3N0YXRpYyBCb29sICAgICBEVU1NWUNs
b3NlU2NyZWVuKENMT1NFX1NDUkVFTl9BUkdTX0RFQ0wpOworc3RhdGljIEJvb2wgICAgIERVTU1Z
Q3JlYXRlV2luZG93KFdpbmRvd1B0ciBwV2luKTsKK3N0YXRpYyB2b2lkICAgICBEVU1NWUZyZWVT
Y3JlZW4oRlJFRV9TQ1JFRU5fQVJHU19ERUNMKTsKK3N0YXRpYyBNb2RlU3RhdHVzIERVTU1ZVmFs
aWRNb2RlKFNDUk5fQVJHX1RZUEUgYXJnLCBEaXNwbGF5TW9kZVB0ciBtb2RlLAorICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgQm9vbCB2ZXJib3NlLCBpbnQgZmxhZ3MpOworc3RhdGlj
IEJvb2wJRFVNTVlTYXZlU2NyZWVuKFNjcmVlblB0ciBwU2NyZWVuLCBpbnQgbW9kZSk7CisKKy8q
IEludGVybmFsbHkgdXNlZCBmdW5jdGlvbnMgKi8KK3N0YXRpYyBCb29sCWR1bW15RHJpdmVyRnVu
YyhTY3JuSW5mb1B0ciBwU2NybiwgeG9yZ0RyaXZlckZ1bmNPcCBvcCwKKwkJCQlwb2ludGVyIHB0
cik7CisKKworLyogc3RhdGljIHZvaWQgICAgIERVTU1ZRGlzcGxheVBvd2VyTWFuYWdlbWVudFNl
dChTY3JuSW5mb1B0ciBwU2NybiwgKi8KKy8qIAkJCQlpbnQgUG93ZXJNYW5hZ2VtZW50TW9kZSwg
aW50IGZsYWdzKTsgKi8KKworI2RlZmluZSBEVU1NWV9WRVJTSU9OIDQwMDAKKyNkZWZpbmUgRFVN
TVlfTkFNRSAiRFVNTVkiCisjZGVmaW5lIERVTU1ZX0RSSVZFUl9OQU1FICJkdW1teSIKKworI2Rl
ZmluZSBEVU1NWV9NQUpPUl9WRVJTSU9OIFBBQ0tBR0VfVkVSU0lPTl9NQUpPUgorI2RlZmluZSBE
VU1NWV9NSU5PUl9WRVJTSU9OIFBBQ0tBR0VfVkVSU0lPTl9NSU5PUgorI2RlZmluZSBEVU1NWV9Q
QVRDSExFVkVMIFBBQ0tBR0VfVkVSU0lPTl9QQVRDSExFVkVMCisKKyNkZWZpbmUgRFVNTVlfTUFY
X1dJRFRIIDMyNzY3CisjZGVmaW5lIERVTU1ZX01BWF9IRUlHSFQgMzI3NjcKKworLyoKKyAqIFRo
aXMgaXMgaW50ZW50aW9uYWxseSBzY3JlZW4taW5kZXBlbmRlbnQuICBJdCBpbmRpY2F0ZXMgdGhl
IGJpbmRpbmcKKyAqIGNob2ljZSBtYWRlIGluIHRoZSBmaXJzdCBQcmVJbml0LgorICovCitzdGF0
aWMgaW50IHBpeDI0YnBwID0gMDsKKworCisvKgorICogVGhpcyBjb250YWlucyB0aGUgZnVuY3Rp
b25zIG5lZWRlZCBieSB0aGUgc2VydmVyIGFmdGVyIGxvYWRpbmcgdGhlIGRyaXZlcgorICogbW9k
dWxlLiAgSXQgbXVzdCBiZSBzdXBwbGllZCwgYW5kIGdldHMgcGFzc2VkIGJhY2sgYnkgdGhlIFNl
dHVwUHJvYworICogZnVuY3Rpb24gaW4gdGhlIGR5bmFtaWMgY2FzZS4gIEluIHRoZSBzdGF0aWMg
Y2FzZSwgYSByZWZlcmVuY2UgdG8gdGhpcworICogaXMgY29tcGlsZWQgaW4sIGFuZCB0aGlzIHJl
cXVpcmVzIHRoYXQgdGhlIG5hbWUgb2YgdGhpcyBEcml2ZXJSZWMgYmUKKyAqIGFuIHVwcGVyLWNh
c2UgdmVyc2lvbiBvZiB0aGUgZHJpdmVyIG5hbWUuCisgKi8KKworX1hfRVhQT1JUIERyaXZlclJl
YyBEVU1NWSA9IHsKKyAgICBEVU1NWV9WRVJTSU9OLAorICAgIERVTU1ZX0RSSVZFUl9OQU1FLAor
ICAgIERVTU1ZSWRlbnRpZnksCisgICAgRFVNTVlQcm9iZSwKKyAgICBEVU1NWUF2YWlsYWJsZU9w
dGlvbnMsCisgICAgTlVMTCwKKyAgICAwLAorICAgIGR1bW15RHJpdmVyRnVuYworfTsKKworc3Rh
dGljIFN5bVRhYlJlYyBEVU1NWUNoaXBzZXRzW10gPSB7CisgICAgeyBEVU1NWV9DSElQLCAgICJk
dW1teSIgfSwKKyAgICB7IC0xLAkJIE5VTEwgfQorfTsKKwordHlwZWRlZiBlbnVtIHsKKyAgICBP
UFRJT05fU1dfQ1VSU09SCit9IERVTU1ZT3B0czsKKworc3RhdGljIGNvbnN0IE9wdGlvbkluZm9S
ZWMgRFVNTVlPcHRpb25zW10gPSB7CisgICAgeyBPUFRJT05fU1dfQ1VSU09SLAkiU1djdXJzb3Ii
LAlPUFRWX0JPT0xFQU4sCXswfSwgRkFMU0UgfSwKKyAgICB7IC0xLCAgICAgICAgICAgICAgICAg
IE5VTEwsICAgICAgICAgICBPUFRWX05PTkUsCXswfSwgRkFMU0UgfQorfTsKKworI2lmZGVmIFhG
cmVlODZMT0FERVIKKworc3RhdGljIE1PRFVMRVNFVFVQUFJPVE8oZHVtbXlTZXR1cCk7CisKK3N0
YXRpYyBYRjg2TW9kdWxlVmVyc2lvbkluZm8gZHVtbXlWZXJzUmVjID0KK3sKKwkiZHVtbXkiLAor
CU1PRFVMRVZFTkRPUlNUUklORywKKwlNT0RJTkZPU1RSSU5HMSwKKwlNT0RJTkZPU1RSSU5HMiwK
KwlYT1JHX1ZFUlNJT05fQ1VSUkVOVCwKKwlEVU1NWV9NQUpPUl9WRVJTSU9OLCBEVU1NWV9NSU5P
Ul9WRVJTSU9OLCBEVU1NWV9QQVRDSExFVkVMLAorCUFCSV9DTEFTU19WSURFT0RSViwKKwlBQklf
VklERU9EUlZfVkVSU0lPTiwKKwlNT0RfQ0xBU1NfVklERU9EUlYsCisJezAsMCwwLDB9Cit9Owor
CisvKgorICogVGhpcyBpcyB0aGUgbW9kdWxlIGluaXQgZGF0YS4KKyAqIEl0cyBuYW1lIGhhcyB0
byBiZSB0aGUgZHJpdmVyIG5hbWUgZm9sbG93ZWQgYnkgTW9kdWxlRGF0YQorICovCitfWF9FWFBP
UlQgWEY4Nk1vZHVsZURhdGEgZHVtbXlNb2R1bGVEYXRhID0geyAmZHVtbXlWZXJzUmVjLCBkdW1t
eVNldHVwLCBOVUxMIH07CisKK3N0YXRpYyBwb2ludGVyCitkdW1teVNldHVwKHBvaW50ZXIgbW9k
dWxlLCBwb2ludGVyIG9wdHMsIGludCAqZXJybWFqLCBpbnQgKmVycm1pbikKK3sKKyAgICBzdGF0
aWMgQm9vbCBzZXR1cERvbmUgPSBGQUxTRTsKKworICAgIGlmICghc2V0dXBEb25lKSB7CisJc2V0
dXBEb25lID0gVFJVRTsKKyAgICAgICAgeGY4NkFkZERyaXZlcigmRFVNTVksIG1vZHVsZSwgSGF2
ZURyaXZlckZ1bmNzKTsKKworCS8qCisJICogTW9kdWxlcyB0aGF0IHRoaXMgZHJpdmVyIGFsd2F5
cyByZXF1aXJlcyBjYW4gYmUgbG9hZGVkIGhlcmUKKwkgKiBieSBjYWxsaW5nIExvYWRTdWJNb2R1
bGUoKS4KKwkgKi8KKworCS8qCisJICogVGhlIHJldHVybiB2YWx1ZSBtdXN0IGJlIG5vbi1OVUxM
IG9uIHN1Y2Nlc3MgZXZlbiB0aG91Z2ggdGhlcmUKKwkgKiBpcyBubyBUZWFyRG93blByb2MuCisJ
ICovCisJcmV0dXJuIChwb2ludGVyKTE7CisgICAgfSBlbHNlIHsKKwlpZiAoZXJybWFqKSAqZXJy
bWFqID0gTERSX09OQ0VPTkxZOworCXJldHVybiBOVUxMOworICAgIH0KK30KKworI2VuZGlmIC8q
IFhGcmVlODZMT0FERVIgKi8KKworc3RhdGljIEJvb2wKK0RVTU1ZR2V0UmVjKFNjcm5JbmZvUHRy
IHBTY3JuKQoreworICAgIC8qCisgICAgICogQWxsb2NhdGUgYSBEVU1NWVJlYywgYW5kIGhvb2sg
aXQgaW50byBwU2Nybi0+ZHJpdmVyUHJpdmF0ZS4KKyAgICAgKiBwU2Nybi0+ZHJpdmVyUHJpdmF0
ZSBpcyBpbml0aWFsaXNlZCB0byBOVUxMLCBzbyB3ZSBjYW4gY2hlY2sgaWYKKyAgICAgKiB0aGUg
YWxsb2NhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIGRvbmUuCisgICAgICovCisgICAgaWYgKHBTY3Ju
LT5kcml2ZXJQcml2YXRlICE9IE5VTEwpCisJcmV0dXJuIFRSVUU7CisKKyAgICBwU2Nybi0+ZHJp
dmVyUHJpdmF0ZSA9IHhuZmNhbGxvYyhzaXplb2YoRFVNTVlSZWMpLCAxKTsKKworICAgIGlmIChw
U2Nybi0+ZHJpdmVyUHJpdmF0ZSA9PSBOVUxMKQorCXJldHVybiBGQUxTRTsKKyAgICByZXR1cm4g
VFJVRTsKK30KKworc3RhdGljIHZvaWQKK0RVTU1ZRnJlZVJlYyhTY3JuSW5mb1B0ciBwU2NybikK
K3sKKyAgICBpZiAocFNjcm4tPmRyaXZlclByaXZhdGUgPT0gTlVMTCkKKwlyZXR1cm47CisgICAg
ZnJlZShwU2Nybi0+ZHJpdmVyUHJpdmF0ZSk7CisgICAgcFNjcm4tPmRyaXZlclByaXZhdGUgPSBO
VUxMOworfQorCitzdGF0aWMgY29uc3QgT3B0aW9uSW5mb1JlYyAqCitEVU1NWUF2YWlsYWJsZU9w
dGlvbnMoaW50IGNoaXBpZCwgaW50IGJ1c2lkKQoreworICAgIHJldHVybiBEVU1NWU9wdGlvbnM7
Cit9CisKKy8qIE1hbmRhdG9yeSAqLworc3RhdGljIHZvaWQKK0RVTU1ZSWRlbnRpZnkoaW50IGZs
YWdzKQoreworICAgIHhmODZQcmludENoaXBzZXRzKERVTU1ZX05BTUUsICJEcml2ZXIgZm9yIER1
bW15IGNoaXBzZXRzIiwKKwkJCURVTU1ZQ2hpcHNldHMpOworfQorCisvKiBNYW5kYXRvcnkgKi8K
K3N0YXRpYyBCb29sCitEVU1NWVByb2JlKERyaXZlclB0ciBkcnYsIGludCBmbGFncykKK3sKKyAg
ICBCb29sIGZvdW5kU2NyZWVuID0gRkFMU0U7CisgICAgaW50IG51bURldlNlY3Rpb25zLCBudW1V
c2VkOworICAgIEdEZXZQdHIgKmRldlNlY3Rpb25zOworICAgIGludCBpOworCisgICAgaWYgKGZs
YWdzICYgUFJPQkVfREVURUNUKQorCXJldHVybiBGQUxTRTsKKyAgICAvKgorICAgICAqIEZpbmQg
dGhlIGNvbmZpZyBmaWxlIERldmljZSBzZWN0aW9ucyB0aGF0IG1hdGNoIHRoaXMKKyAgICAgKiBk
cml2ZXIsIGFuZCByZXR1cm4gaWYgdGhlcmUgYXJlIG5vbmUuCisgICAgICovCisgICAgaWYgKChu
dW1EZXZTZWN0aW9ucyA9IHhmODZNYXRjaERldmljZShEVU1NWV9EUklWRVJfTkFNRSwKKwkJCQkJ
ICAmZGV2U2VjdGlvbnMpKSA8PSAwKSB7CisJcmV0dXJuIEZBTFNFOworICAgIH0KKworICAgIG51
bVVzZWQgPSBudW1EZXZTZWN0aW9uczsKKworICAgIGlmIChudW1Vc2VkID4gMCkgeworCisJZm9y
IChpID0gMDsgaSA8IG51bVVzZWQ7IGkrKykgeworCSAgICBTY3JuSW5mb1B0ciBwU2NybiA9IE5V
TEw7CisJICAgIGludCBlbnRpdHlJbmRleCA9IAorCQl4Zjg2Q2xhaW1Ob1Nsb3QoZHJ2LERVTU1Z
X0NISVAsZGV2U2VjdGlvbnNbaV0sVFJVRSk7CisJICAgIC8qIEFsbG9jYXRlIGEgU2NybkluZm9S
ZWMgYW5kIGNsYWltIHRoZSBzbG90ICovCisJICAgIGlmICgocFNjcm4gPSB4Zjg2QWxsb2NhdGVT
Y3JlZW4oZHJ2LDAgKSkpIHsKKwkJICAgeGY4NkFkZEVudGl0eVRvU2NyZWVuKHBTY3JuLGVudGl0
eUluZGV4KTsKKwkJICAgIHBTY3JuLT5kcml2ZXJWZXJzaW9uID0gRFVNTVlfVkVSU0lPTjsKKwkJ
ICAgIHBTY3JuLT5kcml2ZXJOYW1lICAgID0gRFVNTVlfRFJJVkVSX05BTUU7CisJCSAgICBwU2Ny
bi0+bmFtZSAgICAgICAgICA9IERVTU1ZX05BTUU7CisJCSAgICBwU2Nybi0+UHJvYmUgICAgICAg
ICA9IERVTU1ZUHJvYmU7CisJCSAgICBwU2Nybi0+UHJlSW5pdCAgICAgICA9IERVTU1ZUHJlSW5p
dDsKKwkJICAgIHBTY3JuLT5TY3JlZW5Jbml0ICAgID0gRFVNTVlTY3JlZW5Jbml0OworCQkgICAg
cFNjcm4tPlN3aXRjaE1vZGUgICAgPSBEVU1NWVN3aXRjaE1vZGU7CisJCSAgICBwU2Nybi0+QWRq
dXN0RnJhbWUgICA9IERVTU1ZQWRqdXN0RnJhbWU7CisJCSAgICBwU2Nybi0+RW50ZXJWVCAgICAg
ICA9IERVTU1ZRW50ZXJWVDsKKwkJICAgIHBTY3JuLT5MZWF2ZVZUICAgICAgID0gRFVNTVlMZWF2
ZVZUOworCQkgICAgcFNjcm4tPkZyZWVTY3JlZW4gICAgPSBEVU1NWUZyZWVTY3JlZW47CisJCSAg
ICBwU2Nybi0+VmFsaWRNb2RlICAgICA9IERVTU1ZVmFsaWRNb2RlOworCisJCSAgICBmb3VuZFNj
cmVlbiA9IFRSVUU7CisJICAgIH0KKwl9CisgICAgfSAgICAKKworICAgIGZyZWUoZGV2U2VjdGlv
bnMpOworCisgICAgcmV0dXJuIGZvdW5kU2NyZWVuOworfQorCisjIGRlZmluZSBSRVRVUk4gXAor
ICAgIHsgRFVNTVlGcmVlUmVjKHBTY3JuKTtcCisJCQkgICAgcmV0dXJuIEZBTFNFO1wKKwkJCQkJ
ICAgICB9CisKKy8qIE1hbmRhdG9yeSAqLworQm9vbAorRFVNTVlQcmVJbml0KFNjcm5JbmZvUHRy
IHBTY3JuLCBpbnQgZmxhZ3MpCit7CisgICAgQ2xvY2tSYW5nZVB0ciBjbG9ja1JhbmdlczsKKyAg
ICBpbnQgaTsKKyAgICBEVU1NWVB0ciBkUHRyOworICAgIGludCBtYXhDbG9jayA9IDMwMDAwMDsK
KyAgICBHRGV2UHRyIGRldmljZSA9IHhmODZHZXRFbnRpdHlJbmZvKHBTY3JuLT5lbnRpdHlMaXN0
WzBdKS0+ZGV2aWNlOworCisgICAgaWYgKGZsYWdzICYgUFJPQkVfREVURUNUKSAKKwlyZXR1cm4g
VFJVRTsKKyAgICAKKyAgICAvKiBBbGxvY2F0ZSB0aGUgRHVtbXlSZWMgZHJpdmVyUHJpdmF0ZSAq
LworICAgIGlmICghRFVNTVlHZXRSZWMocFNjcm4pKSB7CisJcmV0dXJuIEZBTFNFOworICAgIH0K
KyAgICAKKyAgICBkUHRyID0gRFVNTVlQVFIocFNjcm4pOworCisgICAgcFNjcm4tPmNoaXBzZXQg
PSAoY2hhciAqKXhmODZUb2tlblRvU3RyaW5nKERVTU1ZQ2hpcHNldHMsCisJCQkJCSAgICAgICBE
VU1NWV9DSElQKTsKKworICAgIHhmODZEcnZNc2cocFNjcm4tPnNjcm5JbmRleCwgWF9JTkZPLCAi
Q2hpcHNldCBpcyBhIERVTU1ZXG4iKTsKKyAgICAKKyAgICBwU2Nybi0+bW9uaXRvciA9IHBTY3Ju
LT5jb25mU2NyZWVuLT5tb25pdG9yOworCisgICAgaWYgKCF4Zjg2U2V0RGVwdGhCcHAocFNjcm4s
IDAsIDAsIDAsICBTdXBwb3J0MjRicHBGYiB8IFN1cHBvcnQzMmJwcEZiKSkKKwlyZXR1cm4gRkFM
U0U7CisgICAgZWxzZSB7CisJLyogQ2hlY2sgdGhhdCB0aGUgcmV0dXJuZWQgZGVwdGggaXMgb25l
IHdlIHN1cHBvcnQgKi8KKwlzd2l0Y2ggKHBTY3JuLT5kZXB0aCkgeworCWNhc2UgODoKKwljYXNl
IDE1OgorCWNhc2UgMTY6CisJY2FzZSAyNDoKKwljYXNlIDMwOgorCSAgICBicmVhazsKKwlkZWZh
dWx0OgorCSAgICB4Zjg2RHJ2TXNnKHBTY3JuLT5zY3JuSW5kZXgsIFhfRVJST1IsCisJCSAgICAg
ICAiR2l2ZW4gZGVwdGggKCVkKSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgZHJpdmVyXG4iLAor
CQkgICAgICAgcFNjcm4tPmRlcHRoKTsKKwkgICAgcmV0dXJuIEZBTFNFOworCX0KKyAgICB9CisK
KyAgICB4Zjg2UHJpbnREZXB0aEJwcChwU2Nybik7CisgICAgaWYgKHBTY3JuLT5kZXB0aCA9PSA4
KQorCXBTY3JuLT5yZ2JCaXRzID0gODsKKworICAgIC8qIEdldCB0aGUgZGVwdGgyNCBwaXhtYXAg
Zm9ybWF0ICovCisgICAgaWYgKHBTY3JuLT5kZXB0aCA9PSAyNCAmJiBwaXgyNGJwcCA9PSAwKQor
CXBpeDI0YnBwID0geGY4NkdldEJwcEZyb21EZXB0aChwU2NybiwgMjQpOworCisgICAgLyoKKyAg
ICAgKiBUaGlzIG11c3QgaGFwcGVuIGFmdGVyIHBTY3JuLT5kaXNwbGF5IGhhcyBiZWVuIHNldCBi
ZWNhdXNlCisgICAgICogeGY4NlNldFdlaWdodCByZWZlcmVuY2VzIGl0LgorICAgICAqLworICAg
IGlmIChwU2Nybi0+ZGVwdGggPiA4KSB7CisJLyogVGhlIGRlZmF1bHRzIGFyZSBPSyBmb3IgdXMg
Ki8KKwlyZ2IgemVyb3MgPSB7MCwgMCwgMH07CisKKwlpZiAoIXhmODZTZXRXZWlnaHQocFNjcm4s
IHplcm9zLCB6ZXJvcykpIHsKKwkgICAgcmV0dXJuIEZBTFNFOworCX0gZWxzZSB7CisJICAgIC8q
IFhYWCBjaGVjayB0aGF0IHdlaWdodCByZXR1cm5lZCBpcyBzdXBwb3J0ZWQgKi8KKwkgICAgOwor
CX0KKyAgICB9CisKKyAgICBpZiAoIXhmODZTZXREZWZhdWx0VmlzdWFsKHBTY3JuLCAtMSkpIAor
CXJldHVybiBGQUxTRTsKKworICAgIGlmIChwU2Nybi0+ZGVwdGggPiAxKSB7CisJR2FtbWEgemVy
b3MgPSB7MC4wLCAwLjAsIDAuMH07CisKKwlpZiAoIXhmODZTZXRHYW1tYShwU2NybiwgemVyb3Mp
KQorCSAgICByZXR1cm4gRkFMU0U7CisgICAgfQorCisgICAgeGY4NkNvbGxlY3RPcHRpb25zKHBT
Y3JuLCBkZXZpY2UtPm9wdGlvbnMpOworICAgIC8qIFByb2Nlc3MgdGhlIG9wdGlvbnMgKi8KKyAg
ICBpZiAoIShkUHRyLT5PcHRpb25zID0gbWFsbG9jKHNpemVvZihEVU1NWU9wdGlvbnMpKSkpCisJ
cmV0dXJuIEZBTFNFOworICAgIG1lbWNweShkUHRyLT5PcHRpb25zLCBEVU1NWU9wdGlvbnMsIHNp
emVvZihEVU1NWU9wdGlvbnMpKTsKKworICAgIHhmODZQcm9jZXNzT3B0aW9ucyhwU2Nybi0+c2Ny
bkluZGV4LCBwU2Nybi0+b3B0aW9ucywgZFB0ci0+T3B0aW9ucyk7CisKKyAgICB4Zjg2R2V0T3B0
VmFsQm9vbChkUHRyLT5PcHRpb25zLCBPUFRJT05fU1dfQ1VSU09SLCZkUHRyLT5zd0N1cnNvcik7
CisKKyAgICBpZiAoZGV2aWNlLT52aWRlb1JhbSAhPSAwKSB7CisJcFNjcm4tPnZpZGVvUmFtID0g
ZGV2aWNlLT52aWRlb1JhbTsKKwl4Zjg2RHJ2TXNnKHBTY3JuLT5zY3JuSW5kZXgsIFhfQ09ORklH
LCAiVmlkZW9SQU06ICVkIGtCeXRlXG4iLAorCQkgICBwU2Nybi0+dmlkZW9SYW0pOworICAgIH0g
ZWxzZSB7CisJcFNjcm4tPnZpZGVvUmFtID0gNDA5NjsKKwl4Zjg2RHJ2TXNnKHBTY3JuLT5zY3Ju
SW5kZXgsIFhfUFJPQkVELCAiVmlkZW9SQU06ICVkIGtCeXRlXG4iLAorCQkgICBwU2Nybi0+dmlk
ZW9SYW0pOworICAgIH0KKyAgICAKKyAgICBpZiAoZGV2aWNlLT5kYWNTcGVlZHNbMF0gIT0gMCkg
eworCW1heENsb2NrID0gZGV2aWNlLT5kYWNTcGVlZHNbMF07CisJeGY4NkRydk1zZyhwU2Nybi0+
c2NybkluZGV4LCBYX0NPTkZJRywgIk1heCBDbG9jazogJWQga0h6XG4iLAorCQkgICBtYXhDbG9j
ayk7CisgICAgfSBlbHNlIHsKKwl4Zjg2RHJ2TXNnKHBTY3JuLT5zY3JuSW5kZXgsIFhfUFJPQkVE
LCAiTWF4IENsb2NrOiAlZCBrSHpcbiIsCisJCSAgIG1heENsb2NrKTsKKyAgICB9CisKKyAgICBw
U2Nybi0+cHJvZ0Nsb2NrID0gVFJVRTsKKyAgICAvKgorICAgICAqIFNldHVwIHRoZSBDbG9ja1Jh
bmdlcywgd2hpY2ggZGVzY3JpYmUgd2hhdCBjbG9jayByYW5nZXMgYXJlIGF2YWlsYWJsZSwKKyAg
ICAgKiBhbmQgd2hhdCBzb3J0IG9mIG1vZGVzIHRoZXkgY2FuIGJlIHVzZWQgZm9yLgorICAgICAq
LworICAgIGNsb2NrUmFuZ2VzID0gKENsb2NrUmFuZ2VQdHIpeG5mY2FsbG9jKHNpemVvZihDbG9j
a1JhbmdlKSwgMSk7CisgICAgY2xvY2tSYW5nZXMtPm5leHQgPSBOVUxMOworICAgIGNsb2NrUmFu
Z2VzLT5DbG9ja011bEZhY3RvciA9IDE7CisgICAgY2xvY2tSYW5nZXMtPm1pbkNsb2NrID0gMTEw
MDA7ICAgLyogZ3Vlc3NlZCDCp8KnwqcgKi8KKyAgICBjbG9ja1Jhbmdlcy0+bWF4Q2xvY2sgPSBt
YXhDbG9jazsKKyAgICBjbG9ja1Jhbmdlcy0+Y2xvY2tJbmRleCA9IC0xOwkJLyogcHJvZ3JhbW1h
YmxlICovCisgICAgY2xvY2tSYW5nZXMtPmludGVybGFjZUFsbG93ZWQgPSBUUlVFOyAKKyAgICBj
bG9ja1Jhbmdlcy0+ZG91YmxlU2NhbkFsbG93ZWQgPSBUUlVFOworCisgICAgLyogU3VidHJhY3Qg
bWVtb3J5IGZvciBIVyBjdXJzb3IgKi8KKworCisgICAgeworCWludCBhcGVydHVyZVNpemUgPSAo
cFNjcm4tPnZpZGVvUmFtICogMTAyNCk7CisJaSA9IHhmODZWYWxpZGF0ZU1vZGVzKHBTY3JuLCBw
U2Nybi0+bW9uaXRvci0+TW9kZXMsCisJCQkgICAgICBwU2Nybi0+ZGlzcGxheS0+bW9kZXMsIGNs
b2NrUmFuZ2VzLAorCQkJICAgICAgTlVMTCwgMjU2LCBEVU1NWV9NQVhfV0lEVEgsCisJCQkgICAg
ICAoOCAqIHBTY3JuLT5iaXRzUGVyUGl4ZWwpLAorCQkJICAgICAgMTI4LCBEVU1NWV9NQVhfSEVJ
R0hULCBwU2Nybi0+ZGlzcGxheS0+dmlydHVhbFgsCisJCQkgICAgICBwU2Nybi0+ZGlzcGxheS0+
dmlydHVhbFksIGFwZXJ0dXJlU2l6ZSwKKwkJCSAgICAgIExPT0tVUF9CRVNUX1JFRlJFU0gpOwor
CisgICAgICAgaWYgKGkgPT0gLTEpCisgICAgICAgICAgIFJFVFVSTjsKKyAgICB9CisKKyAgICAv
KiBQcnVuZSB0aGUgbW9kZXMgbWFya2VkIGFzIGludmFsaWQgKi8KKyAgICB4Zjg2UHJ1bmVEcml2
ZXJNb2RlcyhwU2Nybik7CisKKyAgICBpZiAoaSA9PSAwIHx8IHBTY3JuLT5tb2RlcyA9PSBOVUxM
KSB7CisJeGY4NkRydk1zZyhwU2Nybi0+c2NybkluZGV4LCBYX0VSUk9SLCAiTm8gdmFsaWQgbW9k
ZXMgZm91bmRcbiIpOworCVJFVFVSTjsKKyAgICB9CisKKyAgICAvKgorICAgICAqIFNldCB0aGUg
Q1JUQyBwYXJhbWV0ZXJzIGZvciBhbGwgb2YgdGhlIG1vZGVzIGJhc2VkIG9uIHRoZSB0eXBlCisg
ICAgICogb2YgbW9kZSwgYW5kIHRoZSBjaGlwc2V0J3MgaW50ZXJsYWNlIHJlcXVpcmVtZW50cy4K
KyAgICAgKgorICAgICAqIENhbGxpbmcgdGhpcyBpcyByZXF1aXJlZCBpZiB0aGUgbW9kZS0+Q3J0
YyogdmFsdWVzIGFyZSB1c2VkIGJ5IHRoZQorICAgICAqIGRyaXZlciBhbmQgaWYgdGhlIGRyaXZl
ciBkb2Vzbid0IHByb3ZpZGUgY29kZSB0byBzZXQgdGhlbS4gIFRoZXkKKyAgICAgKiBhcmUgbm90
IHByZS1pbml0aWFsaXNlZCBhdCBhbGwuCisgICAgICovCisgICAgeGY4NlNldENydGNGb3JNb2Rl
cyhwU2NybiwgMCk7IAorIAorICAgIC8qIFNldCB0aGUgY3VycmVudCBtb2RlIHRvIHRoZSBmaXJz
dCBpbiB0aGUgbGlzdCAqLworICAgIHBTY3JuLT5jdXJyZW50TW9kZSA9IHBTY3JuLT5tb2RlczsK
KworICAgIC8qIFByaW50IHRoZSBsaXN0IG9mIG1vZGVzIGJlaW5nIHVzZWQgKi8KKyAgICB4Zjg2
UHJpbnRNb2RlcyhwU2Nybik7CisKKyAgICAvKiBJZiBtb25pdG9yIHJlc29sdXRpb24gaXMgc2V0
IG9uIHRoZSBjb21tYW5kIGxpbmUsIHVzZSBpdCAqLworICAgIHhmODZTZXREcGkocFNjcm4sIDAs
IDApOworCisgICAgaWYgKHhmODZMb2FkU3ViTW9kdWxlKHBTY3JuLCAiZmIiKSA9PSBOVUxMKSB7
CisJUkVUVVJOOworICAgIH0KKworICAgIGlmICghZFB0ci0+c3dDdXJzb3IpIHsKKwlpZiAoIXhm
ODZMb2FkU3ViTW9kdWxlKHBTY3JuLCAicmFtZGFjIikpCisJICAgIFJFVFVSTjsKKyAgICB9Cisg
ICAgCisgICAgLyogV2UgaGF2ZSBubyBjb250aWd1b3VzIHBoeXNpY2FsIGZiIGluIHBoeXNpY2Fs
IG1lbW9yeSAqLworICAgIHBTY3JuLT5tZW1QaHlzQmFzZSA9IDA7CisgICAgcFNjcm4tPmZiT2Zm
c2V0ID0gMDsKKworICAgIHJldHVybiBUUlVFOworfQorI3VuZGVmIFJFVFVSTgorCisvKiBNYW5k
YXRvcnkgKi8KK3N0YXRpYyBCb29sCitEVU1NWUVudGVyVlQoVlRfRlVOQ19BUkdTX0RFQ0wpCit7
CisgICAgcmV0dXJuIFRSVUU7Cit9CisKKy8qIE1hbmRhdG9yeSAqLworc3RhdGljIHZvaWQKK0RV
TU1ZTGVhdmVWVChWVF9GVU5DX0FSR1NfREVDTCkKK3sKK30KKworc3RhdGljIHZvaWQKK0RVTU1Z
TG9hZFBhbGV0dGUoCisgICBTY3JuSW5mb1B0ciBwU2NybiwKKyAgIGludCBudW1Db2xvcnMsCisg
ICBpbnQgKmluZGljZXMsCisgICBMT0NPICpjb2xvcnMsCisgICBWaXN1YWxQdHIgcFZpc3VhbAor
KXsKKyAgIGludCBpLCBpbmRleCwgc2hpZnQsIEdzaGlmdDsKKyAgIERVTU1ZUHRyIGRQdHIgPSBE
VU1NWVBUUihwU2Nybik7CisKKyAgIHN3aXRjaChwU2Nybi0+ZGVwdGgpIHsKKyAgIGNhc2UgMTU6
CQorCXNoaWZ0ID0gR3NoaWZ0ID0gMTsKKwlicmVhazsKKyAgIGNhc2UgMTY6CisJc2hpZnQgPSAw
OyAKKyAgICAgICAgR3NoaWZ0ID0gMDsKKwlicmVhazsKKyAgIGRlZmF1bHQ6CisJc2hpZnQgPSBH
c2hpZnQgPSAwOworCWJyZWFrOworICAgfQorCisgICBmb3IoaSA9IDA7IGkgPCBudW1Db2xvcnM7
IGkrKykgeworICAgICAgIGluZGV4ID0gaW5kaWNlc1tpXTsKKyAgICAgICBkUHRyLT5jb2xvcnNb
aW5kZXhdLnJlZCA9IGNvbG9yc1tpbmRleF0ucmVkIDw8IHNoaWZ0OworICAgICAgIGRQdHItPmNv
bG9yc1tpbmRleF0uZ3JlZW4gPSBjb2xvcnNbaW5kZXhdLmdyZWVuIDw8IEdzaGlmdDsKKyAgICAg
ICBkUHRyLT5jb2xvcnNbaW5kZXhdLmJsdWUgPSBjb2xvcnNbaW5kZXhdLmJsdWUgPDwgc2hpZnQ7
CisgICB9IAorCit9CisKK3N0YXRpYyBTY3JuSW5mb1B0ciBEVU1NWVNjcm47IC8qIHN0YXRpYy1n
bG9iYWxpemUgaXQgKi8KKworLyogTWFuZGF0b3J5ICovCitzdGF0aWMgQm9vbAorRFVNTVlTY3Jl
ZW5Jbml0KFNDUkVFTl9JTklUX0FSR1NfREVDTCkKK3sKKyAgICBTY3JuSW5mb1B0ciBwU2NybjsK
KyAgICBEVU1NWVB0ciBkUHRyOworICAgIGludCByZXQ7CisgICAgVmlzdWFsUHRyIHZpc3VhbDsK
KyAgICB2b2lkICpwaXhlbHM7CisKKyAgICAvKgorICAgICAqIHdlIG5lZWQgdG8gZ2V0IHRoZSBT
Y3JuSW5mb1JlYyBmb3IgdGhpcyBzY3JlZW4sIHNvIGxldCdzIGFsbG9jYXRlCisgICAgICogb25l
IGZpcnN0IHRoaW5nCisgICAgICovCisgICAgcFNjcm4gPSB4Zjg2U2NyZWVuVG9TY3JuKHBTY3Jl
ZW4pOworICAgIGRQdHIgPSBEVU1NWVBUUihwU2Nybik7CisgICAgRFVNTVlTY3JuID0gcFNjcm47
CisKKworICAgIGlmICghKHBpeGVscyA9IG1hbGxvYyhwU2Nybi0+dmlkZW9SYW0gKiAxMDI0KSkp
CisJcmV0dXJuIEZBTFNFOworCisgICAgLyoKKyAgICAgKiBSZXNldCB2aXN1YWwgbGlzdC4KKyAg
ICAgKi8KKyAgICBtaUNsZWFyVmlzdWFsVHlwZXMoKTsKKyAgICAKKyAgICAvKiBTZXR1cCB0aGUg
dmlzdWFscyB3ZSBzdXBwb3J0LiAqLworICAgIAorICAgIGlmICghbWlTZXRWaXN1YWxUeXBlcyhw
U2Nybi0+ZGVwdGgsCisgICAgICAJCSAgICAgIG1pR2V0RGVmYXVsdFZpc3VhbE1hc2socFNjcm4t
PmRlcHRoKSwKKwkJICAgICAgcFNjcm4tPnJnYkJpdHMsIHBTY3JuLT5kZWZhdWx0VmlzdWFsKSkK
KyAgICAgICAgIHJldHVybiBGQUxTRTsKKworICAgIGlmICghbWlTZXRQaXhtYXBEZXB0aHMgKCkp
IHJldHVybiBGQUxTRTsKKworICAgIC8qCisgICAgICogQ2FsbCB0aGUgZnJhbWVidWZmZXIgbGF5
ZXIncyBTY3JlZW5Jbml0IGZ1bmN0aW9uLCBhbmQgZmlsbCBpbiBvdGhlcgorICAgICAqIHBTY3Jl
ZW4gZmllbGRzLgorICAgICAqLworICAgIHJldCA9IGZiU2NyZWVuSW5pdChwU2NyZWVuLCBwaXhl
bHMsCisJCQkgICAgcFNjcm4tPnZpcnR1YWxYLCBwU2Nybi0+dmlydHVhbFksCisJCQkgICAgcFNj
cm4tPnhEcGksIHBTY3JuLT55RHBpLAorCQkJICAgIHBTY3JuLT5kaXNwbGF5V2lkdGgsIHBTY3Ju
LT5iaXRzUGVyUGl4ZWwpOworICAgIGlmICghcmV0KQorCXJldHVybiBGQUxTRTsKKworICAgIGlm
IChwU2Nybi0+ZGVwdGggPiA4KSB7CisgICAgICAgIC8qIEZpeHVwIFJHQiBvcmRlcmluZyAqLwor
ICAgICAgICB2aXN1YWwgPSBwU2NyZWVuLT52aXN1YWxzICsgcFNjcmVlbi0+bnVtVmlzdWFsczsK
KyAgICAgICAgd2hpbGUgKC0tdmlzdWFsID49IHBTY3JlZW4tPnZpc3VhbHMpIHsKKwkgICAgaWYg
KCh2aXN1YWwtPmNsYXNzIHwgRHluYW1pY0NsYXNzKSA9PSBEaXJlY3RDb2xvcikgeworCQl2aXN1
YWwtPm9mZnNldFJlZCA9IHBTY3JuLT5vZmZzZXQucmVkOworCQl2aXN1YWwtPm9mZnNldEdyZWVu
ID0gcFNjcm4tPm9mZnNldC5ncmVlbjsKKwkJdmlzdWFsLT5vZmZzZXRCbHVlID0gcFNjcm4tPm9m
ZnNldC5ibHVlOworCQl2aXN1YWwtPnJlZE1hc2sgPSBwU2Nybi0+bWFzay5yZWQ7CisJCXZpc3Vh
bC0+Z3JlZW5NYXNrID0gcFNjcm4tPm1hc2suZ3JlZW47CisJCXZpc3VhbC0+Ymx1ZU1hc2sgPSBw
U2Nybi0+bWFzay5ibHVlOworCSAgICB9CisJfQorICAgIH0KKyAgICAKKyAgICAvKiBtdXN0IGJl
IGFmdGVyIFJHQiBvcmRlcmluZyBmaXhlZCAqLworICAgIGZiUGljdHVyZUluaXQocFNjcmVlbiwg
MCwgMCk7CisKKyAgICB4Zjg2U2V0QmxhY2tXaGl0ZVBpeGVscyhwU2NyZWVuKTsKKworICAgIGlm
IChkUHRyLT5zd0N1cnNvcikKKwl4Zjg2RHJ2TXNnKHBTY3JuLT5zY3JuSW5kZXgsIFhfQ09ORklH
LCAiVXNpbmcgU29mdHdhcmUgQ3Vyc29yLlxuIik7CisKKyAgICB7CisKKwkgCisJQm94UmVjIEF2
YWlsRkJBcmVhOworCWludCBsaW5lcyA9IHBTY3JuLT52aWRlb1JhbSAqIDEwMjQgLworCSAgICAo
cFNjcm4tPmRpc3BsYXlXaWR0aCAqIChwU2Nybi0+Yml0c1BlclBpeGVsID4+IDMpKTsKKwlBdmFp
bEZCQXJlYS54MSA9IDA7CisJQXZhaWxGQkFyZWEueTEgPSAwOworCUF2YWlsRkJBcmVhLngyID0g
cFNjcm4tPmRpc3BsYXlXaWR0aDsKKwlBdmFpbEZCQXJlYS55MiA9IGxpbmVzOworCXhmODZJbml0
RkJNYW5hZ2VyKHBTY3JlZW4sICZBdmFpbEZCQXJlYSk7IAorCQorCXhmODZEcnZNc2cocFNjcm4t
PnNjcm5JbmRleCwgWF9JTkZPLCAKKwkJICAgIlVzaW5nICVpIHNjYW5saW5lcyBvZiBvZmZzY3Jl
ZW4gbWVtb3J5IFxuIgorCQkgICAsIGxpbmVzIC0gcFNjcm4tPnZpcnR1YWxZKTsKKyAgICB9CisK
KyAgICB4Zjg2U2V0QmFja2luZ1N0b3JlKHBTY3JlZW4pOworICAgIHhmODZTZXRTaWxrZW5Nb3Vz
ZShwU2NyZWVuKTsKKwkKKyAgICAvKiBJbml0aWFsaXNlIGN1cnNvciBmdW5jdGlvbnMgKi8KKyAg
ICBtaURDSW5pdGlhbGl6ZSAocFNjcmVlbiwgeGY4NkdldFBvaW50ZXJTY3JlZW5GdW5jcygpKTsK
KworCisgICAgaWYgKCFkUHRyLT5zd0N1cnNvcikgeworICAgICAgLyogSFcgY3Vyc29yIGZ1bmN0
aW9ucyAqLworICAgICAgaWYgKCFEVU1NWUN1cnNvckluaXQocFNjcmVlbikpIHsKKwkgIHhmODZE
cnZNc2cocFNjcm4tPnNjcm5JbmRleCwgWF9FUlJPUiwKKwkJICAgICAiSGFyZHdhcmUgY3Vyc29y
IGluaXRpYWxpemF0aW9uIGZhaWxlZFxuIik7CisJICByZXR1cm4gRkFMU0U7CisgICAgICB9Cisg
ICAgfQorICAgIAorICAgIC8qIEluaXRpYWxpc2UgZGVmYXVsdCBjb2xvdXJtYXAgKi8KKyAgICBp
ZighbWlDcmVhdGVEZWZDb2xvcm1hcChwU2NyZWVuKSkKKwlyZXR1cm4gRkFMU0U7CisKKyAgICBp
ZiAoIXhmODZIYW5kbGVDb2xvcm1hcHMocFNjcmVlbiwgMTAyNCwgcFNjcm4tPnJnYkJpdHMsCisg
ICAgICAgICAgICAgICAgICAgICAgICAgRFVNTVlMb2FkUGFsZXR0ZSwgTlVMTCwgCisgICAgICAg
ICAgICAgICAgICAgICAgICAgQ01BUF9QQUxFVFRFRF9UUlVFQ09MT1IgCisJCQkgICAgIHwgQ01B
UF9SRUxPQURfT05fTU9ERV9TV0lUQ0gpKQorCXJldHVybiBGQUxTRTsKKworICAgIHBTY3JlZW4t
PlNhdmVTY3JlZW4gPSBEVU1NWVNhdmVTY3JlZW47CisKKyAgICAKKyAgICAvKiBXcmFwIHRoZSBj
dXJyZW50IENsb3NlU2NyZWVuIGZ1bmN0aW9uICovCisgICAgZFB0ci0+Q2xvc2VTY3JlZW4gPSBw
U2NyZWVuLT5DbG9zZVNjcmVlbjsKKyAgICBwU2NyZWVuLT5DbG9zZVNjcmVlbiA9IERVTU1ZQ2xv
c2VTY3JlZW47CisKKyAgICAvKiBXcmFwIHRoZSBjdXJyZW50IENyZWF0ZVdpbmRvdyBmdW5jdGlv
biAqLworICAgIGRQdHItPkNyZWF0ZVdpbmRvdyA9IHBTY3JlZW4tPkNyZWF0ZVdpbmRvdzsKKyAg
ICBwU2NyZWVuLT5DcmVhdGVXaW5kb3cgPSBEVU1NWUNyZWF0ZVdpbmRvdzsKKworICAgIC8qIFJl
cG9ydCBhbnkgdW51c2VkIG9wdGlvbnMgKG9ubHkgZm9yIHRoZSBmaXJzdCBnZW5lcmF0aW9uKSAq
LworICAgIGlmIChzZXJ2ZXJHZW5lcmF0aW9uID09IDEpIHsKKwl4Zjg2U2hvd1VudXNlZE9wdGlv
bnMocFNjcm4tPnNjcm5JbmRleCwgcFNjcm4tPm9wdGlvbnMpOworICAgIH0KKworICAgIHJldHVy
biBUUlVFOworfQorCisvKiBNYW5kYXRvcnkgKi8KK0Jvb2wKK0RVTU1ZU3dpdGNoTW9kZShTV0lU
Q0hfTU9ERV9BUkdTX0RFQ0wpCit7CisgICAgcmV0dXJuIFRSVUU7Cit9CisKKy8qIE1hbmRhdG9y
eSAqLwordm9pZAorRFVNTVlBZGp1c3RGcmFtZShBREpVU1RfRlJBTUVfQVJHU19ERUNMKQorewor
fQorCisvKiBNYW5kYXRvcnkgKi8KK3N0YXRpYyBCb29sCitEVU1NWUNsb3NlU2NyZWVuKENMT1NF
X1NDUkVFTl9BUkdTX0RFQ0wpCit7CisgICAgU2NybkluZm9QdHIgcFNjcm4gPSB4Zjg2U2NyZWVu
VG9TY3JuKHBTY3JlZW4pOworICAgIERVTU1ZUHRyIGRQdHIgPSBEVU1NWVBUUihwU2Nybik7CisK
KyAgICBmcmVlKHBTY3JlZW4tPkdldFNjcmVlblBpeG1hcChwU2NyZWVuKS0+ZGV2UHJpdmF0ZS5w
dHIpOworCisgICAgaWYgKGRQdHItPkN1cnNvckluZm8pCisJeGY4NkRlc3Ryb3lDdXJzb3JJbmZv
UmVjKGRQdHItPkN1cnNvckluZm8pOworCisgICAgcFNjcm4tPnZ0U2VtYSA9IEZBTFNFOworICAg
IHBTY3JlZW4tPkNsb3NlU2NyZWVuID0gZFB0ci0+Q2xvc2VTY3JlZW47CisgICAgcmV0dXJuICgq
cFNjcmVlbi0+Q2xvc2VTY3JlZW4pKENMT1NFX1NDUkVFTl9BUkdTKTsKK30KKworLyogT3B0aW9u
YWwgKi8KK3N0YXRpYyB2b2lkCitEVU1NWUZyZWVTY3JlZW4oRlJFRV9TQ1JFRU5fQVJHU19ERUNM
KQoreworICAgIFNDUk5fSU5GT19QVFIoYXJnKTsKKyAgICBEVU1NWUZyZWVSZWMocFNjcm4pOwor
fQorCitzdGF0aWMgQm9vbAorRFVNTVlTYXZlU2NyZWVuKFNjcmVlblB0ciBwU2NyZWVuLCBpbnQg
bW9kZSkKK3sKKyAgICByZXR1cm4gVFJVRTsKK30KKworLyogT3B0aW9uYWwgKi8KK3N0YXRpYyBN
b2RlU3RhdHVzCitEVU1NWVZhbGlkTW9kZShTQ1JOX0FSR19UWVBFIGFyZywgRGlzcGxheU1vZGVQ
dHIgbW9kZSwgQm9vbCB2ZXJib3NlLCBpbnQgZmxhZ3MpCit7CisgICAgcmV0dXJuKE1PREVfT0sp
OworfQorCitBdG9tIFZGQl9QUk9QICA9IDA7CisjZGVmaW5lICBWRkJfUFJPUF9OQU1FICAiVkZC
X0lERU5UIgorCitzdGF0aWMgQm9vbAorRFVNTVlDcmVhdGVXaW5kb3coV2luZG93UHRyIHBXaW4p
Cit7CisgICAgU2NyZWVuUHRyIHBTY3JlZW4gPSBwV2luLT5kcmF3YWJsZS5wU2NyZWVuOworICAg
IERVTU1ZUHRyIGRQdHIgPSBEVU1NWVBUUihEVU1NWVNjcm4pOworICAgIFdpbmRvd1B0ciBwV2lu
Um9vdDsKKyAgICBpbnQgcmV0OworCisgICAgcFNjcmVlbi0+Q3JlYXRlV2luZG93ID0gZFB0ci0+
Q3JlYXRlV2luZG93OworICAgIHJldCA9IHBTY3JlZW4tPkNyZWF0ZVdpbmRvdyhwV2luKTsKKyAg
ICBkUHRyLT5DcmVhdGVXaW5kb3cgPSBwU2NyZWVuLT5DcmVhdGVXaW5kb3c7CisgICAgcFNjcmVl
bi0+Q3JlYXRlV2luZG93ID0gRFVNTVlDcmVhdGVXaW5kb3c7CisKKyAgICBpZihyZXQgIT0gVFJV
RSkKKwlyZXR1cm4ocmV0KTsKKwkKKyAgICBpZihkUHRyLT5wcm9wID09IEZBTFNFKSB7CisjaWYg
R0VUX0FCSV9NQUpPUihBQklfVklERU9EUlZfVkVSU0lPTikgPCA4CisgICAgICAgIHBXaW5Sb290
ID0gV2luZG93VGFibGVbRFVNTVlTY3JuLT5wU2NyZWVuLT5teU51bV07CisjZWxzZQorICAgICAg
ICBwV2luUm9vdCA9IERVTU1ZU2Nybi0+cFNjcmVlbi0+cm9vdDsKKyNlbmRpZgorICAgICAgICBp
ZiAoISBWYWxpZEF0b20oVkZCX1BST1ApKQorICAgICAgICAgICAgVkZCX1BST1AgPSBNYWtlQXRv
bShWRkJfUFJPUF9OQU1FLCBzdHJsZW4oVkZCX1BST1BfTkFNRSksIDEpOworCisgICAgICAgIHJl
dCA9IGRpeENoYW5nZVdpbmRvd1Byb3BlcnR5KHNlcnZlckNsaWVudCwgcFdpblJvb3QsIFZGQl9Q
Uk9QLAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBYQV9TVFJJTkcsIDgs
IFByb3BNb2RlUmVwbGFjZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
KGludCk0LCAocG9pbnRlcikiVFJVRSIsIEZBTFNFKTsKKwlpZiggcmV0ICE9IFN1Y2Nlc3MpCisJ
CUVycm9yRigiQ291bGQgbm90IHNldCBWRkIgcm9vdCB3aW5kb3cgcHJvcGVydHkiKTsKKyAgICAg
ICAgZFB0ci0+cHJvcCA9IFRSVUU7CisKKwlyZXR1cm4gVFJVRTsKKyAgICB9CisgICAgcmV0dXJu
IFRSVUU7Cit9CisKKyNpZm5kZWYgSFdfU0tJUF9DT05TT0xFCisjZGVmaW5lIEhXX1NLSVBfQ09O
U09MRSA0CisjZW5kaWYKKworc3RhdGljIEJvb2wKK2R1bW15RHJpdmVyRnVuYyhTY3JuSW5mb1B0
ciBwU2NybiwgeG9yZ0RyaXZlckZ1bmNPcCBvcCwgcG9pbnRlciBwdHIpCit7CisgICAgQ0FSRDMy
ICpmbGFnOworICAgIAorICAgIHN3aXRjaCAob3ApIHsKKwljYXNlIEdFVF9SRVFVSVJFRF9IV19J
TlRFUkZBQ0VTOgorCSAgICBmbGFnID0gKENBUkQzMiopcHRyOworCSAgICAoKmZsYWcpID0gSFdf
U0tJUF9DT05TT0xFOworCSAgICByZXR1cm4gVFJVRTsKKwlkZWZhdWx0OgorCSAgICByZXR1cm4g
RkFMU0U7CisgICAgfQorfQotLSAKMi4xMS4wCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxA
bGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxt
YW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
