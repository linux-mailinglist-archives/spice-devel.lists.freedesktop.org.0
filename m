Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8DF377DE63
	for <lists+spice-devel@lfdr.de>; Thu,  1 Aug 2019 17:01:41 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 1947E6E6C6;
	Thu,  1 Aug 2019 15:01:40 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-wm1-f44.google.com (mail-wm1-f44.google.com
 [209.85.128.44])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B20D16E6C2
 for <spice-devel@lists.freedesktop.org>; Thu,  1 Aug 2019 15:01:38 +0000 (UTC)
Received: by mail-wm1-f44.google.com with SMTP id 207so64999490wma.1
 for <spice-devel@lists.freedesktop.org>; Thu, 01 Aug 2019 08:01:38 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:subject:to:references:from:message-id:date
 :user-agent:mime-version:in-reply-to:content-transfer-encoding
 :content-language;
 bh=ZlhTQiC5cEgF5D/0VNEGkUk42GGJTvPSCt+iqsJghqE=;
 b=rHDF+NMPafq54S0eNn696e7AGC31lL2ID+cG4kdFSkrD9f3/gsApOflPnWDgAOqQVA
 L2cASQlFTYHbJhQJIT0uwhY1zWaOWBB9N1j20jqGBnAB9IOdDB4TN2mGCRgN1Gq/Cbbu
 LVqvdjXZUygLssXbdC9KthzMuCB5T106oZeYgKV7388T8u66HdX2KsRDw0mjytDsAcUb
 +IOlxgC+HEHJbv+lCBWZX3h9UNwgYyNsE/5ewGBQ3aIrJAkyWtEquyV0GQENMny8L9cE
 iP/C7+xhrwbmvFsaWKSrvV6QgUfroEfYdQvH+xSx46oPSfBvj802wpDQJlckAgXXUvfk
 1H5A==
X-Gm-Message-State: APjAAAXahy/VDCiJoHgZEOd1XFFJN9eZV8J+HyEpK05cQZ0Olk9KGMQ+
 S8bpj3qWNhZRGaGLVrbloWnRkMiQCX4=
X-Google-Smtp-Source: APXvYqwzcOT/ng2SeLIqtw2UKzRDSYYrNc0o2rSEohoFWoUFG9HMYVT5tReBmn784/pZZVV9o1GORQ==
X-Received: by 2002:a1c:d10c:: with SMTP id
 i12mr117102856wmg.152.1564671696784; 
 Thu, 01 Aug 2019 08:01:36 -0700 (PDT)
Received: from dhcp-4-93.tlv.redhat.com (bzq-82-81-161-50.red.bezeqint.net.
 [82.81.161.50])
 by smtp.gmail.com with ESMTPSA id 5sm59210848wmg.42.2019.08.01.08.01.35
 for <spice-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=AEAD-AES128-GCM-SHA256 bits=128/128);
 Thu, 01 Aug 2019 08:01:36 -0700 (PDT)
To: spice-devel@lists.freedesktop.org
References: <20190731083636.21493-1-kpouget@redhat.com>
 <20190731083636.21493-3-kpouget@redhat.com>
 <2121688751.3798926.1564566634959.JavaMail.zimbra@redhat.com>
 <CADJ1XR2aULCXOdrZWa8UXs=2aY+dbhzD-ZATC+4mCU4Q4oN7mA@mail.gmail.com>
 <CADJ1XR3gjGep0jsXWNaELy8VRd=wDuCqnu70NRtTjWu4GhzJuw@mail.gmail.com>
From: Snir Sheriber <ssheribe@redhat.com>
Message-ID: <7419de21-0657-2c10-9589-533aa6faee1b@redhat.com>
Date: Thu, 1 Aug 2019 18:01:33 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.7.0
MIME-Version: 1.0
In-Reply-To: <CADJ1XR3gjGep0jsXWNaELy8VRd=wDuCqnu70NRtTjWu4GhzJuw@mail.gmail.com>
Content-Language: en-US
Subject: Re: [Spice-devel] [RFC spice-streaming-agent 1/2] gst-plugin: allow
 the instantiation of multiple GST encoder plugins
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SGksCgoKT24gOC8xLzE5IDM6NDMgUE0sIEtldmluIFBvdWdldCB3cm90ZToKPiBPbiBXZWQsIEp1
bCAzMSwgMjAxOSBhdCAxMjowOSBQTSBLZXZpbiBQb3VnZXQgPGtwb3VnZXRAcmVkaGF0LmNvbT4g
d3JvdGU6Cj4+IE9uIFdlZCwgSnVsIDMxLCAyMDE5IGF0IDExOjUwIEFNIEZyZWRpYW5vIFppZ2xp
byA8ZnppZ2xpb0ByZWRoYXQuY29tPiB3cm90ZToKPj4+PiBXaXRoIHRoaXMgcGF0Y2gsIHNwaWNl
LXN0cmVhbWluZy1hZ2VudCBjYW4gYmUgbGF1bmNoZWQgd2l0aCBtdWx0aXBsZQo+Pj4+IEdzdHJl
YW1lciB2aWRlbyBjb2RlY3MgZW5hYmxlZDoKPj4+Pgo+Pj4+PiBzcGljZS1zdHJlYW1pbmctYWdl
bnQgLWMgZ3N0LmNvZGVjPXZwOCAtYyBnc3QuY29kZWM9dnA5IC4uLgo+Pj4+IC0tLQo+Pj4+ICAg
c3JjL2dzdC1wbHVnaW4uY3BwIHwgNTAgKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0t
LS0tLS0tLS0tLS0tLQo+Pj4+ICAgMSBmaWxlIGNoYW5nZWQsIDMxIGluc2VydGlvbnMoKyksIDE5
IGRlbGV0aW9ucygtKQo+Pj4+Cj4+Pj4gZGlmZiAtLWdpdCBhL3NyYy9nc3QtcGx1Z2luLmNwcCBi
L3NyYy9nc3QtcGx1Z2luLmNwcAo+Pj4+IGluZGV4IDk4NThiZWIuLjYyNTJlNDIgMTAwNjQ0Cj4+
Pj4gLS0tIGEvc3JjL2dzdC1wbHVnaW4uY3BwCj4+Pj4gKysrIGIvc3JjL2dzdC1wbHVnaW4uY3Bw
Cj4+Pj4gQEAgLTEwMiw3ICsxMDIsNyBAQCBjbGFzcyBHc3RyZWFtZXJQbHVnaW4gZmluYWw6IHB1
YmxpYyBQbHVnaW4KPj4+PiAgIHB1YmxpYzoKPj4+PiAgICAgICBGcmFtZUNhcHR1cmUgKkNyZWF0
ZUNhcHR1cmUoKSBvdmVycmlkZTsKPj4+PiAgICAgICB1bnNpZ25lZCBSYW5rKCkgb3ZlcnJpZGU7
Cj4+Pj4gLSAgICB2b2lkIFBhcnNlT3B0aW9ucyhjb25zdCBDb25maWd1cmVPcHRpb24gKm9wdGlv
bnMpOwo+Pj4+ICsgICAgdm9pZCBQYXJzZU9wdGlvbnMoY29uc3QgQ29uZmlndXJlT3B0aW9uICpv
cHRpb25zLCBTcGljZVZpZGVvQ29kZWNUeXBlCj4+Pj4gY29kZWMpOwo+Pj4+ICAgICAgIFNwaWNl
VmlkZW9Db2RlY1R5cGUgVmlkZW9Db2RlY1R5cGUoKSBjb25zdCBvdmVycmlkZSB7Cj4+Pj4gICAg
ICAgICAgIHJldHVybiBzZXR0aW5ncy5jb2RlYzsKPj4+PiAgICAgICB9Cj4+Pj4gQEAgLTQxOSw4
ICs0MTksMTAgQEAgdW5zaWduZWQgR3N0cmVhbWVyUGx1Z2luOjpSYW5rKCkKPj4+PiAgICAgICBy
ZXR1cm4gU29mdHdhcmVNaW47Cj4+Pj4gICB9Cj4+Pj4KPj4+PiAtdm9pZCBHc3RyZWFtZXJQbHVn
aW46OlBhcnNlT3B0aW9ucyhjb25zdCBDb25maWd1cmVPcHRpb24gKm9wdGlvbnMpCj4+Pj4gK3Zv
aWQgR3N0cmVhbWVyUGx1Z2luOjpQYXJzZU9wdGlvbnMoY29uc3QgQ29uZmlndXJlT3B0aW9uICpv
cHRpb25zLAo+Pj4+IFNwaWNlVmlkZW9Db2RlY1R5cGUgY29kZWMpCj4+Pj4gICB7Cj4+Pj4gKyAg
ICBzZXR0aW5ncy5jb2RlYyA9IGNvZGVjOwo+Pj4+ICsKPj4+PiAgICAgICBmb3IgKDsgb3B0aW9u
cy0+bmFtZTsgKytvcHRpb25zKSB7Cj4+Pj4gICAgICAgICAgIGNvbnN0IHN0ZDo6c3RyaW5nIG5h
bWUgPSBvcHRpb25zLT5uYW1lOwo+Pj4+ICAgICAgICAgICBjb25zdCBzdGQ6OnN0cmluZyB2YWx1
ZSA9IG9wdGlvbnMtPnZhbHVlOwo+Pj4+IEBAIC00MzEsMjAgKzQzMyw2IEBAIHZvaWQgR3N0cmVh
bWVyUGx1Z2luOjpQYXJzZU9wdGlvbnMoY29uc3QgQ29uZmlndXJlT3B0aW9uCj4+Pj4gKm9wdGlv
bnMpCj4+Pj4gICAgICAgICAgICAgICB9IGNhdGNoIChjb25zdCBzdGQ6OmV4Y2VwdGlvbiAmZSkg
ewo+Pj4+ICAgICAgICAgICAgICAgICAgIHRocm93IHN0ZDo6cnVudGltZV9lcnJvcigiSW52YWxp
ZCB2YWx1ZSAnIiArIHZhbHVlICsgIicgZm9yCj4+Pj4gICAgICAgICAgICAgICAgICAgb3B0aW9u
ICdmcmFtZXJhdGUnLiIpOwo+Pj4+ICAgICAgICAgICAgICAgfQo+Pj4+IC0gICAgICAgIH0gZWxz
ZSBpZiAobmFtZSA9PSAiZ3N0LmNvZGVjIikgewo+Pj4+IC0gICAgICAgICAgICBpZiAodmFsdWUg
PT0gImgyNjQiKSB7Cj4+Pj4gLSAgICAgICAgICAgICAgICBzZXR0aW5ncy5jb2RlYyA9IFNQSUNF
X1ZJREVPX0NPREVDX1RZUEVfSDI2NDsKPj4+PiAtICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1
ZSA9PSAidnA5Iikgewo+Pj4+IC0gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29kZWMgPSBTUElD
RV9WSURFT19DT0RFQ19UWVBFX1ZQOTsKPj4+PiAtICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1
ZSA9PSAidnA4Iikgewo+Pj4+IC0gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29kZWMgPSBTUElD
RV9WSURFT19DT0RFQ19UWVBFX1ZQODsKPj4+PiAtICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1
ZSA9PSAibWpwZWciKSB7Cj4+Pj4gLSAgICAgICAgICAgICAgICBzZXR0aW5ncy5jb2RlYyA9IFNQ
SUNFX1ZJREVPX0NPREVDX1RZUEVfTUpQRUc7Cj4+Pj4gLSAgICAgICAgICAgIH0gZWxzZSBpZiAo
dmFsdWUgPT0gImgyNjUiKSB7Cj4+Pj4gLSAgICAgICAgICAgICAgICBzZXR0aW5ncy5jb2RlYyA9
IFNQSUNFX1ZJREVPX0NPREVDX1RZUEVfSDI2NTsKPj4+PiAtICAgICAgICAgICAgfSBlbHNlIHsK
Pj4+PiAtICAgICAgICAgICAgICAgIHRocm93IHN0ZDo6cnVudGltZV9lcnJvcigiSW52YWxpZCB2
YWx1ZSAnIiArIHZhbHVlICsgIicgZm9yCj4+Pj4gb3B0aW9uICdnc3QuY29kZWMnLiIpOwo+Pj4+
IC0gICAgICAgICAgICB9Cj4+Pj4gICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSAiZ3N0LmVu
Y29kZXIiKSB7Cj4+Pj4gICAgICAgICAgICAgICBzZXR0aW5ncy5lbmNvZGVyID0gdmFsdWU7Cj4+
Pj4gICAgICAgICAgIH0KPj4+PiBAQCAtNDU5LDExICs0NDcsMzUgQEAgU1BJQ0VfU1RSRUFNSU5H
X0FHRU5UX1BMVUdJTihhZ2VudCkKPj4+PiAgIHsKPj4+PiAgICAgICBnc3RfaW5pdChudWxscHRy
LCBudWxscHRyKTsKPj4+Pgo+Pj4+IC0gICAgYXV0byBwbHVnaW4gPSBzdGQ6Om1ha2Vfc2hhcmVk
PEdzdHJlYW1lclBsdWdpbj4oKTsKPj4+PiArICAgIGF1dG8gb3B0aW9ucyA9IGFnZW50LT5PcHRp
b25zKCk7Cj4+Pj4gKyAgICBmb3IgKDsgb3B0aW9ucy0+bmFtZTsgKytvcHRpb25zKSB7Cj4+Pj4g
KyAgICAgICAgY29uc3Qgc3RkOjpzdHJpbmcgbmFtZSA9IG9wdGlvbnMtPm5hbWU7Cj4+Pj4gKyAg
ICAgICAgY29uc3Qgc3RkOjpzdHJpbmcgdmFsdWUgPSBvcHRpb25zLT52YWx1ZTsKPj4+Pgo+Pj4+
IC0gICAgcGx1Z2luLT5QYXJzZU9wdGlvbnMoYWdlbnQtPk9wdGlvbnMoKSk7Cj4+Pj4gKyAgICAg
ICAgaWYgKG5hbWUgPT0gImdzdC5jb2RlYyIpIHsKPj4+PiArICAgICAgICAgICAgU3BpY2VWaWRl
b0NvZGVjVHlwZSBjb2RlY190eXBlOwo+Pj4+ICsgICAgICAgICAgICBpZiAodmFsdWUgPT0gIm1q
cGVnIikgewo+Pj4+ICsgICAgICAgICAgICAgICAgY29kZWNfdHlwZSA9IFNQSUNFX1ZJREVPX0NP
REVDX1RZUEVfTUpQRUc7Cj4+Pj4gKyAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gImgy
NjQiKSB7Cj4+Pj4gKyAgICAgICAgICAgICAgICBjb2RlY190eXBlID0gU1BJQ0VfVklERU9fQ09E
RUNfVFlQRV9IMjY0Owo+Pj4+ICsgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICJoMjY1
Iikgewo+Pj4+ICsgICAgICAgICAgICAgICAgY29kZWNfdHlwZSA9IFNQSUNFX1ZJREVPX0NPREVD
X1RZUEVfSDI2NTsKPj4+PiArICAgICAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PSAidnA4Iikg
ewo+Pj4+ICsgICAgICAgICAgICAgICAgY29kZWNfdHlwZSA9IFNQSUNFX1ZJREVPX0NPREVDX1RZ
UEVfVlA4Owo+Pj4+ICsgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICJ2cDkiKSB7Cj4+
Pj4gKyAgICAgICAgICAgICAgICBjb2RlY190eXBlID0gU1BJQ0VfVklERU9fQ09ERUNfVFlQRV9W
UDk7Cj4+Pj4gKyAgICAgICAgICAgIH0gZWxzZSB7Cj4+Pj4gKyAgICAgICAgICAgICAgICB0aHJv
dyBzdGQ6OnJ1bnRpbWVfZXJyb3IoIkludmFsaWQgdmFsdWUgJyIgKyB2YWx1ZSArICInIGZvcgo+
Pj4+IG9wdGlvbiAnZ3N0LmNvZGVjJy4iKTsKPj4+PiArICAgICAgICAgICAgfQo+Pj4+ICsKPj4+
PiArICAgICAgICAgICAgYXV0byBwbHVnaW4gPSBzdGQ6Om1ha2Vfc2hhcmVkPEdzdHJlYW1lclBs
dWdpbj4oKTsKPj4+PiArICAgICAgICAgICAgcGx1Z2luLT5QYXJzZU9wdGlvbnMoYWdlbnQtPk9w
dGlvbnMoKSwgY29kZWNfdHlwZSk7Cj4+Pj4gKyAgICAgICAgICAgIGFnZW50LT5SZWdpc3Rlcihw
bHVnaW4pOwo+Pj4+ICsgICAgICAgIH0KPj4+PiArICAgIH0KPj4+Pgo+Pj4+IC0gICAgYWdlbnQt
PlJlZ2lzdGVyKHBsdWdpbik7Cj4+Pj4gKyAgICAvLyBubyBkZWZhdWx0IHZhbHVlIGF0IHRoZSBt
b21lbnQKPj4+PiArICAgIC8vICh1c2VkIHRvIGJlIGgyNjQsIHNlZSBHc3RyZWFtZXJFbmNvZGVy
U2V0dGluZ3M6OmNvZGVjKQo+Pj4+Cj4+Pj4gICAgICAgcmV0dXJuIHRydWU7Cj4+Pj4gICB9Cj4+
PiBJIGRpZG4ndCB0ZXN0IGl0IGJ1dCBpdCBtYWtlcyBwZXJmZWN0bHkgc2Vuc2UuCj4+PiBPbiB0
aGUgb3RoZXIgaGFuZCBJJ20gd29uZGVyaW5nIHdoYXQgd2lsbCBoYXBwZW4gdG8gdGhlIG90aGVy
Cj4+PiBwYXJhbWV0ZXJzLiBUaGV5IHdpbGwgYmUgImJyb2FkY2FzdGVkIiB0byBhbGwgcGx1Z2lu
cy4KPj4+IEZvciAiZnJhbWVyYXRlIiBpcyBmaW5lIGJ1dCB3aGF0IHdpbGwgaGFwcGVuIGlmIHlv
dSBzcGVjaWZ5Cj4+PiBhbHNvIHByb3BlcnRpZXMgKGdzdC5wcm9wKSBhbmQgZW5jb2RlciAoZ3N0
LmVuY29kZXIpID8KPj4gbWF5YmUgdGhlIGVhc2llc3QgaXMgdG8gc2F5IHRoYXQgImdzdC5YWFg9
WVlZIiBhcHBsaWVzIHRvIGFsbCB0aGUKPj4gY29kZWNzLCBhbmQgImdzdC5DT0RFQy5YWFg9WVlZ
IiBpcyBvbmx5IGZvciBvbmUgY29kZWMsIHdpdGgKPj4gWFhYPXByb3B8ZW5jb2RlciBhdCB0aGUg
bW9tZW50Lgo+IEhlbGxvLAo+Cj4gSSBkaWQgdGhlIG1vZGlmaWNhdGlvbnMgYmVsb3cgdG8gYWxs
b3cgcGFzc2luZyBjb2RlYy1zcGVjaWZpYyBnc3QgcGFyYW1ldGVyczoKCgpCYXNpY2FsbHkgR3N0
cmVhbWVyIHByb3BlcnRpZXMgYXJlIG1vcmUgdGllZCB0byB0aGUgZW5jb2RlciB0aGFuCnRoZSBj
b2RlYyB0eXBlIGUuZy4gdmFhcGloMjY0ZW5jIHBsdWdpbiBoYXMgYSBwcm9wZXJ0eSBuYW1lZCAi
bG93LWRlbGF5LWIiCmFuZCB4MjY0ZW5jIGhhc24ndC4KCk5vdyBJJ20gdGhpbmtpbmcgbWF5YmUg
aSBzaG91bGQgaGF2ZSBhbGxvdyB0byBzZXQgcHJvcGVydGllcyBvbmx5IHdoZW4gdGhlCmVuY29k
ZXIgaXMgc3BlY2lmaWVkIDpQLCBhbnl3YXkgaSB0aGluayB3ZSBkbyBuZWVkIHRvIHBhcnNlIGl0
IGluIG9yZGVyIApzb21laG93CmkuZS4gdnA4ICsgaXRzIGVuY29kZXIgKyBpdHMgcHJvcHMuLi4g
LCBhbm90aGVyIHZwOCArIGl0cyBwcm9wcyAuLi4gLCAKaDI2NCArIGl0cyBlbmNvZGVyLi4uCgpJ
IGRpZCBubyB0cnkgaXQgeWV0LCBJJ2xsIHRlc3QgaXQgYW5kIGhhdmUgYSBjbG9zZXIgbG9vayBv
biBldmVyeXRoaW5nLCAKaSBsaWtlIHRoaXMgZmVhdHVyZSEKClRoYW5rcywKU25pci4KCgo+Cj4+
IGdzdC5jb2RlYz1DT0RFQwo+PiBnc3QucHJvcCB8IGdzdC5DT0RFQy5wcm9wCj4+IGdzdC5lbmNv
ZGVyIHwgZ3N0LkNPREVDLnByb3AKPj4gZnJhbWVyYXRlIHwgZ3N0LkNPREVDLmZyYW1lcmF0ZQo+
IHJlZ2FyZHMsCj4KPiBLZXZpbgo+Cj4gLS0tCj4gZGlmZiAtLWdpdCBhL3NyYy9nc3QtcGx1Z2lu
LmNwcCBiL3NyYy9nc3QtcGx1Z2luLmNwcAo+IGluZGV4IDU0Njk2NDcuLjQxOTQ0ODUgMTAwNjQ0
Cj4gLS0tIGEvc3JjL2dzdC1wbHVnaW4uY3BwCj4gKysrIGIvc3JjL2dzdC1wbHVnaW4uY3BwCj4g
QEAgLTEwMiw3ICsxMDIsOCBAQCBjbGFzcyBHc3RyZWFtZXJQbHVnaW4gZmluYWw6IHB1YmxpYyBQ
bHVnaW4KPiAgIHB1YmxpYzoKPiAgICAgICBGcmFtZUNhcHR1cmUgKkNyZWF0ZUNhcHR1cmUoKSBv
dmVycmlkZTsKPiAgICAgICB1bnNpZ25lZCBSYW5rKCkgb3ZlcnJpZGU7Cj4gLSAgICB2b2lkIFBh
cnNlT3B0aW9ucyhjb25zdCBDb25maWd1cmVPcHRpb24gKm9wdGlvbnMsCj4gU3BpY2VWaWRlb0Nv
ZGVjVHlwZSBjb2RlYyk7Cj4gKyAgICB2b2lkIFBhcnNlT3B0aW9ucyhjb25zdCBDb25maWd1cmVP
cHRpb24gKm9wdGlvbnMsCj4gU3BpY2VWaWRlb0NvZGVjVHlwZSBjb2RlYywKPiArICAgICAgICAg
ICAgICAgICAgICAgIGNvbnN0IHN0ZDo6c3RyaW5nIGNvZGVjX25hbWUpOwo+ICAgICAgIFNwaWNl
VmlkZW9Db2RlY1R5cGUgVmlkZW9Db2RlY1R5cGUoKSBjb25zdCBvdmVycmlkZSB7Cj4gICAgICAg
ICAgIHJldHVybiBzZXR0aW5ncy5jb2RlYzsKPiAgICAgICB9Cj4gQEAgLTQzMSw3ICs0MzIsOCBA
QCB1bnNpZ25lZCBHc3RyZWFtZXJQbHVnaW46OlJhbmsoKQo+ICAgICAgIHJldHVybiBTb2Z0d2Fy
ZU1pbjsKPiAgIH0KPgo+IC12b2lkIEdzdHJlYW1lclBsdWdpbjo6UGFyc2VPcHRpb25zKGNvbnN0
IENvbmZpZ3VyZU9wdGlvbiAqb3B0aW9ucywKPiBTcGljZVZpZGVvQ29kZWNUeXBlIGNvZGVjKQo+
ICt2b2lkIEdzdHJlYW1lclBsdWdpbjo6UGFyc2VPcHRpb25zKGNvbnN0IENvbmZpZ3VyZU9wdGlv
biAqb3B0aW9ucywKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVZp
ZGVvQ29kZWNUeXBlIGNvZGVjLCBjb25zdAo+IHN0ZDo6c3RyaW5nIGNvZGVjX25hbWUpCj4gICB7
Cj4gICAgICAgc2V0dGluZ3MuY29kZWMgPSBjb2RlYzsKPgo+IEBAIC00MzksMTUgKzQ0MSwxNyBA
QCB2b2lkIEdzdHJlYW1lclBsdWdpbjo6UGFyc2VPcHRpb25zKGNvbnN0Cj4gQ29uZmlndXJlT3B0
aW9uICpvcHRpb25zLCAgU3BpY2VWaWRlb0NvCj4gICAgICAgICAgIGNvbnN0IHN0ZDo6c3RyaW5n
IG5hbWUgPSBvcHRpb25zLT5uYW1lOwo+ICAgICAgICAgICBjb25zdCBzdGQ6OnN0cmluZyB2YWx1
ZSA9IG9wdGlvbnMtPnZhbHVlOwo+Cj4gLSAgICAgICAgaWYgKG5hbWUgPT0gImZyYW1lcmF0ZSIp
IHsKPiArICAgICAgICBpZiAobmFtZSA9PSAiZnJhbWVyYXRlIiB8fCBuYW1lID09ICJnc3QuIiAr
IGNvZGVjX25hbWUgKwo+ICIuZnJhbWVyYXRlIikgewo+ICAgICAgICAgICAgICAgdHJ5IHsKPiAg
ICAgICAgICAgICAgICAgICBzZXR0aW5ncy5mcHMgPSBzdGQ6OnN0b2kodmFsdWUpOwo+ICsKPiAg
ICAgICAgICAgICAgIH0gY2F0Y2ggKGNvbnN0IHN0ZDo6ZXhjZXB0aW9uICZlKSB7Cj4gLSAgICAg
ICAgICAgICAgICB0aHJvdyBzdGQ6OnJ1bnRpbWVfZXJyb3IoIkludmFsaWQgdmFsdWUgJyIgKyB2
YWx1ZSArCj4gIicgZm9yIG9wdGlvbiAnZnJhbWVyYXRlJy4iKTsKPiArICAgICAgICAgICAgICAg
IHRocm93IHN0ZDo6cnVudGltZV9lcnJvcigiSW52YWxpZCB2YWx1ZSAnIiArIHZhbHVlICsgJyIg
Igo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmb3Igb3B0aW9u
ICciICsgbmFtZSArICInLiIpOwo+ICAgICAgICAgICAgICAgfQo+IC0gICAgICAgIH0gZWxzZSBp
ZiAobmFtZSA9PSAiZ3N0LmVuY29kZXIiKSB7Cj4gKyAgICAgICAgfSBlbHNlIGlmIChuYW1lID09
ICJnc3QuZW5jb2RlciIgfHwgbmFtZSA9PSAiZ3N0LiIgKwo+IGNvZGVjX25hbWUgKyIuZW5jb2Rl
ciIpIHsKPiAgICAgICAgICAgICAgIHNldHRpbmdzLmVuY29kZXIgPSB2YWx1ZTsKPiAtICAgICAg
ICB9IGVsc2UgaWYgKG5hbWUgPT0gImdzdC5wcm9wIikgewo+ICsgICAgICAgIH0gZWxzZSBpZiAo
bmFtZSA9PSAiZ3N0LnByb3AiIHx8IG5hbWUgPT0gImdzdC4iICsgY29kZWNfbmFtZQo+ICsgIi5w
cm9wIikgewo+ICAgICAgICAgICAgICAgc2l6ZV90IHBvcyA9IHZhbHVlLmZpbmQoJz0nKTsKPiAg
ICAgICAgICAgICAgIGlmIChwb3MgPT0gMCB8fCBwb3MgPj0gdmFsdWUuc2l6ZSgpIC0gMSkgewo+
ICAgICAgICAgICAgICAgICAgIGdzdF9zeXNsb2coTE9HX1dBUk5JTkcsICJQcm9wZXJ0eSBpbnB1
dCBpcyBpbnZhbGlkCj4gKCclcycgSWdub3JlZCkiLCB2YWx1ZS5jX3N0cigpKTsKPiBAQCAtNDg4
LDcgKzQ5Miw3IEBAIFNQSUNFX1NUUkVBTUlOR19BR0VOVF9QTFVHSU4oYWdlbnQpCj4gICAgICAg
ICAgICAgICB9Cj4KPiAgICAgICAgICAgICAgIGF1dG8gcGx1Z2luID0gc3RkOjptYWtlX3NoYXJl
ZDxHc3RyZWFtZXJQbHVnaW4+KCk7Cj4gLSAgICAgICAgICAgIHBsdWdpbi0+UGFyc2VPcHRpb25z
KGFnZW50LT5PcHRpb25zKCksIGNvZGVjX3R5cGUpOwo+ICsgICAgICAgICAgICBwbHVnaW4tPlBh
cnNlT3B0aW9ucyhhZ2VudC0+T3B0aW9ucygpLCBjb2RlY190eXBlLCB2YWx1ZSk7Cj4gICAgICAg
ICAgICAgICBhZ2VudC0+UmVnaXN0ZXIocGx1Z2luKTsKPiAgICAgICAgICAgfQo+ICAgICAgIH0K
PiBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwo+IFNwaWNl
LWRldmVsIG1haWxpbmcgbGlzdAo+IFNwaWNlLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwo+
IGh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2
ZWwKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KU3BpY2Ut
ZGV2ZWwgbWFpbGluZyBsaXN0ClNwaWNlLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRw
czovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVs
