Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 992F855C25
	for <lists+spice-devel@lfdr.de>; Wed, 26 Jun 2019 01:19:33 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id C99FB6E162;
	Tue, 25 Jun 2019 23:19:31 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail.codeweavers.com (mail.codeweavers.com [50.203.203.244])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 708A86E162
 for <spice-devel@lists.freedesktop.org>; Tue, 25 Jun 2019 23:19:30 +0000 (UTC)
Received: from 82-64-54-218.subs.proxad.net ([82.64.54.218] helo=amboise)
 by mail.codeweavers.com with esmtpsa (TLS1.2:ECDHE_RSA_AES_256_GCM_SHA384:256)
 (Exim 4.89) (envelope-from <fgouget@free.fr>)
 id 1hfujI-0002zw-Fb; Tue, 25 Jun 2019 18:20:01 -0500
Received: from fgouget by amboise with local (Exim 4.92)
 (envelope-from <fgouget@amboise.dolphin>)
 id 1hfuik-0000P1-OM; Wed, 26 Jun 2019 01:19:26 +0200
Date: Wed, 26 Jun 2019 01:19:26 +0200 (CEST)
From: Francois Gouget <fgouget@codeweavers.com>
To: Frediano Ziglio <fziglio@redhat.com>
In-Reply-To: <1554844250.23824965.1561048149158.JavaMail.zimbra@redhat.com>
Message-ID: <alpine.DEB.2.21.1906250649090.1260@amboise.dolphin>
References: <cover.1560790607.git.fgouget@free.fr>
 <954d1aa1c8862a72dce84790fa9e1212a72256fd.1560790607.git.fgouget@free.fr>
 <1554844250.23824965.1561048149158.JavaMail.zimbra@redhat.com>
User-Agent: Alpine 2.21 (DEB 202 2017-01-01)
MIME-Version: 1.0
X-Spam-Score: -103.7
X-Spam-Report: Spam detection software,
 running on the system "mail.codeweavers.com", 
 has NOT identified this incoming email as spam.  The original
 message has been attached to this so you can view it or label
 similar future email.  If you have any questions, see
 the administrator of that system for details.
 Content preview:  On Thu, 20 Jun 2019, Frediano Ziglio wrote: [...] > > - It
 performs its own frame mmtime conversion to the local monotonic > > clock
 spice_session_get_client_time() since the server-controlled > > mmt [...]
 Content analysis details:   (-103.7 points, 5.0 required)
 pts rule name              description
 ---- ---------------------- --------------------------------------------------
 -100 USER_IN_WHITELIST      From: address is in the user's white-list
 -6.0 ALL_TRUSTED            Passed through trusted hosts only via SMTP
 0.0 TVD_RCVD_IP            Message was received from an IP address
 1.0 HEADER_FROM_DIFFERENT_DOMAINS From and EnvelopeFrom 2nd level
 mail domains are different
 1.0 FREEMAIL_FROM          Sender email is commonly abused enduser mail
 provider (fgouget[at]free.fr)
 0.0 MALFORMED_FREEMAIL     Bad headers on message from free email
 service
 0.2 FREEMAIL_FORGED_FROMDOMAIN 2nd level domains in From and
 EnvelopeFrom freemail headers are different
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt;
 c=relaxed/relaxed; 
 d=codeweavers.com; s=6377696661; h=Content-Type:MIME-Version:References:
 Message-ID:In-Reply-To:Subject:cc:To:From:Date:Sender:Reply-To:
 Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:
 Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:List-Id:
 List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive;
 bh=zHgZmb2yzt0ckoASr1lcwDitlcosq3Wvqta9WmA2Qd0=; b=erSDsK0Ybp5djSqQGhGOClT2W
 L+a2Td/q7PeAiE1FasYlxPUDksoK+tEQKHTC89G1xnENMfW3N6dhq3jEwQcZSULsJ4tcm10ha+Luv
 36pEEgqbRsrVxACyLwKvckx4btzx2Mfu75WucMpdXgHQuSEVXA3V0LKgSt09k2hltCuDY=;
Subject: Re: [Spice-devel] [client v2 07/12] channel-display: Minimize the
 stream lag by ignoring the server one
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Spice devel <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gVGh1LCAyMCBKdW4gMjAxOSwgRnJlZGlhbm8gWmlnbGlvIHdyb3RlOgpbLi4uXQo+ID4gLSBJ
dCBwZXJmb3JtcyBpdHMgb3duIGZyYW1lIG1tdGltZSBjb252ZXJzaW9uIHRvIHRoZSBsb2NhbCBt
b25vdG9uaWMKPiA+ICAgY2xvY2sgc3BpY2Vfc2Vzc2lvbl9nZXRfY2xpZW50X3RpbWUoKSBzaW5j
ZSB0aGUgc2VydmVyLWNvbnRyb2xsZWQKPiA+ICAgbW10aW1lIGNsb2NrIGNhbm5vdCBiZSByZWxp
ZWQgb24uIFRoaXMgY29udmVyc2lvbiB1c2VzIGRhdGEgZnJvbSBhbGwKPiAKPiBUaGUgInNpbmNl
IHRoZSBzZXJ2ZXItY29udHJvbGxlZCBtbXRpbWUgY2xvY2sgY2Fubm90IGJlIHJlbGllZCBvbiIg
Y291bGQKPiBiZSBjb25mdXNpbmcuIEluIGEgcmVsYXRpdmUsIG5vdCBhYnNvbHV0ZSB3YXkgaXMg
cmVsaWFibGUuCj4gQnV0IEkgc3VwcG9zZSB3aGF0IHlvdSBhcmUgbWVhbmluZyBoZXJlIGlzIHRo
YXQgeW91IHJlbHkgb24gdGhlIAo+IG1tdGltZXMgZnJvbSB0aGUgZnJhbWVzLCBub3QgdGhlICJz
ZXJ2ZXJfdGltZSIuCgpUaGUgY2xpZW50J3MgbW10aW1lIGNsb2NrIGRlcGVuZHMgb24gbW1fdGlt
ZV9vZmZzZXQgd2hpY2ggdGhlIHNlcnZlciBtYXkgCnlhbmsgb25lIHdheSBvciB0aGUgb3RoZXIg
YXQgYW55IHRpbWUuIFRoYXQgbWFrZXMgaXQgdW5yZWxpYWJsZSBmb3IgdGhlIApwdXJwb3NlIG9m
IGxldHRpbmcgdGhlIF9jbGllbnRfIGJlIGluIGNvbnRyb2wgb2Ygd2hlbiBpdCdzIGdvaW5nIHRv
IApkaXNwbGF5IGVhY2ggZnJhbWUuCgoKPiA+ICAgc3RyZWFtcyBidXQgaXMgZ2xvYmFsIHNvIGFs
bCBzdHJlYW1zIGloYXZlIGEgY29tbW9uIHRpbWUgcmVmZXJlbmNlLgo+IAo+IHR5cG86ICJpaGF2
ZSIKCkZpeGVkLgoKCj4gPiAtIFRoaXMgaXMgYWxzbyB3aGVyZSBtbXRpbWUgY2xvY2sgY2hhbmdl
cyBjYXVzZWQgYnkgc2VydmVyIG1pZ3JhdGlvbgo+ID4gICBhcmUgaGFuZGxlZC4KPiAKPiAiVG8g
ZG8gc28gdGhpcyBpcyBhbHNvIHdoZXJlIG1tdGltZSBjbG9jayBjaGFuZ2VzIGNhdXNlZCBieSBz
ZXJ2ZXIgbWlncmF0aW9uCj4gYXJlIGhhbmRsZWQuIiA/CgpSZXdvcmRlZC4KCgo+ID4gLSBJdCB0
cmFja3MgdGhlIG1hcmdpbiBiZXR3ZWVuIHRoZSBjb252ZXJ0ZWQgdGltZS10by1kaXNwbGF5IGZy
YW1lCj4gPiAgIHRpbWVzdGFtcCBhbmQgdGhlIGN1cnJlbiB0aW1lIGFuZCBhZGRzIGEgZGVsYXkg
dG8gZW5zdXJlIHRoaXMgbWFyZ2luCj4gCj4gdHlwbzogImN1cnJlbiIKCkZpeGVkLgoKCj4gPiAg
ICAgICAgICAgICAgcmVjb3JkKGZyYW1lc19zdGF0cywKPiA+IC0gICAgICAgICAgICAgICAgICAg
ImZyYW1lIG1tX3RpbWUgJXUgc2l6ZSAldSBjcmVhdGlvbiB0aW1lICUiIFBSSWQ2NAo+ID4gKyAg
ICAgICAgICAgICAgICAgICAiZnJhbWUgdGltZSAldSBzaXplICV1IGNyZWF0aW9uIHRpbWUgJSIg
UFJJZDY0Cj4gPiAgICAgICAgICAgICAgICAgICAgICIgZGVjb2RlZCB0aW1lICUiIFBSSWQ2NCAi
IHF1ZXVlICV1IGJlZm9yZSAldSIsCj4gPiAtICAgICAgICAgICAgICAgICAgIGZyYW1lLT5tbV90
aW1lLCBmcmFtZS0+c2l6ZSwgZnJhbWUtPmNyZWF0aW9uX3RpbWUsCj4gPiBkdXJhdGlvbiwKPiA+
ICsgICAgICAgICAgICAgICAgICAgZnJhbWUtPnRpbWUsIGZyYW1lLT5zaXplLCBmcmFtZS0+Y3Jl
YXRpb25fdGltZSwgZHVyYXRpb24sCj4gCj4gSGVyZSB3ZSByZWFsbHkgbmVlZCB0aGUgb3JpZ2lu
YWwgc2VydmVyIG1tdGltZSwgbm90IGhhcmQgdG8gZml4IHRoaXMsCj4ganVzdCBhZGQgYWdhaW4g
dGhlIG1tX3RpbWUgd2l0aCB0aGUgaW5pdGlhbCBzZXJ2ZXIgdmFsdWUgYnV0IHVzZQo+IGp1c3Qg
InRpbWUiIGZpZWxkIGZvciBldmVyeXRoaW5nIGVsc2UKCkZpeGVkLgoKCj4gPiBAQCAtMTI0LDgg
KzEyNCwyMiBAQCBzdHJ1Y3QgZGlzcGxheV9zdHJlYW0gewo+ID4gIAo+ID4gICAgICBTcGljZUNo
YW5uZWwgICAgICAgICAgICAgICAgKmNoYW5uZWw7Cj4gPiAgCj4gPiAtICAgIC8qIHN0YXRzICov
Cj4gPiAgICAgIHVpbnQzMl90ICAgICAgICAgICAgIGZpcnN0X2ZyYW1lX21tX3RpbWU7Cj4gCj4g
c2hvdWxkIHRoaXMgZmllbGQgYmUgbW92ZWQgdG8gInN0YXRzIiBzZWN0aW9uID8KCkRvbmUuCgoK
PiA+ICsgICAgdWludDMyX3QgICAgICAgICAgICAgbGFzdF9mcmFtZV9tbV90aW1lOwo+ID4gKyAg
ICB1aW50MzJfdCAgICAgICAgICAgICBsYXN0X2ZyYW1lX3RpbWU7Cj4gPiArCj4gPiArICAgIC8q
IExhZyBtYW5hZ2VtZW50IChzZWUgZGlzcGxheV9oYW5kbGVfc3RyZWFtX2RhdGEoKSkgKi8KPiA+
ICsgICAgdWludDMyX3QgICAgICAgICAgICAgZGVsYXk7Cj4gPiArICAgIHVpbnQzMl90ICAgICAg
ICAgICAgIG1hcmdpbl9ldmFsX3N0YXJ0Owo+IAo+ICJldmFsIiBtZWFuaW5nICJldmFsdWF0aW9u
IiA/CgpZZXMuIEl0J3MgdGhlIHN0YXJ0IHRpbWUgb2YgdGhlIGV2YWx1YXRpb24gcGVyaW9kIGZv
ciBkZXRlcm1pbmluZyB0aGUgCmhvdyBsb3cgdGhlIG1hcmdpbiBjYW4gZ2V0IGFuZCB2YXJpb3Vz
IG90aGVyIHBhcmFtZXRlcnMuCgoKPiA+ICsgICAgdWludDMyX3QgICAgICAgICAgICAgbWFyZ2lu
X2V2YWxfY291bnQ7Cj4gPiArICAgIGludDMyX3QgICAgICAgICAgICAgIG1pbl9tYXJnaW47Cj4g
PiArICAgIGludDMyX3QgICAgICAgICAgICAgIG1pbl9tYXJnaW5fbmV4dDsKPiA+ICsgICAgZmxv
YXQgICAgICAgICAgICAgICAgYXZnX21hcmdpbjsKPiA+ICsgICAgaW50MzJfdCAgICAgICAgICAg
ICAgbWluX2F2Z19tYXJnaW47Cj4gPiArICAgIGludDMyX3QgICAgICAgICAgICAgIG1heF9hdmdf
bWFyZ2luOwo+ID4gKyAgICB1aW50MzJfdCAgICAgICAgICAgICBtYXJnaW5fc3ByZWFkOwo+IAo+
IEkgdGhpbmsgdGhlc2UgZmllbGRzIGRlc2VydmUgc29tZSBtb3JlIGRvY3VtZW50YXRpb24sIG1h
bnkgc2VlbXMKPiBzbyBzaW1pbGFyIGFuZCBhcmUgbm90IGNsZWFyLiBTdXJlIHlvdSBuZWVkIHRo
ZW0gYWxsPwo+IEZvciBpbnN0YW5jZSB3aGF0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gIm1pbl9t
YXJnaW4iIGFuZCAibWluX21hcmdpbl9uZXh0Igo+IGFuZCB3aHkgeW91IG5lZWQgYm90aD8KClRo
ZSBnb2FsIGlzIHRvIGdldCB0aGUgbWluaW11bSBtYXJnaW4gb3ZlciBhIGxvbmcgZW5vdWdoIHBl
cmlvZCBvZiB0aW1lIApmb3IgaXQgdG8gYmUgbWVhbmluZ2Z1bCwgYnV0IHRvIGFsc28gdGFrZSBp
bnRvIGFjY291bnQgY2hhbmdlcy4KClNvIG1pbl9tYXJnaW5fbmV4dCBpcyBjb21wdXRlZCBvdmVy
IGEgcGVyaW9kIG9mIGF0IGxlYXN0IDEgc2Vjb25kIGFuZCAyMCAKZnJhbWVzIGFuZCBvbmx5IHRo
ZW4gaXMgaXQgbW92ZWQgdG8gbWluX21hcmdpbiBhbmQgcmVzZXQgZm9yIHRoZSBuZXh0IApldmFs
dWF0aW9uIHBlcmlvZC4KCm1pbl9hdmdfbWFyZ2luIGFuZCBtYXhfYXZnX21hcmdpbiBhcmUgZXZh
bHVhdGVkIGR1cmluZyB0aGUgc2FtZSBwZXJpb2QgCnRvIGZpZ3VyZSBvdXQgaG93IG11Y2ggdGhl
IGF2ZXJhZ2UgbWFyZ2luIGZsdWN0dWF0ZXMgYW5kIGFyZSB1c2VkIHRvIApjb21wdXRlIHRoZSBt
YXJnaW5fc3ByZWFkIHdoaWNoIGlzIHRoZW4gdXNlZC4KCgo+IFdoeSAiYXZnX21hcmdpbiIgaXMg
ZmxvYXQgYnV0ICJtaW5fYXZnX21hcmdpbi9tYXhfYXZnX21hcmdpbiIgYXJlIG5vdD8KPiBGcm9t
IGNvbW1lbnQgaW4gdGhlIGNvZGUgaXMgYSByb3VuZGluZyBpc3N1ZSBidXQgdGhhbiB5b3UgY291
bGQgY2hhbmdlCj4gYXZnX21hcmdpbiBmb3JtdWxhZSAoc2VlIGJlbG93KS4KCmF2Z19tYXJnaW4g
aXMgdGhlIHJvbGxpbmcgbWFyZ2luIGF2ZXJhZ2UgYW5kIGl0IG5lZWRzIHRvIGJlIGEgZmxvYXQg
CmJlY2F1c2UsIGFzIG1lbnRpb25lZCBiZWxvdywgaW50ZWdlciBjb21wdXRhdGlvbnMgZG9uJ3Qg
Y29udmVyZ2UgdG8gdGhlIAp0cnVlIGF2ZXJhZ2UuIFRoZXJlIGlzIG5vIHN1Y2ggY2FsY3VsYXRp
b24gd2l0aCB7bWluLG1heH1fYXZnX21hcmdpbiBzbyAKdGhleSBkb24ndCBuZWVkIHRvIGJlIGZs
b2F0cy4gQXQgdGhlIGVuZCBvZiB0aGUgbWFyZ2luIGV2YWx1YXRpb24gcGVyaW9kIAp7bWluLG1h
eH1fYXZnX21hcmdpbiBhcmUgdXNlZCB0byBjb21wdXRlIHRoZSBtYXJnaW5fc3ByZWFkIG92ZXIg
dGhhdCAKZXZhbHVhdGlvbiBwZXJpb2QuCgpUaGUgbWFyZ2luX3NwcmVhZCBpcyB1c2VkIGFzIGEg
bWVhc3VyZSBvZiBob3cgbXVjaCB0aGUgbWFyZ2luIGF2ZXJhZ2UgCmNhbiBiZSBleHBlY3RlZCB0
byBmbHVjdHVhdGUgd2hpY2ggdGVsbHMgdXMgd2hlbiB3ZSBjYW4gY29uc2lkZXIgdGhhdCAKdGhl
IG1hcmdpbiBtYXRjaGVzIHRoZSB0YXJnZXRfbGFnLgoKCj4gPiArICAgIGZyYW1lX2ludGVydmFs
ID0gMDsKPiA+ICsgICAgbW10aW1lX21hcmdpbiA9IDQwMDsgLyogc2VydmVyJ3MgZGVmYXVsdCBt
bV90aW1lIG9mZnNldCAqLwo+IAo+IFRoaXMgdmFsdWVzLCB3aGljaCBpcyB1c2VkIGp1c3QgZm9y
IHRoZSByZXBvcnQgd2FzIHNpbXBseToKPiAKPiAibWFyZ2luX3JlcG9ydCA9IG9wLT5tdWx0aV9t
ZWRpYV90aW1lIC0gbW10aW1lOyIKPiAKPiB0aGUgY29tcHV0YXRpb24gZ290IHF1aXRlIGNvbXBs
aWNhdGVkIGV2ZW4gaWYgdGhlIHB1cnBvc2Ugb2YgdGhpcyBwYXRjaAo+IGlzIG5vdCBtdWNoIGFi
b3V0IGNoYW5naW5nIHN0cmVhbWluZyByZXBvcnRzLgoKSSdtIG5vdCBzdXJlIEkgZm9sbG93LiBE
byB5b3UgbWVhbiB0aGUgY2FsY3VsYXRpb25zIGJlbG93PwoKCj4gPiAgICAgIGlmIChvcC0+bXVs
dGlfbWVkaWFfdGltZSA9PSAwKSB7Cj4gPiAtICAgICAgICBnX2NyaXRpY2FsKCJSZWNlaXZlZCBm
cmFtZSB3aXRoIGludmFsaWQgMCB0aW1lc3RhbXAhIHBlcmhhcHMgd3JvbmcKPiA+IGdyYXBoaWMg
ZHJpdmVyPyIpOwo+ID4gLSAgICAgICAgb3AtPm11bHRpX21lZGlhX3RpbWUgPSBtbXRpbWUgKyAx
MDA7IC8qIHdvcmthcm91bmQuLi4gKi8KPiA+IC0gICAgfQo+ID4gKyAgICAgICAgZ19jcml0aWNh
bCgiUmVjZWl2ZWQgZnJhbWUgd2l0aCBpbnZhbGlkIDAgdGltZXN0YW1wISBQZXJoYXBzIHdyb25n
Cj4gPiBncmFwaGljIGRyaXZlcj8iKTsKPiA+ICsgICAgICAgIG9wLT5tdWx0aV9tZWRpYV90aW1l
ID0gY3VycmVudF9tbXRpbWU7IC8qIHdvcmthcm91bmQuLi4gKi8KPiA+ICsgICAgICAgIGZyYW1l
X2ludGVydmFsID0gc3BpY2VfbW10aW1lX2RpZmYob3AtPm11bHRpX21lZGlhX3RpbWUsCj4gPiBz
dC0+bGFzdF9mcmFtZV9tbV90aW1lKTsKPiA+ICsgICAgfSBlbHNlIGlmIChzdC0+bGFzdF9mcmFt
ZV9tbV90aW1lID09IDApIHsKPiA+ICsgICAgICAgIC8qIEZpcnN0IGZyYW1lIHNvIGZyYW1lX2lu
dGVydmFsIGlzIHVua25vd24gKi8KPiA+ICsgICAgICAgIG1tdGltZV9tYXJnaW4gPSBzcGljZV9t
bXRpbWVfZGlmZihvcC0+bXVsdGlfbWVkaWFfdGltZSwKPiA+IGN1cnJlbnRfbW10aW1lKTsKWy4u
Ll0KClRoZXNlIGRlYWwgd2l0aCB0aGUgc2VydmVyIG1pZ3JhdGlvbnMgd2hpY2ggY2F1c2UgdGhl
IG1tdGltZSBjbG9jayB0byAKc2hpZnQgYWJydXB0bHkuCgoKPiA+ICsgICAgfSBlbHNlIGlmIChv
cC0+bXVsdGlfbWVkaWFfdGltZSA8IHN0LT5sYXN0X2ZyYW1lX21tX3RpbWUpIHsKPiAKPiBIZXJl
IHNwaWNlX21tdGltZV9kaWZmIHNob3VsZCBiZSB1c2VkClsuLi5dCj4gPiArICAgIH0gZWxzZSBp
ZiAob3AtPm11bHRpX21lZGlhX3RpbWUgPiBzdC0+bGFzdF9mcmFtZV9tbV90aW1lICsgMTAwMCkg
ewo+IAo+IEhlcmUgdG9vLgoKRG9uZS4KCgpbLi4uXQo+ID4gKyAgICAgICAgc3QtPm1hcmdpbl9l
dmFsX3N0YXJ0ID0gc3RyZWFtX3RpbWU7Cj4gPiArICAgICAgICBzdC0+bWFyZ2luX2V2YWxfY291
bnQgPSAwOwo+ID4gKyAgICAgICAgc3QtPm1pbl9tYXJnaW4gPSAwOyAvKiBGb3JjZSB3YWl0IGJl
Zm9yZSByZWR1Y2luZyB0aGUgZGVsYXkgKi8KPiAKPiBJIHN1cHBvc2UgbWFyZ2luIGlzIG5ldmVy
IG5lZ2F0aXZlIG90aGVyd2lzZSB5b3Ugd291bGQgaGF2ZSBhIG1pbmltdW0KPiB0aGF0IGlzIGJp
Z2dlciB0aGVuIHRoZSByZWFsIG1pbmltdW0uCgpUaGF0IHdvdWxkIGJlIG9rLiBXaGF0IG1hdHRl
cnMgaXMgdGhhdCBtaW5fbWFyZ2luIDw9IDAgd2hpY2ggbWVhbnMgdGhlcmUgCmlzIG5vIG1hcmdp
biBmb3IgcmVkdWNpbmcgZGVsYXkuIEV2ZW50dWFsbHkgd2UnbGwgZ2V0IGEgbmV3IG1pbmltdW0g
Cm1hcmdpbiB2YWx1ZSBhbmQgaWYgdGhhdCdzIHBvc2l0aXZlIHRoYXQncyB3aGVuIHdlJ2xsIHJl
ZHVjZSB0aGUgZGVsYXkgCmlmIG5lY2Vzc2FyeS4KCgpbLi4uXQo+ID4gKyAgICAgICAgLyogTm90
ZSB0aGF0IHdoZW4gdXNpbmcgaW50ZWdlcnMgdGhlIG1vdmluZyBhdmVyYWdlIGNhbiBzdGFiaWxp
emUgdXAKPiA+IHRvCj4gPiArICAgICAgICAgKiB3ZWlnaHQvMi0xIGF3YXkgZnJvbSB0aGUgdHJ1
ZSBhdmVyYWdlICh3aGVyZSB3ZWlnaHQ9MTYgaGVyZSkgZHVlCj4gPiArICAgICAgICAgKiB0byB0
aGUgcm91bmRpbmcgZXJyb3JzIChlLmcuIGNvbnNpZGVyIDEgMTYgMTYuLi4pLgo+ID4gKyAgICAg
ICAgICogU28gdXNlIGEgZmxvYXQgZm9yIGF2Z19tYXJnaW4uCj4gCj4gV2h5IG5vdCAiKHN0LT5h
dmdfbWFyZ2luICogMTUgKyBtYXJnaW4gKyA4KSAvIDE2IiA/CgpBcyBtZW50aW9uZWQgaW4gdGhl
IGNvbW1lbnQgaXQgZG9lcyBub3QgYWx3YXlzIGNvbnZlcmdlIHRvIHRoZSByaWdodCAKdmFsdWUg
YW5kIEknbSBhbm5veWVkIGJ5IGl0IGJlaW5nIDctOCBtcyBvZmYgZ2l2ZW4gdGhhdCB3ZSBjYW4g
b2Z0ZW4gZG8gCmJldHRlciAocGFydGljdWxhcmx5IG9uIExBTnMpLiBDb25zaWRlcjoKCkN1cnJl
bnQgIEF2ZXJhZ2UKICAgICAgICAgMTYKMSAgICAgICAgMTUKMSAgICAgICAgMTQKMSAgICAgICAg
MTMKMSAgICAgICAgMTIKMSAgICAgICAgMTEKMSAgICAgICAgMTAKMSAgICAgICAgOQoxICAgICAg
ICA5Ci4uLgoKWW91IGdldCB0aGUgc2FtZSBpc3N1ZSB3aGV0aGVyIHlvdSByb3VuZCBkb3duLCB1
cCBvciB0byB0aGUgbmVhcmVzdC4KV2hhdCB3b3VsZCB3b3JrIGlzIHJvdW5kaW5nIGRvd24gd2hl
bmV2ZXIgdGhlIHZhbHVlIGlzIGxvd2VyIHRoYW4gdGhlIApjdXJyZW50IGF2ZXJhZ2UgYW5kIHVw
IG90aGVyd2lzZS4gU286CgogIChzdC0+YXZnX21hcmdpbiAqIDE1ICsgbWFyZ2luICsgKHN0LT5h
dmdfbWFyZ2luIDwgbWFyZ2luID8gMTUgOiAwKSkgLyAxNgoKU28gaWYgZmxvYXRzIGFyZSBhIHBy
b2JsZW0gSSBjb3VsZCBkbyB0aGF0LgoKClsuLi5dCj4gPiArICAgICAgICAvKiBPbmx5IHJlcGxh
Y2UgdGhlIGN1cnJlbnQgbWluX21hcmdpbiBhbmQgbWFyZ2luX3NwcmVhZCBlc3RpbWF0ZXMgb25j
ZQo+ID4gKyAgICAgICAgICogZW5vdWdoIGRhdGEgaGFzIGJlZW4gY29sbGVjdGVkIGZvciB0aGUg
Kl9uZXh0IHZhbHVlcywgYm90aCBpbiB0ZXJtCj4gPiArICAgICAgICAgKiBvZiBlbGFwc2VkIHRp
bWUgYW5kIG51bWJlciBvZiBmcmFtZXMuCj4gPiArICAgICAgICAgKi8KPiA+ICsgICAgICAgIHN0
LT5tYXJnaW5fZXZhbF9jb3VudCsrOwo+ID4gKyAgICAgICAgaWYgKHN0cmVhbV90aW1lIC0gc3Qt
Pm1hcmdpbl9ldmFsX3N0YXJ0ID4gTUFSR0lOX0VWQUxfVElNRSAmJgo+ID4gKyAgICAgICAgICAg
IHN0LT5tYXJnaW5fZXZhbF9jb3VudCA+PSBNQVJHSU5fRVZBTF9DT1VOVCkgewo+ID4gKyAgICAg
ICAgICAgIHN0LT5taW5fbWFyZ2luID0gc3QtPm1pbl9tYXJnaW5fbmV4dDsKPiA+ICsKPiA+ICsg
ICAgICAgICAgICBzdC0+bWFyZ2luX2V2YWxfc3RhcnQgPSBzdHJlYW1fdGltZTsKPiA+ICsgICAg
ICAgICAgICBzdC0+bWFyZ2luX2V2YWxfY291bnQgPSAxOwo+ID4gKyAgICAgICAgICAgIHN0LT5t
aW5fbWFyZ2luX25leHQgPSBtYXJnaW47Cj4gPiArCj4gPiArICAgICAgICAgICAgc3QtPm1hcmdp
bl9zcHJlYWQgPSAoc3QtPm1heF9hdmdfbWFyZ2luIC0gc3QtPm1pbl9hdmdfbWFyZ2luICsgMSkg
LyAyOwo+ID4gKyAgICAgICAgICAgIHN0LT5taW5fYXZnX21hcmdpbiA9IHN0LT5hdmdfbWFyZ2lu
Owo+ID4gKyAgICAgICAgICAgIHN0LT5tYXhfYXZnX21hcmdpbiA9IGNlaWxmKHN0LT5hdmdfbWFy
Z2luKTsKPiAKPiBXaHkgZG8geW91IG5lZWQgY2VpbGYgaGVyZT8gWW91IGFyZSBqdXN0IHJlc3Rh
cnRpbmcgdGhlIG1pbi9tYXggY29tcHV0YXRpb24uCgpUbyBiZSB0cnVseSBjb3JyZWN0LCBpZiBh
dmdfbWFyZ2luIGlzIDcuOSBtcyB0aGVuIG1heF9hdmdfbWFyZ2luIHNob3VsZCAKYmUgOCBtcywg
bm90IDcgbXMuIEdyYW50ZWQsIGl0IHdvbid0IG1ha2UgYSBiaWcgZGlmZmVyZW5jZSBzaW5jZSB0
aGUgbWluIAphbmQgbWF4IGFyZSBlc3RpbWF0ZXMgYW55d2F5LiBJZiBjZWlsZigpIGlzIGFuIGlz
c3VlIGl0IGNhbiBiZSByZXBsYWNlZCAKd2l0aCAic3QtPmF2Z19tYXJnaW4gKyAxIiBvciBldmVu
IGEgYmFzaWMgcm91bmQgZG93bi4KCgpbLi4uXQo+ID4gKyAgICAgICAgICAgIGdpbnQzMiBudWRn
ZSA9IDA7Cj4gPiArICAgICAgICAgICAgaWYgKHN0LT5hdmdfbWFyZ2luICsgc3QtPm1hcmdpbl9z
cHJlYWQgPCB0YXJnZXRfbGFnKSB7Cj4gPiArICAgICAgICAgICAgICAgIG51ZGdlID0gTUlOKChm
cmFtZV9pbnRlcnZhbCArIDMpIC8gNCwKPiA+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
dGFyZ2V0X2xhZyAtIHN0LT5hdmdfbWFyZ2luKTsKPiA+ICsgICAgICAgICAgICB9IGVsc2UgaWYg
KHN0LT5taW5fbWFyZ2luID4gMCAmJgo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgc3QtPmF2
Z19tYXJnaW4gID4gdGFyZ2V0X2xhZyArIHN0LT5tYXJnaW5fc3ByZWFkKSB7Cj4gPiArICAgICAg
ICAgICAgICAgIG51ZGdlID0gLU1JTigoZnJhbWVfaW50ZXJ2YWwgKyAzKSAvIDQsCj4gPiArICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBNSU4oc3QtPmF2Z19tYXJnaW4gLSB0YXJnZXRfbGFn
LAo+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0LT5taW5fbWFyZ2luKSk7
Cj4gPiArICAgICAgICAgICAgfQo+ID4gKyAgICAgICAgICAgIGlmIChudWRnZSkgewo+ID4gKyAg
ICAgICAgICAgICAgICBzdC0+ZGVsYXkgKz0gbnVkZ2U7Cj4gPiArICAgICAgICAgICAgICAgIGZy
YW1lX3RpbWUgKz0gbnVkZ2U7Cj4gPiArCj4gPiArICAgICAgICAgICAgICAgIC8qIFRoZSBkZWxh
eSBudWRnZSBhbHNvIGltcGFjdHMgdGhlIG1hcmdpbiBoaXN0b3J5ICovCj4gPiArICAgICAgICAg
ICAgICAgIHN0LT5taW5fbWFyZ2luX25leHQgKz0gbnVkZ2U7Cj4gPiArICAgICAgICAgICAgICAg
IHN0LT5taW5fbWFyZ2luICs9IG51ZGdlOwo+ID4gKyAgICAgICAgICAgICAgICBzdC0+YXZnX21h
cmdpbiArPSBudWRnZTsKPiA+ICsgICAgICAgICAgICAgICAgc3QtPm1pbl9hdmdfbWFyZ2luICs9
IG51ZGdlOwo+ID4gKyAgICAgICAgICAgICAgICBzdC0+bWF4X2F2Z19tYXJnaW4gKz0gbnVkZ2U7
Cj4gPiArICAgICAgICAgICAgfQo+ID4gICAgICAgICAgfQo+ID4gICAgICB9Cj4gCj4gSSB3aWxs
IGhhdmUgdG8gcmVhZCBhbGwgdGhlc2UgZm9ybXVsYWVzIGFnYWluIGJ1dCBsb29rcyBsaWtlIHlv
dSBoYXZlCj4gcGFydCBvZiB0aGUgY29kZSB3aGljaCBpcyBkb2luZyBzb21lIHNtb290aCBjaGFu
Z2VzIGJ1dCBhdCBzb21lIGludGVydmFscwo+IHlvdSBkbyBzb21lIGJpZ2dlciBhZGp1c3RtZW50
cy4KPiBJdCBsb29rcyBxdWl0ZSBjb21wbGljYXRlZCBhbmQgaXQgc2VlbXMgaGFyZCB0byBzZWUg
aWYgaXQncyBnb29kIG9yIG5vdC4KPiBOb3Qgc3VyZSBpZiBpdCB3b3VsZCBiZSBwb3NzaWJsZSB0
byBlbmNhcHN1bGF0ZSBhbGwgdGhhdCBjb21wbGV4aXR5IAo+IGFuZCBoYXZlIHNvbWUgdGVzdHMu
Cj4gV2hhdCB0aGUgY2FzZXMgeW91IGhhdmUgaW4gbWluZCB0byByZXNvbHY/IEp1c3QgaWdub3Jp
bmcgcGVha3M/CgpUaGUgZ29hbCBpcyB0byBoYXZlIGEgc29saWQgbWluaW11bSBtYXJnaW4gdmFs
dWUsIG5vdCBvbmUgdGhhdCdzIGJhc2VkIApvbiB0aGUgcGFzdCBjb3VwbGUgb2YgbWlsbGlzZWNv
bmRzIGJlY2F1c2Ugd2UganVzdCByZXNldCB0byBhIG5ldyAKcGVyaW9kLgoKU28gbWluX21hcmdp
biBpcyB0aGUgdmFsdWUgd2UgZ290IGZyb20gdGhlIGxhc3QgcGVyaW9kLiBBbmQgCm1pbl9tYXJn
aW5fbmV4dCBpcyB0aGUgb25lIHdlIGNvbXB1dGUgZm9yIHVzZSBuZXh0LiBCdXQgd2hlbiB3ZSBh
ZGp1c3QgCnRoZSBkZWxheSB0aGlzIGltcGFjdHMgYWxsIG1hcmdpbiB2YWx1ZXMsIGN1cnJlbnQg
YW5kIG5leHQsIGhlbmNlIHRoZSAKYWRqdXN0bWVudHMgYWJvdmUuCgpUaGUgc2FtZSBnb2VzIGZv
ciBtaW5fYXZnX21hcmdpbiwgZXRjLgoKCj4gPiBAQCAtMjM4NSw2ICsyMzkxLDQ2IEBAIGludCBz
cGljZV9zZXNzaW9uX2dldF9jb25uZWN0aW9uX2lkKFNwaWNlU2Vzc2lvbgo+ID4gKnNlc3Npb24p
Cj4gPiAgICAgIHJldHVybiBzLT5jb25uZWN0aW9uX2lkOwo+ID4gIH0KPiA+ICAKPiA+ICtHX0dO
VUNfSU5URVJOQUwKPiA+ICtndWludDMyIHNwaWNlX3Nlc3Npb25fZ2V0X2NsaWVudF90aW1lKFNw
aWNlU2Vzc2lvbiAqc2Vzc2lvbiwgZ3VpbnQzMiBtbXRpbWUpCj4gPiArewo+IAo+IEkgYWdyZWUg
d2l0aCBTbmlyIHRoYXQgYSAiZ2V0IiBmdW5jdGlvbiBkb2luZyBzbyBtdWNoIHN0dWZmIGlzIGNv
bmZ1c2luZywKPiBtYXliZSBhICJzcGljZV9zZXNzaW9uX2FkanVzdF90b19jbGllbnRfdGltZSIg
b3IgYSAic3BpY2Vfc2Vzc2lvbl9tbXRpbWUyY2xpZW50X3RpbWUiLgoKSSBjYW4gZ28gd2l0aCBz
cGljZV9zZXNzaW9uX21tdGltZTJjbGllbnRfdGltZSgpLgoKCj4gPiArICAgIGdfcmV0dXJuX3Zh
bF9pZl9mYWlsKFNQSUNFX0lTX1NFU1NJT04oc2Vzc2lvbiksIGdfZ2V0X21vbm90b25pY190aW1l
KCkpOwo+ID4gKwo+Cj4gSSBzdXBwb3NlIGhlcmUgc2hvdWxkIGJlICJnX2dldF9tb25vdG9uaWNf
dGltZSgpIC8gMTAwMCIsIHRoYXQgaXMgbmV4dCAibm93Igo+IHZhbHVlLgoKUmlnaHQuCgoKPiAK
PiA+ICsgICAgU3BpY2VTZXNzaW9uUHJpdmF0ZSAqcyA9IHNlc3Npb24tPnByaXY7Cj4gPiArCj4g
PiArICAgIGd1aW50MzIgbm93ID0gZ19nZXRfbW9ub3RvbmljX3RpbWUoKSAvIDEwMDA7Cj4gPiAr
ICAgIGdpbnQ2NCBuZXdfb2Zmc2V0ID0gbm93IC0gbW10aW1lOwo+IAo+IFRoaXMgc2hvdWxkIGJl
IGFuIHVuc2lnbmVkIDMyIGJpdCwgYWxsIGFyaXRobWV0aWMgYXJlIG1vZHVsbyAyKiozMi4KClJp
Z2h0LCB0aGF0IHNob3VsZCB3b3JrLiBEb25lLgoKCj4gPiArICAgIGlmIChuZXdfb2Zmc2V0IDwg
cy0+Y2xpZW50X3RpbWVfb2Zmc2V0IC0gMTAwMCB8fAo+ID4gKyAgICAgICAgbmV3X29mZnNldCA+
IHMtPmNsaWVudF90aW1lX29mZnNldCArIDEwMDApIHsKPiA+ICsgICAgICAgIC8qIFRoZSBjaGFu
Z2UgaW4gb2Zmc2V0IHdhcyBsaWtlbHkgY2F1c2VkIGJ5IGEgc2VydmVyIG1pZ3JhdGlvbi4KPiA+
ICsgICAgICAgICAqIFJlc2V0IHRoZSB0aW1lIG9mZnNldC4KPiA+ICsgICAgICAgICAqLwo+IAo+
IFdhcyB0aGlzIHRlc3RlZD8gSXMgdGhlcmUgbm8gb3RoZXIgZXZlbnQgdG8gc3BlY2lmaWNhbGx5
IGRldGVjdCBtaWdyYXRpb24/CgpJIGFkZGVkIGNvZGUgdG8gc2ltdWxhdGUgYSBtaWdyYXRpb24g
YmFzZWQgb24gdGhlIApkaXNwbGF5X3Nlc3Npb25fbW1fdGltZV9yZXNldF9jYigpIGNvbW1lbnQg
aW4gY2hhbm5lbC1kaXNwbGF5LmMuIEJ1dCBJIApoYXZlIG5vIHdheSBvZiBhY3R1YWxseSB0ZXN0
aW5nIGl0LgoKCj4gV2UgKHRoZSBjbGllbnQpIG5lZWRzIHRvIHJlY29ubmVjdCBkdXJpbmcgbWln
cmF0aW9uIHNvIHN1cmVseSB0aGVyZSdzCj4gYW5vdGhlciBldmVudCBkdXJpbmcgdGhpcyBjaGFu
Z2UuCgpUaGUgcHJvYmxlbSBhcyBJIHVuZGVyc3RhbmQgaXQgaXMgdGhhdCB0aGUgcGxheWJhY2sg
Y2hhbm5lbCBtYXkgYmUgCm1pZ3JhdGVkIGFuZCBzdGFydCByZWNlaXZpbmcgbmV3IG1tdGltZSB0
aW1lc3RhbXBzIGJlZm9yZSB0aGUgb2xkIHZpZGVvIApzdHJlYW0gaGFzIGJlZW4gc2h1dCBkb3du
LiBUaGlzIGNhbiByZXN1bHQgaW4gYSBkaXNjcmVwZW5jeSBpbiB0aGUgCnRpbWUgYmFzZSBhbmQg
aWYgdGhlcmUgaXMgYSBjbGVhbiB3YXkgdG8gZGV0ZWN0IGFuZCBkZWFsIHdpdGggaXQgdGhhdCAK
Y29tbWVudCBkb2VzIG5vdCBzYXkgaG93LgoKCj4gPiArICAgICAgICBzLT5jbGllbnRfdGltZV9v
ZmZzZXQgPSBuZXdfb2Zmc2V0Owo+ID4gKyAgICAgICAgcmV0dXJuIG5vdzsKPiA+ICsgICAgfQo+
ID4gKyAgICBpZiAobmV3X29mZnNldCA8IHMtPmNsaWVudF90aW1lX29mZnNldCkgewo+ID4gKyAg
ICAgICAgLyogVGhlIHByZXZpb3VzIG1lc3NhZ2Ugd2UgdXNlZCB0byBjb21wdXRlIHRoZSBvZmZz
ZXQgd2FzIHByb2JhYmx5Cj4gPiArICAgICAgICAgKiBkZWxheWVkIHJlc3VsdGluZyBpbiBhIHRv
byBsYXJnZSBvZmZzZXQuIEV2ZW50dWFsbHkgdGhlIG9mZnNldAo+ID4gKyAgICAgICAgICogc2hv
dWxkIHNldHRsZSB0byB0aGUgdHJ1ZSBjbG9jayBvZmZzZXQgcGx1cyB0aGUgbmV0d29yayBsYXRl
bmN5LAo+ID4gKyAgICAgICAgICogZXhjbHVkaW5nIHRoZSBuZXR3b3JrIGppdHRlci4KPiA+ICsg
ICAgICAgICAqLwo+IAo+IEEgYml0IE9UOiBtYXliZSB3b3VsZCBiZSBncmVhdCB0byBoYXZlIHRo
ZSAiY2xpZW50IHRpbWUiIHdoZW4gd2Ugc3RhcnQgcmVjZWl2aW5nCj4gdGhlIG1lc3NhZ2UgZnJv
bSB0aGUgc2VydmVyIGluc3RlYWQgb2YgdGFraW5nIHRoZSB0aW1lIGFmdGVyIHRoZSBmdWxsIG1l
c3NhZ2UKPiBhcnJpdmVzLiBTaG91bGQgYmUgbW9yZSBjb25zaXN0ZW50IHdpdGggc2VydmVyIG1t
dGltZSBjaGFuZ2VzIChzZXJ2ZXIgdGltZXN0YW1wCj4gbWVzc2FnZXMgYmVmb3JlIHNlbmRpbmcp
LgoKSSBkb24ndCB0aGluayB0aGF0J3MgcG9zc2libGUgd2l0aG91dCBoYXZpbmcgbG93ZXIgbGF5
ZXJzIGtub3cgd2F5IHRvbyAKbXVjaCBmb3IgdGhlaXIgb3duIGdvb2QuCgoKLS0gCkZyYW5jb2lz
IEdvdWdldCA8ZmdvdWdldEBjb2Rld2VhdmVycy5jb20+Cl9fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1k
ZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcv
bWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
