Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id EFB939E3FB
	for <lists+spice-devel@lfdr.de>; Tue, 27 Aug 2019 11:23:32 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 48633898BE;
	Tue, 27 Aug 2019 09:23:31 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id EAA0D898BE
 for <spice-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 09:23:30 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx04.intmail.prod.int.phx2.redhat.com
 [10.5.11.14])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 95D9918012D9
 for <spice-devel@lists.freedesktop.org>; Tue, 27 Aug 2019 09:23:30 +0000 (UTC)
Received: from fziglio.remote.csb (ovpn-204-114.brq.redhat.com [10.40.204.114])
 by smtp.corp.redhat.com (Postfix) with ESMTP id E166D5D9CC;
 Tue, 27 Aug 2019 09:23:28 +0000 (UTC)
From: Frediano Ziglio <fziglio@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Tue, 27 Aug 2019 10:22:29 +0100
Message-Id: <20190827092246.10276-13-fziglio@redhat.com>
In-Reply-To: <20190827092246.10276-1-fziglio@redhat.com>
References: <20190827092246.10276-1-fziglio@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.14
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.6.2
 (mx1.redhat.com [10.5.110.63]); Tue, 27 Aug 2019 09:23:30 +0000 (UTC)
Subject: [Spice-devel] [PATCH spice-gtk v4 12/29] fixup! usb-redir: add
 files for SCSI and USB MSC implementation
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

RG8gbm90IHVzZSBHX0dVSU5UMzJfRk9STUFULgpXZSBzdXBwb3J0IGEgbWluaW11bSBvZiAzMiBi
aXQgYXJjaGl0ZWN0dXJlcy4KLS0tCiBzcmMvY2QtdXNiLWJ1bGstbXNkLmMgfCA1MyArKysrKysr
KysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgMjYg
aW5zZXJ0aW9ucygrKSwgMjcgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvc3JjL2NkLXVzYi1i
dWxrLW1zZC5jIGIvc3JjL2NkLXVzYi1idWxrLW1zZC5jCmluZGV4IDQ5ZTAxZWI2Li41ZDk1ZGFj
NyAxMDA2NDQKLS0tIGEvc3JjL2NkLXVzYi1idWxrLW1zZC5jCisrKyBiL3NyYy9jZC11c2ItYnVs
ay1tc2QuYwpAQCAtMTM4LDcgKzEzOCw3IEBAIFVzYkNkQnVsa01zZERldmljZSAqY2RfdXNiX2J1
bGtfbXNkX2FsbG9jKHZvaWQgKnVzYl91c2VyX2RhdGEsIHVpbnQzMl90IG1heF9sdW5zCiAgICAg
Y2RfdXNiX2J1bGtfbXNkX3NldF9zdGF0ZShjZCwgVVNCX0NEX1NUQVRFX0lOSVQpOwogICAgIGNk
LT51c2JfdXNlcl9kYXRhID0gdXNiX3VzZXJfZGF0YTsKIAotICAgIFNQSUNFX0RFQlVHKCJBbGxv
YywgbWF4X2x1bnM6JSIgR19HVUlOVDMyX0ZPUk1BVCwgbWF4X2x1bnMpOworICAgIFNQSUNFX0RF
QlVHKCJBbGxvYywgbWF4X2x1bnM6JXUiLCBtYXhfbHVucyk7CiAgICAgcmV0dXJuIGNkOwogfQog
CkBAIC0xNTUsNyArMTU1LDcgQEAgaW50IGNkX3VzYl9idWxrX21zZF9yZWFsaXplKFVzYkNkQnVs
a01zZERldmljZSAqY2QsIHVpbnQzMl90IGx1biwKIAogICAgIHJjID0gY2Rfc2NzaV9kZXZfcmVh
bGl6ZShjZC0+c2NzaV90YXJnZXQsIGx1biwgJnNjc2lfZGV2X3BhcmFtcyk7CiAgICAgaWYgKHJj
ICE9IDApIHsKLSAgICAgICAgU1BJQ0VfRVJST1IoIkZhaWxlZCB0byByZWFsaXplIGx1bjolIiBH
X0dVSU5UMzJfRk9STUFULCBsdW4pOworICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRvIHJl
YWxpemUgbHVuOiV1IiwgbHVuKTsKICAgICAgICAgcmV0dXJuIHJjOwogICAgIH0KIApAQCAtMTY1
LDcgKzE2NSw3IEBAIGludCBjZF91c2JfYnVsa19tc2RfcmVhbGl6ZShVc2JDZEJ1bGtNc2REZXZp
Y2UgKmNkLCB1aW50MzJfdCBsdW4sCiAgICAgICAgIGNkX3Njc2lfZGV2X3JlcXVlc3RfcmVsZWFz
ZShjZC0+c2NzaV90YXJnZXQsICZjZC0+dXNiX3JlcS5zY3NpX3JlcSk7CiAgICAgfQogCi0gICAg
U1BJQ0VfREVCVUcoIlJlYWxpemUgT0sgbHVuOiUiIEdfR1VJTlQzMl9GT1JNQVQsIGx1bik7Cisg
ICAgU1BJQ0VfREVCVUcoIlJlYWxpemUgT0sgbHVuOiV1IiwgbHVuKTsKICAgICByZXR1cm4gMDsK
IH0KIApAQCAtMTc1LDExICsxNzUsMTEgQEAgaW50IGNkX3VzYl9idWxrX21zZF9sb2NrKFVzYkNk
QnVsa01zZERldmljZSAqY2QsIHVpbnQzMl90IGx1biwgZ2Jvb2xlYW4gbG9jaykKIAogICAgIHJj
ID0gY2Rfc2NzaV9kZXZfbG9jayhjZC0+c2NzaV90YXJnZXQsIGx1biwgbG9jayk7CiAgICAgaWYg
KHJjICE9IDApIHsKLSAgICAgICAgU1BJQ0VfRVJST1IoIkZhaWxlZCB0byBsb2NrIGx1bjolIiBH
X0dVSU5UMzJfRk9STUFULCBsdW4pOworICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRvIGxv
Y2sgbHVuOiV1IiwgbHVuKTsKICAgICAgICAgcmV0dXJuIHJjOwogICAgIH0KIAotICAgIFNQSUNF
X0RFQlVHKCJMb2NrIE9LIGx1bjolIiBHX0dVSU5UMzJfRk9STUFULCBsdW4pOworICAgIFNQSUNF
X0RFQlVHKCJMb2NrIE9LIGx1bjoldSIsIGx1bik7CiAgICAgcmV0dXJuIDA7CiB9CiAKQEAgLTE5
MCwxMSArMTkwLDExIEBAIGludCBjZF91c2JfYnVsa19tc2RfbG9hZChVc2JDZEJ1bGtNc2REZXZp
Y2UgKmNkLCB1aW50MzJfdCBsdW4sCiAKICAgICByYyA9IGNkX3Njc2lfZGV2X2xvYWQoY2QtPnNj
c2lfdGFyZ2V0LCBsdW4sIG1lZGlhX3BhcmFtcyk7CiAgICAgaWYgKHJjICE9IDApIHsKLSAgICAg
ICAgU1BJQ0VfRVJST1IoIkZhaWxlZCB0byBsb2FkIGx1bjolIiBHX0dVSU5UMzJfRk9STUFULCBs
dW4pOworICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRvIGxvYWQgbHVuOiV1IiwgbHVuKTsK
ICAgICAgICAgcmV0dXJuIHJjOwogICAgIH0KIAotICAgIFNQSUNFX0RFQlVHKCJMb2FkIE9LIGx1
bjolIiBHX0dVSU5UMzJfRk9STUFULCBsdW4pOworICAgIFNQSUNFX0RFQlVHKCJMb2FkIE9LIGx1
bjoldSIsIGx1bik7CiAgICAgcmV0dXJuIDA7CiB9CiAKQEAgLTIwNCw3ICsyMDQsNyBAQCBpbnQg
Y2RfdXNiX2J1bGtfbXNkX2dldF9pbmZvKFVzYkNkQnVsa01zZERldmljZSAqY2QsIHVpbnQzMl90
IGx1biwgQ2RTY3NpRGV2aWNlSQogCiAgICAgcmMgPSBjZF9zY3NpX2Rldl9nZXRfaW5mbyhjZC0+
c2NzaV90YXJnZXQsIGx1biwgbHVuX2luZm8pOwogICAgIGlmIChyYyAhPSAwKSB7Ci0gICAgICAg
IFNQSUNFX0VSUk9SKCJGYWlsZWQgdG8gZ2V0IGluZm8gbHVuOiUiIEdfR1VJTlQzMl9GT1JNQVQs
IGx1bik7CisgICAgICAgIFNQSUNFX0VSUk9SKCJGYWlsZWQgdG8gZ2V0IGluZm8gbHVuOiV1Iiwg
bHVuKTsKICAgICAgICAgcmV0dXJuIHJjOwogICAgIH0KIApAQCAtMjE3LDExICsyMTcsMTEgQEAg
aW50IGNkX3VzYl9idWxrX21zZF91bmxvYWQoVXNiQ2RCdWxrTXNkRGV2aWNlICpjZCwgdWludDMy
X3QgbHVuKQogCiAgICAgcmMgPSBjZF9zY3NpX2Rldl91bmxvYWQoY2QtPnNjc2lfdGFyZ2V0LCBs
dW4pOwogICAgIGlmIChyYyAhPSAwKSB7Ci0gICAgICAgIFNQSUNFX0VSUk9SKCJGYWlsZWQgdG8g
dW5sb2FkIGx1bjolIiBHX0dVSU5UMzJfRk9STUFULCBsdW4pOworICAgICAgICBTUElDRV9FUlJP
UigiRmFpbGVkIHRvIHVubG9hZCBsdW46JXUiLCBsdW4pOwogICAgICAgICByZXR1cm4gcmM7CiAg
ICAgfQogCi0gICAgU1BJQ0VfREVCVUcoIlVubG9hZCBPSyBsdW46JSIgR19HVUlOVDMyX0ZPUk1B
VCwgbHVuKTsKKyAgICBTUElDRV9ERUJVRygiVW5sb2FkIE9LIGx1bjoldSIsIGx1bik7CiAgICAg
cmV0dXJuIDA7CiB9CiAKQEAgLTIzMSwxMSArMjMxLDExIEBAIGludCBjZF91c2JfYnVsa19tc2Rf
dW5yZWFsaXplKFVzYkNkQnVsa01zZERldmljZSAqY2QsIHVpbnQzMl90IGx1bikKIAogICAgIHJj
ID0gY2Rfc2NzaV9kZXZfdW5yZWFsaXplKGNkLT5zY3NpX3RhcmdldCwgbHVuKTsKICAgICBpZiAo
cmMgIT0gMCkgewotICAgICAgICBTUElDRV9FUlJPUigiVW5yZWFsaXplIGx1bjolIiBHX0dVSU5U
MzJfRk9STUFULCBsdW4pOworICAgICAgICBTUElDRV9FUlJPUigiVW5yZWFsaXplIGx1bjoldSIs
IGx1bik7CiAgICAgICAgIHJldHVybiByYzsKICAgICB9CiAKLSAgICBTUElDRV9ERUJVRygiVW5y
ZWFsaXplIGx1bjolIiBHX0dVSU5UMzJfRk9STUFULCBsdW4pOworICAgIFNQSUNFX0RFQlVHKCJV
bnJlYWxpemUgbHVuOiV1IiwgbHVuKTsKICAgICByZXR1cm4gMDsKIH0KIApAQCAtMjY0LDcgKzI2
NCw3IEBAIHN0YXRpYyBpbnQgcGFyc2VfdXNiX21zZF9jbWQoVXNiQ2RCdWxrTXNkRGV2aWNlICpj
ZCwgdWludDhfdCAqYnVmLCB1aW50MzJfdCBjYndfCiAgICAgQ2RTY3NpUmVxdWVzdCAqc2NzaV9y
ZXEgPSAmdXNiX3JlcS0+c2NzaV9yZXE7CiAKICAgICBpZiAoY2J3X2xlbiAhPSBzaXplb2YoKmNi
dykpIHsKLSAgICAgICAgU1BJQ0VfRVJST1IoIkNNRDogQmFkIENCVyBzaXplOiUiIEdfR1VJTlQz
Ml9GT1JNQVQsIGNid19sZW4pOworICAgICAgICBTUElDRV9FUlJPUigiQ01EOiBCYWQgQ0JXIHNp
emU6JXUiLCBjYndfbGVuKTsKICAgICAgICAgcmV0dXJuIC0xOwogICAgIH0KICAgICBpZiAobGUz
MnRvaChjYnctPnNpZykgIT0gMHg0MzQyNTM1NSkgeyAvKiBNU0QgY29tbWFuZCBzaWduYXR1cmUg
Ki8KQEAgLTMwNCwxMCArMzA0LDEwIEBAIHN0YXRpYyBpbnQgcGFyc2VfdXNiX21zZF9jbWQoVXNi
Q2RCdWxrTXNkRGV2aWNlICpjZCwgdWludDhfdCAqYnVmLCB1aW50MzJfdCBjYndfCiAKICAgICBz
Y3NpX3JlcS0+bHVuID0gdXNiX3JlcS0+bHVuOwogCi0gICAgU1BJQ0VfREVCVUcoIkNNRCBsdW46
JSIgR19HVUlOVDMyX0ZPUk1BVCAiIHRhZzolI3ggZmxhZ3M6JTA4eCAiCi0gICAgICAgICJjZGJf
bGVuOiUiIEdfR1VJTlQzMl9GT1JNQVQgIiByZXFfbGVuOiUiIEdfR1VJTlQzMl9GT1JNQVQsCi0g
ICAgICAgIHVzYl9yZXEtPmx1biwgbGUzMnRvaChjYnctPnRhZyksIGNidy0+ZmxhZ3MsCi0gICAg
ICAgIHNjc2lfcmVxLT5jZGJfbGVuLCB1c2JfcmVxLT51c2JfcmVxX2xlbik7CisgICAgU1BJQ0Vf
REVCVUcoIkNNRCBsdW46JXUgdGFnOiUjeCBmbGFnczolMDh4ICIKKyAgICAgICAgICAgICAgICAi
Y2RiX2xlbjoldSByZXFfbGVuOiV1IiwKKyAgICAgICAgICAgICAgICB1c2JfcmVxLT5sdW4sIGxl
MzJ0b2goY2J3LT50YWcpLCBjYnctPmZsYWdzLAorICAgICAgICAgICAgICAgIHNjc2lfcmVxLT5j
ZGJfbGVuLCB1c2JfcmVxLT51c2JfcmVxX2xlbik7CiAKICAgICAvKiBwcmVwYXJlIHN0YXR1cyAt
IENTVyAqLwogICAgIHVzYl9yZXEtPmNzdy5zaWcgPSBodG9sZTMyKDB4NTM0MjUzNTUpOwpAQCAt
MzY0LDggKzM2NCw4IEBAIHN0YXRpYyB2b2lkIHVzYl9jZF9zZW5kX2RhdGFfaW4oVXNiQ2RCdWxr
TXNkRGV2aWNlICpjZCwgdWludDMyX3QgbWF4X2xlbikKICAgICB1aW50MzJfdCBhdmFpbF9sZW4g
PSB1c2JfcmVxLT5zY3NpX2luX2xlbiAtIHVzYl9yZXEtPnhmZXJfbGVuOwogICAgIHVpbnQzMl90
IHNlbmRfbGVuID0gTUlOKGF2YWlsX2xlbiwgbWF4X2xlbik7CiAKLSAgICBTUElDRV9ERUJVRygi
RGF0YS1pbiBjbWQgdGFnIDB4JXgsIHJlbWFpbnMgJSIgR19HVUlOVDMyX0ZPUk1BVAotICAgICAg
ICAgICAgICAgICIsIHJlcXVlc3RlZCAlIiBHX0dVSU5UMzJfRk9STUFUICIsIHNlbmQgJSIgR19H
VUlOVDMyX0ZPUk1BVCwKKyAgICBTUElDRV9ERUJVRygiRGF0YS1pbiBjbWQgdGFnIDB4JXgsIHJl
bWFpbnMgJXUiCisgICAgICAgICAgICAgICAgIiwgcmVxdWVzdGVkICV1LCBzZW5kICV1IiwKICAg
ICAgICAgICAgICAgICB1c2JfcmVxLT5jc3cudGFnLCBhdmFpbF9sZW4sIG1heF9sZW4sIHNlbmRf
bGVuKTsKIAogICAgIGdfYXNzZXJ0KG1heF9sZW4gPD0gdXNiX3JlcS0+dXNiX3JlcV9sZW4pOwpA
QCAtMzk2LDcgKzM5Niw3IEBAIGludCBjZF91c2JfYnVsa19tc2RfcmVhZChVc2JDZEJ1bGtNc2RE
ZXZpY2UgKmNkLCB1aW50MzJfdCBtYXhfbGVuKQogICAgIFVzYkNkQnVsa01zZFJlcXVlc3QgKnVz
Yl9yZXEgPSAmY2QtPnVzYl9yZXE7CiAgICAgQ2RTY3NpUmVxdWVzdCAqc2NzaV9yZXEgPSAmdXNi
X3JlcS0+c2NzaV9yZXE7CiAKLSAgICBTUElDRV9ERUJVRygibXNkX3JlYWQsIHN0YXRlOiAlcywg
bGVuICUiIEdfR1VJTlQzMl9GT1JNQVQsCisgICAgU1BJQ0VfREVCVUcoIm1zZF9yZWFkLCBzdGF0
ZTogJXMsIGxlbiAldSIsCiAgICAgICAgICAgICAgICAgdXNiX2NkX3N0YXRlX3N0cihjZC0+c3Rh
dGUpLCBtYXhfbGVuKTsKIAogICAgIHN3aXRjaCAoY2QtPnN0YXRlKSB7CkBAIC00MDgsOCArNDA4
LDggQEAgaW50IGNkX3VzYl9idWxrX21zZF9yZWFkKFVzYkNkQnVsa01zZERldmljZSAqY2QsIHVp
bnQzMl90IG1heF9sZW4pCiAgICAgICAgICAgICB1c2JfY2Rfc2VuZF9zdGF0dXMoY2QpOwogICAg
ICAgICB9IGVsc2UgewogICAgICAgICAgICAgdXNiX3JlcS0+YnVsa19pbl9sZW4gKz0gbWF4X2xl
bjsKLSAgICAgICAgICAgIFNQSUNFX0RFQlVHKCJtc2RfcmVhZCBDU1csIHJlcSBpbmNvbXBsZXRl
LCBhZGRlZCBsZW4gJSIgR19HVUlOVDMyX0ZPUk1BVAotICAgICAgICAgICAgICAgICAgICAgICAg
IiBzYXZlZCBsZW4gJSIgR19HVUlOVDMyX0ZPUk1BVCwKKyAgICAgICAgICAgIFNQSUNFX0RFQlVH
KCJtc2RfcmVhZCBDU1csIHJlcSBpbmNvbXBsZXRlLCBhZGRlZCBsZW4gJXUiCisgICAgICAgICAg
ICAgICAgICAgICAgICAiIHNhdmVkIGxlbiAldSIsCiAgICAgICAgICAgICAgICAgICAgICAgICBt
YXhfbGVuLCB1c2JfcmVxLT5idWxrX2luX2xlbik7CiAgICAgICAgIH0KICAgICAgICAgYnJlYWs7
CkBAIC00MTksOCArNDE5LDcgQEAgaW50IGNkX3VzYl9idWxrX21zZF9yZWFkKFVzYkNkQnVsa01z
ZERldmljZSAqY2QsIHVpbnQzMl90IG1heF9sZW4pCiAgICAgICAgICAgICB1c2JfY2Rfc2VuZF9k
YXRhX2luKGNkLCBtYXhfbGVuKTsKICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgIHVzYl9y
ZXEtPmJ1bGtfaW5fbGVuICs9IG1heF9sZW47Ci0gICAgICAgICAgICBTUElDRV9ERUJVRygibXNk
X3JlYWQgREFUQUlOLCByZXEgaW5jb21wbGV0ZSwgYWRkZWQgbGVuICUiIEdfR1VJTlQzMl9GT1JN
QVQKLSAgICAgICAgICAgICAgICAgICAgICAgICIgc2F2ZWQgbGVuICUiIEdfR1VJTlQzMl9GT1JN
QVQsCisgICAgICAgICAgICBTUElDRV9ERUJVRygibXNkX3JlYWQgREFUQUlOLCByZXEgaW5jb21w
bGV0ZSwgYWRkZWQgbGVuICV1IHNhdmVkIGxlbiAldSIsCiAgICAgICAgICAgICAgICAgICAgICAg
ICBtYXhfbGVuLCB1c2JfcmVxLT5idWxrX2luX2xlbik7CiAgICAgICAgIH0KICAgICAgICAgYnJl
YWs7CkBAIC00MzMsNyArNDMyLDcgQEAgaW50IGNkX3VzYl9idWxrX21zZF9yZWFkKFVzYkNkQnVs
a01zZERldmljZSAqY2QsIHVpbnQzMl90IG1heF9sZW4pCiAgICAgICAgIGJyZWFrOwogCiAgICAg
ZGVmYXVsdDoKLSAgICAgICAgU1BJQ0VfRVJST1IoIlVuZXhwZWN0ZWQgcmVhZCBzdGF0ZTogJXMs
IGxlbiAlIiBHX0dVSU5UMzJfRk9STUFULAorICAgICAgICBTUElDRV9FUlJPUigiVW5leHBlY3Rl
ZCByZWFkIHN0YXRlOiAlcywgbGVuICV1IiwKICAgICAgICAgICAgICAgICAgICAgdXNiX2NkX3N0
YXRlX3N0cihjZC0+c3RhdGUpLCBtYXhfbGVuKTsKICAgICAgICAgZ290byBmYWlsOwogICAgIH0K
QEAgLTUwNyw3ICs1MDYsNyBAQCBpbnQgY2RfdXNiX2J1bGtfbXNkX3dyaXRlKFVzYkNkQnVsa01z
ZERldmljZSAqY2QsIHVpbnQ4X3QgKmJ1Zl9vdXQsIHVpbnQzMl90IGJ1ZgogICAgICAgICBjZF91
c2JfYnVsa19tc2Rfc2V0X3N0YXRlKGNkLCBVU0JfQ0RfU1RBVEVfQ1NXKTsgLyogU3RhdHVzIG5l
eHQgKi8KICAgICAgICAgYnJlYWs7CiAgICAgZGVmYXVsdDoKLSAgICAgICAgU1BJQ0VfREVCVUco
IlVuZXhwZWN0ZWQgd3JpdGUgc3RhdGU6ICVzLCBsZW4gJSIgR19HVUlOVDMyX0ZPUk1BVCwKKyAg
ICAgICAgU1BJQ0VfREVCVUcoIlVuZXhwZWN0ZWQgd3JpdGUgc3RhdGU6ICVzLCBsZW4gJXUiLAog
ICAgICAgICAgICAgICAgICAgICB1c2JfY2Rfc3RhdGVfc3RyKGNkLT5zdGF0ZSksIGJ1Zl9vdXRf
bGVuKTsKICAgICAgICAgZ290byBmYWlsOwogICAgIH0KQEAgLTUzNiw3ICs1MzUsNyBAQCB2b2lk
IGNkX3Njc2lfdGFyZ2V0X3Jlc2V0X2NvbXBsZXRlKHZvaWQgKnRhcmdldF91c2VyX2RhdGEpCiB2
b2lkIGNkX3Njc2lfZGV2X2NoYW5nZWQodm9pZCAqdGFyZ2V0X3VzZXJfZGF0YSwgdWludDMyX3Qg
bHVuKQogewogICAgIFVzYkNkQnVsa01zZERldmljZSAqY2QgPSAoVXNiQ2RCdWxrTXNkRGV2aWNl
ICopdGFyZ2V0X3VzZXJfZGF0YTsKLSAgICBTUElDRV9ERUJVRygiRGV2aWNlIGNoYW5nZWQsIHN0
YXRlOiAlcyBsdW46ICUiIEdfR1VJTlQzMl9GT1JNQVQsCisgICAgU1BJQ0VfREVCVUcoIkRldmlj
ZSBjaGFuZ2VkLCBzdGF0ZTogJXMgbHVuOiAldSIsCiAgICAgICAgICAgICAgICAgdXNiX2NkX3N0
YXRlX3N0cihjZC0+c3RhdGUpLCBsdW4pOwogICAgIGNkX3VzYl9idWxrX21zZF9sdW5fY2hhbmdl
ZChjZC0+dXNiX3VzZXJfZGF0YSwgbHVuKTsKIH0KLS0gCjIuMjAuMQoKX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0
ClNwaWNlLWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNr
dG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVs
