Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id DB883B37FC
	for <lists+spice-devel@lfdr.de>; Mon, 16 Sep 2019 12:21:17 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 900746E8F5;
	Mon, 16 Sep 2019 10:21:15 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D8DDB6E8F2
 for <spice-devel@lists.freedesktop.org>; Mon, 16 Sep 2019 10:21:13 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx05.intmail.prod.int.phx2.redhat.com
 [10.5.11.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 84D4A64120
 for <spice-devel@lists.freedesktop.org>; Mon, 16 Sep 2019 10:21:13 +0000 (UTC)
Received: from wingsuit.mxp.redhat.com (unknown [10.32.181.155])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 0FC375D6B2
 for <spice-devel@lists.freedesktop.org>; Mon, 16 Sep 2019 10:21:12 +0000 (UTC)
From: Victor Toso <victortoso@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Mon, 16 Sep 2019 12:20:53 +0200
Message-Id: <20190916102104.20943-11-victortoso@redhat.com>
In-Reply-To: <20190916102104.20943-1-victortoso@redhat.com>
References: <20190916102104.20943-1-victortoso@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.15
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.39]); Mon, 16 Sep 2019 10:21:13 +0000 (UTC)
Subject: [Spice-devel] [PATCH v7 10/20] fixup! usb-redir: add files for SCSI
 and USB MSC implementation
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

RnJvbTogRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlvQHJlZGhhdC5jb20+CgpEbyBub3QgdXNlIDB4
JXUgYXMgZm9ybWF0LCBtaXNsZWFzZGluZywgJXUgaXMgZGVjaW1hbC4KQWxzbyBtb3N0IG9mIHRo
ZXNlIGFyZSBmb3JtYXR0aW5nIGx1biBudW1iZXIgd2hpY2ggaW4gbXVsdGlwbGUgY2FzZXMgYXJl
CmV4cHJlc3NlZCBhcyBkZWNpbWFsLgotLS0KIHNyYy9jZC1zY3NpLmMgfCAyMCArKysrKysrKysr
LS0tLS0tLS0tLQogMSBmaWxlIGNoYW5nZWQsIDEwIGluc2VydGlvbnMoKyksIDEwIGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL3NyYy9jZC1zY3NpLmMgYi9zcmMvY2Qtc2NzaS5jCmluZGV4IDI1
ODQyYjMuLmVhNjgyZWYgMTAwNjQ0Ci0tLSBhL3NyYy9jZC1zY3NpLmMKKysrIGIvc3JjL2NkLXNj
c2kuYwpAQCAtMjA3OSw3ICsyMDc5LDcgQEAgc3RhdGljIHZvaWQgY2Rfc2NzaV9jbWRfc2VuZF9l
dmVudChDZFNjc2lMVSAqZGV2LCBDZFNjc2lSZXF1ZXN0ICpyZXEpCiAgICAgcGVyc19wcmV2ZW50
ID0gZXZlbnRbMV0gJiAweDgwOwogICAgIGV4dF9yZXFfY29kZSA9IChldmVudFsyXSA8PCA4KSB8
IGV2ZW50WzNdOwogCi0gICAgU1BJQ0VfREVCVUcoInNlbmRfZXZlbnQsIGx1bjoweCV1IGltbWVk
OiV1IHBhcmFtX2xlbjoldSIKKyAgICBTUElDRV9ERUJVRygic2VuZF9ldmVudCwgbHVuOiV1IGlt
bWVkOiV1IHBhcmFtX2xlbjoldSIKICAgICAgICAgICAgICAgICAiIGV4dF9yZXFfZXZlbnQ6MHgl
eCBleHRfcmVxX3N0YXR1czoweCV4IgogICAgICAgICAgICAgICAgICIgcGVyc19wcmV2ZW50OjB4
JXggZXh0X3JlcV9jb2RlOjB4JXgiLAogICAgICAgICAgICAgICAgIHJlcS0+bHVuLCBpbW1lZCwg
ZXZlbnRfcGFyYW1fbGVuLCBleHRfcmVxX2V2ZW50LApAQCAtMjE3Nyw3ICsyMTc3LDcgQEAgc3Rh
dGljIHZvaWQgY2Rfc2NzaV9jbWRfc3RhcnRfc3RvcF91bml0KENkU2NzaUxVICpkZXYsIENkU2Nz
aVJlcXVlc3QgKnJlcSkKICAgICBsb2FkX2VqZWN0ID0gKHJlcS0+Y2RiWzRdICYgQ0RfU1RBUlRf
U1RPUF9GTEFHX0xPRUopID8gVFJVRSA6IEZBTFNFOwogICAgIHBvd2VyX2NvbmQgPSByZXEtPmNk
Yls0XSA+PiA0OwogCi0gICAgU1BJQ0VfREVCVUcoInN0YXJ0X3N0b3BfdW5pdCwgbHVuOjB4JXUi
CisgICAgU1BJQ0VfREVCVUcoInN0YXJ0X3N0b3BfdW5pdCwgbHVuOiV1IgogICAgICAgICAgICAg
ICAgICIgaW1tZWQ6JWQgc3RhcnQ6JWQgbG9hZF9lamVjdDolZCBwb3dlcl9jb25kOjB4JXgoJXMp
IiwKICAgICAgICAgICAgICAgICByZXEtPmx1biwgaW1tZWQsIHN0YXJ0LCBsb2FkX2VqZWN0LCBw
b3dlcl9jb25kLAogICAgICAgICAgICAgICAgIGNkX3Njc2lfc3RhcnRfc3RvcF9wb3dlcl9jb25k
X25hbWUocG93ZXJfY29uZCkpOwpAQCAtMjE4NywyMyArMjE4NywyMyBAQCBzdGF0aWMgdm9pZCBj
ZF9zY3NpX2NtZF9zdGFydF9zdG9wX3VuaXQoQ2RTY3NpTFUgKmRldiwgQ2RTY3NpUmVxdWVzdCAq
cmVxKQogICAgICAgICBpZiAoIXN0YXJ0KSB7IC8qIHN0b3AgdGhlIHVuaXQgKi8KICAgICAgICAg
ICAgIGlmIChsb2FkX2VqZWN0KSB7IC8qIGVqZWN0IG1lZGl1bSAqLwogICAgICAgICAgICAgICAg
IGlmIChkZXYtPnByZXZlbnRfbWVkaWFfcmVtb3ZhbCkgewotICAgICAgICAgICAgICAgICAgICBT
UElDRV9ERUJVRygic3RhcnRfc3RvcF91bml0LCBsdW46MHgldSIKKyAgICAgICAgICAgICAgICAg
ICAgU1BJQ0VfREVCVUcoInN0YXJ0X3N0b3BfdW5pdCwgbHVuOiV1IgogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAiIHByZXZlbnRfbWVkaWFfcmVtb3ZhbCBzZXQsIGVqZWN0IGZhaWxl
ZCIsIHJlcS0+bHVuKTsKICAgICAgICAgICAgICAgICAgICAgY2Rfc2NzaV9jbWRfY29tcGxldGVf
Y2hlY2tfY29uZChkZXYsIHJlcSwgJnNlbnNlX2NvZGVfTUVESVVNX1JFTU9WQUxfUFJFVkVOVEVE
KTsKICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgIH0KLSAgICAg
ICAgICAgICAgICBTUElDRV9ERUJVRygic3RhcnRfc3RvcF91bml0LCBsdW46MHgldSBlamVjdCIs
IHJlcS0+bHVuKTsKKyAgICAgICAgICAgICAgICBTUElDRV9ERUJVRygic3RhcnRfc3RvcF91bml0
LCBsdW46JXUgZWplY3QiLCByZXEtPmx1bik7CiAgICAgICAgICAgICAgICAgY2Rfc2NzaV9sdV91
bmxvYWQoZGV2KTsKICAgICAgICAgICAgICAgICBjZF9zY3NpX2Rldl9jaGFuZ2VkKGRldi0+dGd0
LT51c2VyX2RhdGEsIHJlcS0+bHVuKTsKICAgICAgICAgICAgIH0KICAgICAgICAgICAgIGRldi0+
cG93ZXJfY29uZCA9IENEX1NDU0lfUE9XRVJfU1RPUFBFRDsKLSAgICAgICAgICAgIFNQSUNFX0RF
QlVHKCJzdGFydF9zdG9wX3VuaXQsIGx1bjoweCV1IHN0b3BwZWQiLCByZXEtPmx1bik7CisgICAg
ICAgICAgICBTUElDRV9ERUJVRygic3RhcnRfc3RvcF91bml0LCBsdW46JXUgc3RvcHBlZCIsIHJl
cS0+bHVuKTsKICAgICAgICAgfSBlbHNlIHsgLyogc3RhcnQgdGhlIHVuaXQgKi8KICAgICAgICAg
ICAgIGRldi0+cG93ZXJfY29uZCA9IENEX1NDU0lfUE9XRVJfQUNUSVZFOwotICAgICAgICAgICAg
U1BJQ0VfREVCVUcoInN0YXJ0X3N0b3BfdW5pdCwgbHVuOjB4JXUgc3RhcnRlZCIsIHJlcS0+bHVu
KTsKKyAgICAgICAgICAgIFNQSUNFX0RFQlVHKCJzdGFydF9zdG9wX3VuaXQsIGx1bjoldSBzdGFy
dGVkIiwgcmVxLT5sdW4pOwogCiAgICAgICAgICAgICBpZiAobG9hZF9lamVjdCkgeyAvKiBsb2Fk
IG1lZGl1bSAqLwotICAgICAgICAgICAgICAgIFNQSUNFX0RFQlVHKCJzdGFydF9zdG9wX3VuaXQs
IGx1bjoweCV1IGxvYWQgd2l0aCBubyBtZWRpYSIsCisgICAgICAgICAgICAgICAgU1BJQ0VfREVC
VUcoInN0YXJ0X3N0b3BfdW5pdCwgbHVuOiV1IGxvYWQgd2l0aCBubyBtZWRpYSIsCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgcmVxLT5sdW4pOwogICAgICAgICAgICAgICAgIGNkX3Njc2lf
bHVfbG9hZChkZXYsIE5VTEwpOwogICAgICAgICAgICAgICAgIGNkX3Njc2lfZGV2X2NoYW5nZWQo
ZGV2LT50Z3QtPnVzZXJfZGF0YSwgcmVxLT5sdW4pOwpAQCAtMjIxMywxNyArMjIxMywxNyBAQCBz
dGF0aWMgdm9pZCBjZF9zY3NpX2NtZF9zdGFydF9zdG9wX3VuaXQoQ2RTY3NpTFUgKmRldiwgQ2RT
Y3NpUmVxdWVzdCAqcmVxKQogICAgIGNhc2UgQ0RfU1RBUlRfU1RPUF9QT1dFUl9DT05EX0FDVElW
RToKICAgICAgICAgLyogbm90IGVycm9yIHRvIHNwZWNpZnkgdHJhbnNpdGlvbiB0byB0aGUgY3Vy
cmVudCBwb3dlciBjb25kaXRpb24gKi8KICAgICAgICAgZGV2LT5wb3dlcl9jb25kID0gQ0RfU0NT
SV9QT1dFUl9BQ1RJVkU7Ci0gICAgICAgIFNQSUNFX0RFQlVHKCJzdGFydF9zdG9wX3VuaXQsIGx1
bjoweCV1IGFjdGl2ZSIsIHJlcS0+bHVuKTsKKyAgICAgICAgU1BJQ0VfREVCVUcoInN0YXJ0X3N0
b3BfdW5pdCwgbHVuOiV1IGFjdGl2ZSIsIHJlcS0+bHVuKTsKICAgICAgICAgYnJlYWs7CiAgICAg
Y2FzZSBDRF9TVEFSVF9TVE9QX1BPV0VSX0NPTkRfSURMRToKICAgICBjYXNlIENEX1NUQVJUX1NU
T1BfUE9XRVJfQ09ORF9GT1JDRV9JRExFXzA6CiAgICAgICAgIGRldi0+cG93ZXJfY29uZCA9IENE
X1NDU0lfUE9XRVJfSURMRTsKLSAgICAgICAgU1BJQ0VfREVCVUcoInN0YXJ0X3N0b3BfdW5pdCwg
bHVuOjB4JXUgaWRsZSIsIHJlcS0+bHVuKTsKKyAgICAgICAgU1BJQ0VfREVCVUcoInN0YXJ0X3N0
b3BfdW5pdCwgbHVuOiV1IGlkbGUiLCByZXEtPmx1bik7CiAgICAgICAgIGJyZWFrOwogICAgIGNh
c2UgQ0RfU1RBUlRfU1RPUF9QT1dFUl9DT05EX1NUQU5EQlk6CiAgICAgY2FzZSBDRF9TVEFSVF9T
VE9QX1BPV0VSX0NPTkRfRk9SQ0VfU1RBTkRCWV8wOgogICAgICAgICBkZXYtPnBvd2VyX2NvbmQg
PSBDRF9TQ1NJX1BPV0VSX1NUQU5EQlk7Ci0gICAgICAgIFNQSUNFX0RFQlVHKCJzdGFydF9zdG9w
X3VuaXQsIGx1bjoweCV1IHN0YW5kYnkiLCByZXEtPmx1bik7CisgICAgICAgIFNQSUNFX0RFQlVH
KCJzdGFydF9zdG9wX3VuaXQsIGx1bjoldSBzdGFuZGJ5IiwgcmVxLT5sdW4pOwogICAgICAgICBi
cmVhazsKICAgICBjYXNlIENEX1NUQVJUX1NUT1BfUE9XRVJfQ09ORF9MVV9DT05UUk9MOgogICAg
ICAgICBicmVhazsKLS0gCjIuMjEuMAoKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0ClNwaWNlLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL3NwaWNlLWRldmVs
