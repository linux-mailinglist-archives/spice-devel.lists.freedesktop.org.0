Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 8680BF8C3
	for <lists+spice-devel@lfdr.de>; Tue, 30 Apr 2019 14:24:34 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EA5DA89204;
	Tue, 30 Apr 2019 12:24:32 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8243C891DD
 for <spice-devel@lists.freedesktop.org>; Tue, 30 Apr 2019 12:24:30 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 2EE3081E08
 for <spice-devel@lists.freedesktop.org>; Tue, 30 Apr 2019 12:24:30 +0000 (UTC)
Received: from fziglio.remote.csb (unknown [10.33.32.22])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 438C62B3A5;
 Tue, 30 Apr 2019 12:24:29 +0000 (UTC)
From: Frediano Ziglio <fziglio@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Tue, 30 Apr 2019 13:24:04 +0100
Message-Id: <20190430122419.16241-5-fziglio@redhat.com>
In-Reply-To: <20190430122419.16241-1-fziglio@redhat.com>
References: <20190430122419.16241-1-fziglio@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.25]); Tue, 30 Apr 2019 12:24:30 +0000 (UTC)
Subject: [Spice-devel] [PATCH spice-server v6 04/19] tests: Provide alarm
 replacement for Windows
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

U2lnbmVkLW9mZi1ieTogRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlvQHJlZGhhdC5jb20+Ci0tLQog
c2VydmVyL3Rlc3RzL01ha2VmaWxlLmFtICAgICAgICAgIHwgIDIgKwogc2VydmVyL3Rlc3RzL21l
c29uLmJ1aWxkICAgICAgICAgIHwgIDIgKwogc2VydmVyL3Rlc3RzL3Rlc3QtY2hhbm5lbC5jICAg
ICAgIHwgIDEgKwogc2VydmVyL3Rlc3RzL3Rlc3QtbG9vcC5jICAgICAgICAgIHwgIDEgKwogc2Vy
dmVyL3Rlc3RzL3Rlc3Qtc3RyZWFtLWRldmljZS5jIHwgIDEgKwogc2VydmVyL3Rlc3RzL3dpbi1h
bGFybS5jICAgICAgICAgIHwgNjUgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogc2Vy
dmVyL3Rlc3RzL3dpbi1hbGFybS5oICAgICAgICAgIHwgMjYgKysrKysrKysrKysrKwogNyBmaWxl
cyBjaGFuZ2VkLCA5OCBpbnNlcnRpb25zKCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgc2VydmVyL3Rl
c3RzL3dpbi1hbGFybS5jCiBjcmVhdGUgbW9kZSAxMDA2NDQgc2VydmVyL3Rlc3RzL3dpbi1hbGFy
bS5oCgpkaWZmIC0tZ2l0IGEvc2VydmVyL3Rlc3RzL01ha2VmaWxlLmFtIGIvc2VydmVyL3Rlc3Rz
L01ha2VmaWxlLmFtCmluZGV4IGQ3ZjdhZjliLi43NjY4NzM5ZiAxMDA2NDQKLS0tIGEvc2VydmVy
L3Rlc3RzL01ha2VmaWxlLmFtCisrKyBiL3NlcnZlci90ZXN0cy9NYWtlZmlsZS5hbQpAQCAtMzUs
NiArMzUsOCBAQCBsaWJ0ZXN0X2FfU09VUkNFUyA9CQkJCVwKIAl0ZXN0LWRpc3BsYXktYmFzZS5o
CQkJXAogCXRlc3QtZ2xpYi1jb21wYXQuYwkJCVwKIAl0ZXN0LWdsaWItY29tcGF0LmgJCQlcCisJ
d2luLWFsYXJtLmMJCQkJXAorCXdpbi1hbGFybS5oCQkJCVwKIAkkKE5VTEwpCiAKIExEQUREID0J
CQkJCQkJCVwKZGlmZiAtLWdpdCBhL3NlcnZlci90ZXN0cy9tZXNvbi5idWlsZCBiL3NlcnZlci90
ZXN0cy9tZXNvbi5idWlsZAppbmRleCAyMDU0ODIxMy4uMzFmZWJjNmEgMTAwNjQ0Ci0tLSBhL3Nl
cnZlci90ZXN0cy9tZXNvbi5idWlsZAorKysgYi9zZXJ2ZXIvdGVzdHMvbWVzb24uYnVpbGQKQEAg
LTExLDYgKzExLDggQEAgdGVzdF9saWJfc291cmNlcyA9IFsKICAgJ3Rlc3QtZGlzcGxheS1iYXNl
LmgnLAogICAndGVzdC1nbGliLWNvbXBhdC5jJywKICAgJ3Rlc3QtZ2xpYi1jb21wYXQuaCcsCisg
ICd3aW4tYWxhcm0uYycsCisgICd3aW4tYWxhcm0uaCcsCiBdCiAKIHRlc3RfbGlicyA9IFtdCmRp
ZmYgLS1naXQgYS9zZXJ2ZXIvdGVzdHMvdGVzdC1jaGFubmVsLmMgYi9zZXJ2ZXIvdGVzdHMvdGVz
dC1jaGFubmVsLmMKaW5kZXggOTcwMGUzMWMuLmZjZWE5OGFhIDEwMDY0NAotLS0gYS9zZXJ2ZXIv
dGVzdHMvdGVzdC1jaGFubmVsLmMKKysrIGIvc2VydmVyL3Rlc3RzL3Rlc3QtY2hhbm5lbC5jCkBA
IC0yOCw2ICsyOCw3IEBACiAjaW5jbHVkZSAicmVkLWNsaWVudC5oIgogI2luY2x1ZGUgImN1cnNv
ci1jaGFubmVsLmgiCiAjaW5jbHVkZSAibmV0LXV0aWxzLmgiCisjaW5jbHVkZSAid2luLWFsYXJt
LmgiCiAKIC8qCiAgKiBEZWNsYXJlIGEgUmVkVGVzdENoYW5uZWwgdG8gYmUgdXNlZCBmb3IgdGhl
IHRlc3QKZGlmZiAtLWdpdCBhL3NlcnZlci90ZXN0cy90ZXN0LWxvb3AuYyBiL3NlcnZlci90ZXN0
cy90ZXN0LWxvb3AuYwppbmRleCAxZTNiMzllNS4uODJhZjgwYWIgMTAwNjQ0Ci0tLSBhL3NlcnZl
ci90ZXN0cy90ZXN0LWxvb3AuYworKysgYi9zZXJ2ZXIvdGVzdHMvdGVzdC1sb29wLmMKQEAgLTMx
LDYgKzMxLDcgQEAKICNpbmNsdWRlIDxzcGljZS9tYWNyb3MuaD4KICNpbmNsdWRlIDxjb21tb24v
bG9nLmg+CiAjaW5jbHVkZSAiYmFzaWMtZXZlbnQtbG9vcC5oIgorI2luY2x1ZGUgIndpbi1hbGFy
bS5oIgogCiBzdGF0aWMgU3BpY2VDb3JlSW50ZXJmYWNlICpjb3JlID0gTlVMTDsKIHN0YXRpYyBH
TWFpbkxvb3AgKmxvb3AgPSBOVUxMOwpkaWZmIC0tZ2l0IGEvc2VydmVyL3Rlc3RzL3Rlc3Qtc3Ry
ZWFtLWRldmljZS5jIGIvc2VydmVyL3Rlc3RzL3Rlc3Qtc3RyZWFtLWRldmljZS5jCmluZGV4IGNl
Mzc4MjJmLi5mNTY5OGM3ZCAxMDA2NDQKLS0tIGEvc2VydmVyL3Rlc3RzL3Rlc3Qtc3RyZWFtLWRl
dmljZS5jCisrKyBiL3NlcnZlci90ZXN0cy90ZXN0LXN0cmVhbS1kZXZpY2UuYwpAQCAtMzMsNiAr
MzMsNyBAQAogI2luY2x1ZGUgInRlc3QtZ2xpYi1jb21wYXQuaCIKICNpbmNsdWRlICJzdHJlYW0t
Y2hhbm5lbC5oIgogI2luY2x1ZGUgInJlZHMuaCIKKyNpbmNsdWRlICJ3aW4tYWxhcm0uaCIKIAog
c3RhdGljIFNwaWNlQ2hhckRldmljZUluc3RhbmNlIHZtY19pbnN0YW5jZTsKIApkaWZmIC0tZ2l0
IGEvc2VydmVyL3Rlc3RzL3dpbi1hbGFybS5jIGIvc2VydmVyL3Rlc3RzL3dpbi1hbGFybS5jCm5l
dyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwLi4yMjVkMDcwOQotLS0gL2Rldi9udWxs
CisrKyBiL3NlcnZlci90ZXN0cy93aW4tYWxhcm0uYwpAQCAtMCwwICsxLDY1IEBACisvKiAtKi0g
TW9kZTogQzsgYy1iYXNpYy1vZmZzZXQ6IDQ7IGluZGVudC10YWJzLW1vZGU6IG5pbCAtKi0gKi8K
Ky8qCisgICBDb3B5cmlnaHQgKEMpIDIwMTggUmVkIEhhdCwgSW5jLgorCisgICBUaGlzIGxpYnJh
cnkgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yCisgICBt
b2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGlj
CisgICBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9u
OyBlaXRoZXIKKyAgIHZlcnNpb24gMi4xIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRp
b24pIGFueSBsYXRlciB2ZXJzaW9uLgorCisgICBUaGlzIGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQg
aW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKKyAgIGJ1dCBXSVRIT1VUIEFOWSBX
QVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisgICBNRVJDSEFO
VEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdO
VQorICAgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KKwor
ICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3NlciBHZW5l
cmFsIFB1YmxpYworICAgTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCBz
ZWUgPGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy8+LgorKi8KKworI2luY2x1ZGUgPGNvbmZp
Zy5oPgorI2luY2x1ZGUgPGdsaWIuaD4KKworI2lmZGVmIF9XSU4zMgorI2luY2x1ZGUgPHdpbmRv
d3MuaD4KKyNpbmNsdWRlICJ3aW4tYWxhcm0uaCIKKworc3RhdGljIEhBTkRMRSBhbGFybV9jb25k
ID0gTlVMTDsKKworc3RhdGljIERXT1JEIFdJTkFQSSBhbGFybV90aHJlYWRfcHJvYyhMUFZPSUQg
YXJnKQoreworICAgIHVuc2lnbmVkIGludCB0aW1lb3V0ID0gKHVpbnRwdHJfdCkgYXJnOworICAg
IHN3aXRjaCAoV2FpdEZvclNpbmdsZU9iamVjdChhbGFybV9jb25kLCB0aW1lb3V0ICogMTAwMCkp
IHsKKyAgICBjYXNlIFdBSVRfT0JKRUNUXzA6CisgICAgICAgIHJldHVybiAwOworICAgIH0KKyAg
ICBhYm9ydCgpOworICAgIHJldHVybiAwOworfQorCit2b2lkIGFsYXJtKHVuc2lnbmVkIGludCB0
aW1lb3V0KQoreworICAgIHN0YXRpYyBIQU5ETEUgdGhyZWFkID0gTlVMTDsKKworICAgIC8vIGNy
ZWF0ZSBhbiBldmVudCB0byBzdG9wIHRoZSBhbGFybSB0aHJlYWQKKyAgICBpZiAoYWxhcm1fY29u
ZCA9PSBOVUxMKSB7CisgICAgICAgIGFsYXJtX2NvbmQgPSBDcmVhdGVFdmVudChOVUxMLCBUUlVF
LCBGQUxTRSwgTlVMTCk7CisgICAgICAgIGdfYXNzZXJ0KGFsYXJtX2NvbmQgIT0gTlVMTCk7Cisg
ICAgfQorCisgICAgLy8gc3RvcCBvbGQgYWxhcm0KKyAgICBpZiAodGhyZWFkKSB7CisgICAgICAg
IFNldEV2ZW50KGFsYXJtX2NvbmQpOworICAgICAgICBnX2Fzc2VydChXYWl0Rm9yU2luZ2xlT2Jq
ZWN0KHRocmVhZCwgSU5GSU5JVEUpID09IFdBSVRfT0JKRUNUXzApOworICAgICAgICBDbG9zZUhh
bmRsZSh0aHJlYWQpOworICAgICAgICB0aHJlYWQgPSBOVUxMOworICAgIH0KKworICAgIGlmICh0
aW1lb3V0KSB7CisgICAgICAgIFJlc2V0RXZlbnQoYWxhcm1fY29uZCk7CisKKyAgICAgICAgLy8g
c3RhcnQgYWxhcm0gdGhyZWFkCisgICAgICAgIHRocmVhZCA9IENyZWF0ZVRocmVhZChOVUxMLCAw
LCBhbGFybV90aHJlYWRfcHJvYywgKExQVk9JRCkgKHVpbnRwdHJfdCkgdGltZW91dCwgMCwgTlVM
TCk7CisgICAgICAgIGdfYXNzZXJ0KHRocmVhZCk7CisgICAgfQorfQorI2VuZGlmCmRpZmYgLS1n
aXQgYS9zZXJ2ZXIvdGVzdHMvd2luLWFsYXJtLmggYi9zZXJ2ZXIvdGVzdHMvd2luLWFsYXJtLmgK
bmV3IGZpbGUgbW9kZSAxMDA2NDQKaW5kZXggMDAwMDAwMDAuLmE3MjMzYThmCi0tLSAvZGV2L251
bGwKKysrIGIvc2VydmVyL3Rlc3RzL3dpbi1hbGFybS5oCkBAIC0wLDAgKzEsMjYgQEAKKy8qIC0q
LSBNb2RlOiBDOyBjLWJhc2ljLW9mZnNldDogNDsgaW5kZW50LXRhYnMtbW9kZTogbmlsIC0qLSAq
LworLyoKKyAgIENvcHlyaWdodCAoQykgMjAxOCBSZWQgSGF0LCBJbmMuCisKKyAgIFRoaXMgbGli
cmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2FuIHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IKKyAg
IG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJs
aWMKKyAgIExpY2Vuc2UgYXMgcHVibGlzaGVkIGJ5IHRoZSBGcmVlIFNvZnR3YXJlIEZvdW5kYXRp
b247IGVpdGhlcgorICAgdmVyc2lvbiAyLjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9w
dGlvbikgYW55IGxhdGVyIHZlcnNpb24uCisKKyAgIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRl
ZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICAgYnV0IFdJVEhPVVQgQU5Z
IFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKKyAgIE1FUkNI
QU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUg
R05VCisgICBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgor
CisgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdl
bmVyYWwgUHVibGljCisgICBMaWNlbnNlIGFsb25nIHdpdGggdGhpcyBsaWJyYXJ5OyBpZiBub3Qs
IHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCisqLworI2lmbmRlZiBURVNUX1dJ
Tl9BTEFSTV9ICisjZGVmaW5lIFRFU1RfV0lOX0FMQVJNX0gKKworI2lmZGVmIF9XSU4zMgordm9p
ZCB0ZXN0X2FsYXJtKHVuc2lnbmVkIGludCB0aW1lb3V0KTsKKyNkZWZpbmUgYWxhcm0gdGVzdF9h
bGFybQorI2VuZGlmCisKKyNlbmRpZiAvLyBURVNUX1dJTl9BTEFSTV9ICi0tIAoyLjIwLjEKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVs
IG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
