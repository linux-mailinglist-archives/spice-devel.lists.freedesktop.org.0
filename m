Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id DB28CA1D7A
	for <lists+spice-devel@lfdr.de>; Thu, 29 Aug 2019 16:45:39 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 35A8E6E0E2;
	Thu, 29 Aug 2019 14:45:08 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-wm1-x343.google.com (mail-wm1-x343.google.com
 [IPv6:2a00:1450:4864:20::343])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5BEAF6E0E2
 for <spice-devel@lists.freedesktop.org>; Thu, 29 Aug 2019 14:45:06 +0000 (UTC)
Received: by mail-wm1-x343.google.com with SMTP id t17so4023619wmi.2
 for <spice-devel@lists.freedesktop.org>; Thu, 29 Aug 2019 07:45:06 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:references:user-agent:to:subject
 :in-reply-to:date:message-id:mime-version;
 bh=Hc8gT/+cefFAjrEx/RZJrERuH8snbp4P2CcflEJvUWE=;
 b=gh+de7Bakm45El8h4VUTeFJrhsfX92fS5Q6nw/ih/7SSjvGXztmb3tU8Nk/SaMFjVS
 fOUz3CyVbVkf3ojDStfChyszT4+dSUcS9uHUXWavzFzFRFTqnv/HX09sPMUDYq+Ed109
 0oDLEXrC31NlfqGAm8Tcj8HSR/nMEshjvmSG57RXFyqvednSL9/r6npVubwTDhxn9D60
 Ua0hbQmnJJTgHOAP2BK1f3yyrvQcPCdFWwEEssonkFrbeaRTdMXGgl0XHofFZhax+jTi
 aToyAOymg9BXYNots51ksx2ZVNh8PVkI/4KMEj+djySEwaiKFoNhsiaxhV2SHwBdIfXs
 5BxA==
X-Gm-Message-State: APjAAAVORNwrpv1uHJrk2teKc9byg3GJf+6xZg0UHM2lIy/IuPBmhBAj
 StSm/PM9y1qfNPslsV36TGxSPjCh
X-Google-Smtp-Source: APXvYqxjlVVVX/VzjbR670osZ/HDgdhaM65mais0cwcl742P/NMhZ/7VP/z1Ta+hZ+qafZjyxLxR3g==
X-Received: by 2002:a1c:ef14:: with SMTP id n20mr12638440wmh.89.1567089904333; 
 Thu, 29 Aug 2019 07:45:04 -0700 (PDT)
Received: from ptitpuce ([2a01:e35:8b6a:1220:8c2f:3f48:1ea9:30f8])
 by smtp.gmail.com with ESMTPSA id a142sm4038735wme.2.2019.08.29.07.45.01
 for <spice-devel@lists.freedesktop.org>
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 29 Aug 2019 07:45:03 -0700 (PDT)
From: Christophe de Dinechin <christophe.de.dinechin@gmail.com>
X-Google-Original-From: Christophe de Dinechin <christophe@dinechin.org>
References: <20190827092246.10276-1-fziglio@redhat.com>
 <20190827092246.10276-13-fziglio@redhat.com>
User-agent: mu4e 1.3.2; emacs 26.2
To: spice-devel@lists.freedesktop.org
In-reply-to: <20190827092246.10276-13-fziglio@redhat.com>
Date: Thu, 29 Aug 2019 16:44:59 +0200
Message-ID: <m1r254do9g.fsf@dinechin.org>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=from:references:user-agent:to:subject:in-reply-to:date:message-id
 :mime-version;
 bh=Hc8gT/+cefFAjrEx/RZJrERuH8snbp4P2CcflEJvUWE=;
 b=kjzmPBdleR32Hg/jshzPqCL9ASDutBwV28ZwuEqnFzPL9iQvMpwP0Reaa727bnrphR
 Y4t3byoL3n3uAdSp/a99mgrJ7ZKN7H8UQw5q2wissz5fKlFHbyW7l3BfbJSKr07AhajP
 4wSCLRqM4IoxouGqMJk5eCst+nAEoEUYlNHhMejJMoMOO7xCSj9PX03Cnb5w014SJKdq
 RZab4HQ7A+ML2CJh2RuQf3plD/ASoNSt0FonRrG3rNmLBBB3JNDJZz/kqvyxIEtsmLHs
 7rQPPWV6i4a0trkd+MjmuN+nBxH3/4V56TBA1B72d79OrWYsYi0h1CPfx9TswQB9EImk
 uOsQ==
Subject: Re: [Spice-devel] [PATCH spice-gtk v4 12/29] fixup! usb-redir: add
 files for SCSI and USB MSC implementation
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

CkZyZWRpYW5vIFppZ2xpbyB3cml0ZXM6Cgo+IERvIG5vdCB1c2UgR19HVUlOVDMyX0ZPUk1BVC4K
PiBXZSBzdXBwb3J0IGEgbWluaW11bSBvZiAzMiBiaXQgYXJjaGl0ZWN0dXJlcy4KCldoYXQgd2Fz
IHdyb25nIHdpdGggdGhlIG9sZCBjb2RlPwoKSWYgeW91IHdhbnQgdG8gZ2V0IHJpZCBvZiBHXyBt
YWNybyBkZXBlbmRlbmNpZXMsIHdoeSBub3QgdXNlIFBSSXUzMj8KCj4gLS0tCj4gIHNyYy9jZC11
c2ItYnVsay1tc2QuYyB8IDUzICsrKysrKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQsIDI2IGluc2VydGlvbnMoKyksIDI3IGRlbGV0aW9ucygt
KQo+Cj4gZGlmZiAtLWdpdCBhL3NyYy9jZC11c2ItYnVsay1tc2QuYyBiL3NyYy9jZC11c2ItYnVs
ay1tc2QuYwo+IGluZGV4IDQ5ZTAxZWI2Li41ZDk1ZGFjNyAxMDA2NDQKPiAtLS0gYS9zcmMvY2Qt
dXNiLWJ1bGstbXNkLmMKPiArKysgYi9zcmMvY2QtdXNiLWJ1bGstbXNkLmMKPiBAQCAtMTM4LDcg
KzEzOCw3IEBAIFVzYkNkQnVsa01zZERldmljZSAqY2RfdXNiX2J1bGtfbXNkX2FsbG9jKHZvaWQg
KnVzYl91c2VyX2RhdGEsIHVpbnQzMl90IG1heF9sdW5zCj4gICAgICBjZF91c2JfYnVsa19tc2Rf
c2V0X3N0YXRlKGNkLCBVU0JfQ0RfU1RBVEVfSU5JVCk7Cj4gICAgICBjZC0+dXNiX3VzZXJfZGF0
YSA9IHVzYl91c2VyX2RhdGE7Cj4KPiAtICAgIFNQSUNFX0RFQlVHKCJBbGxvYywgbWF4X2x1bnM6
JSIgR19HVUlOVDMyX0ZPUk1BVCwgbWF4X2x1bnMpOwo+ICsgICAgU1BJQ0VfREVCVUcoIkFsbG9j
LCBtYXhfbHVuczoldSIsIG1heF9sdW5zKTsKPiAgICAgIHJldHVybiBjZDsKPiAgfQo+Cj4gQEAg
LTE1NSw3ICsxNTUsNyBAQCBpbnQgY2RfdXNiX2J1bGtfbXNkX3JlYWxpemUoVXNiQ2RCdWxrTXNk
RGV2aWNlICpjZCwgdWludDMyX3QgbHVuLAo+Cj4gICAgICByYyA9IGNkX3Njc2lfZGV2X3JlYWxp
emUoY2QtPnNjc2lfdGFyZ2V0LCBsdW4sICZzY3NpX2Rldl9wYXJhbXMpOwo+ICAgICAgaWYgKHJj
ICE9IDApIHsKPiAtICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRvIHJlYWxpemUgbHVuOiUi
IEdfR1VJTlQzMl9GT1JNQVQsIGx1bik7Cj4gKyAgICAgICAgU1BJQ0VfRVJST1IoIkZhaWxlZCB0
byByZWFsaXplIGx1bjoldSIsIGx1bik7Cj4gICAgICAgICAgcmV0dXJuIHJjOwo+ICAgICAgfQo+
Cj4gQEAgLTE2NSw3ICsxNjUsNyBAQCBpbnQgY2RfdXNiX2J1bGtfbXNkX3JlYWxpemUoVXNiQ2RC
dWxrTXNkRGV2aWNlICpjZCwgdWludDMyX3QgbHVuLAo+ICAgICAgICAgIGNkX3Njc2lfZGV2X3Jl
cXVlc3RfcmVsZWFzZShjZC0+c2NzaV90YXJnZXQsICZjZC0+dXNiX3JlcS5zY3NpX3JlcSk7Cj4g
ICAgICB9Cj4KPiAtICAgIFNQSUNFX0RFQlVHKCJSZWFsaXplIE9LIGx1bjolIiBHX0dVSU5UMzJf
Rk9STUFULCBsdW4pOwo+ICsgICAgU1BJQ0VfREVCVUcoIlJlYWxpemUgT0sgbHVuOiV1IiwgbHVu
KTsKPiAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiBAQCAtMTc1LDExICsxNzUsMTEgQEAgaW50IGNk
X3VzYl9idWxrX21zZF9sb2NrKFVzYkNkQnVsa01zZERldmljZSAqY2QsIHVpbnQzMl90IGx1biwg
Z2Jvb2xlYW4gbG9jaykKPgo+ICAgICAgcmMgPSBjZF9zY3NpX2Rldl9sb2NrKGNkLT5zY3NpX3Rh
cmdldCwgbHVuLCBsb2NrKTsKPiAgICAgIGlmIChyYyAhPSAwKSB7Cj4gLSAgICAgICAgU1BJQ0Vf
RVJST1IoIkZhaWxlZCB0byBsb2NrIGx1bjolIiBHX0dVSU5UMzJfRk9STUFULCBsdW4pOwo+ICsg
ICAgICAgIFNQSUNFX0VSUk9SKCJGYWlsZWQgdG8gbG9jayBsdW46JXUiLCBsdW4pOwo+ICAgICAg
ICAgIHJldHVybiByYzsKPiAgICAgIH0KPgo+IC0gICAgU1BJQ0VfREVCVUcoIkxvY2sgT0sgbHVu
OiUiIEdfR1VJTlQzMl9GT1JNQVQsIGx1bik7Cj4gKyAgICBTUElDRV9ERUJVRygiTG9jayBPSyBs
dW46JXUiLCBsdW4pOwo+ICAgICAgcmV0dXJuIDA7Cj4gIH0KPgo+IEBAIC0xOTAsMTEgKzE5MCwx
MSBAQCBpbnQgY2RfdXNiX2J1bGtfbXNkX2xvYWQoVXNiQ2RCdWxrTXNkRGV2aWNlICpjZCwgdWlu
dDMyX3QgbHVuLAo+Cj4gICAgICByYyA9IGNkX3Njc2lfZGV2X2xvYWQoY2QtPnNjc2lfdGFyZ2V0
LCBsdW4sIG1lZGlhX3BhcmFtcyk7Cj4gICAgICBpZiAocmMgIT0gMCkgewo+IC0gICAgICAgIFNQ
SUNFX0VSUk9SKCJGYWlsZWQgdG8gbG9hZCBsdW46JSIgR19HVUlOVDMyX0ZPUk1BVCwgbHVuKTsK
PiArICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRvIGxvYWQgbHVuOiV1IiwgbHVuKTsKPiAg
ICAgICAgICByZXR1cm4gcmM7Cj4gICAgICB9Cj4KPiAtICAgIFNQSUNFX0RFQlVHKCJMb2FkIE9L
IGx1bjolIiBHX0dVSU5UMzJfRk9STUFULCBsdW4pOwo+ICsgICAgU1BJQ0VfREVCVUcoIkxvYWQg
T0sgbHVuOiV1IiwgbHVuKTsKPiAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiBAQCAtMjA0LDcgKzIw
NCw3IEBAIGludCBjZF91c2JfYnVsa19tc2RfZ2V0X2luZm8oVXNiQ2RCdWxrTXNkRGV2aWNlICpj
ZCwgdWludDMyX3QgbHVuLCBDZFNjc2lEZXZpY2VJCj4KPiAgICAgIHJjID0gY2Rfc2NzaV9kZXZf
Z2V0X2luZm8oY2QtPnNjc2lfdGFyZ2V0LCBsdW4sIGx1bl9pbmZvKTsKPiAgICAgIGlmIChyYyAh
PSAwKSB7Cj4gLSAgICAgICAgU1BJQ0VfRVJST1IoIkZhaWxlZCB0byBnZXQgaW5mbyBsdW46JSIg
R19HVUlOVDMyX0ZPUk1BVCwgbHVuKTsKPiArICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRv
IGdldCBpbmZvIGx1bjoldSIsIGx1bik7Cj4gICAgICAgICAgcmV0dXJuIHJjOwo+ICAgICAgfQo+
Cj4gQEAgLTIxNywxMSArMjE3LDExIEBAIGludCBjZF91c2JfYnVsa19tc2RfdW5sb2FkKFVzYkNk
QnVsa01zZERldmljZSAqY2QsIHVpbnQzMl90IGx1bikKPgo+ICAgICAgcmMgPSBjZF9zY3NpX2Rl
dl91bmxvYWQoY2QtPnNjc2lfdGFyZ2V0LCBsdW4pOwo+ICAgICAgaWYgKHJjICE9IDApIHsKPiAt
ICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRvIHVubG9hZCBsdW46JSIgR19HVUlOVDMyX0ZP
Uk1BVCwgbHVuKTsKPiArICAgICAgICBTUElDRV9FUlJPUigiRmFpbGVkIHRvIHVubG9hZCBsdW46
JXUiLCBsdW4pOwo+ICAgICAgICAgIHJldHVybiByYzsKPiAgICAgIH0KPgo+IC0gICAgU1BJQ0Vf
REVCVUcoIlVubG9hZCBPSyBsdW46JSIgR19HVUlOVDMyX0ZPUk1BVCwgbHVuKTsKPiArICAgIFNQ
SUNFX0RFQlVHKCJVbmxvYWQgT0sgbHVuOiV1IiwgbHVuKTsKPiAgICAgIHJldHVybiAwOwo+ICB9
Cj4KPiBAQCAtMjMxLDExICsyMzEsMTEgQEAgaW50IGNkX3VzYl9idWxrX21zZF91bnJlYWxpemUo
VXNiQ2RCdWxrTXNkRGV2aWNlICpjZCwgdWludDMyX3QgbHVuKQo+Cj4gICAgICByYyA9IGNkX3Nj
c2lfZGV2X3VucmVhbGl6ZShjZC0+c2NzaV90YXJnZXQsIGx1bik7Cj4gICAgICBpZiAocmMgIT0g
MCkgewo+IC0gICAgICAgIFNQSUNFX0VSUk9SKCJVbnJlYWxpemUgbHVuOiUiIEdfR1VJTlQzMl9G
T1JNQVQsIGx1bik7Cj4gKyAgICAgICAgU1BJQ0VfRVJST1IoIlVucmVhbGl6ZSBsdW46JXUiLCBs
dW4pOwo+ICAgICAgICAgIHJldHVybiByYzsKPiAgICAgIH0KPgo+IC0gICAgU1BJQ0VfREVCVUco
IlVucmVhbGl6ZSBsdW46JSIgR19HVUlOVDMyX0ZPUk1BVCwgbHVuKTsKPiArICAgIFNQSUNFX0RF
QlVHKCJVbnJlYWxpemUgbHVuOiV1IiwgbHVuKTsKPiAgICAgIHJldHVybiAwOwo+ICB9Cj4KPiBA
QCAtMjY0LDcgKzI2NCw3IEBAIHN0YXRpYyBpbnQgcGFyc2VfdXNiX21zZF9jbWQoVXNiQ2RCdWxr
TXNkRGV2aWNlICpjZCwgdWludDhfdCAqYnVmLCB1aW50MzJfdCBjYndfCj4gICAgICBDZFNjc2lS
ZXF1ZXN0ICpzY3NpX3JlcSA9ICZ1c2JfcmVxLT5zY3NpX3JlcTsKPgo+ICAgICAgaWYgKGNid19s
ZW4gIT0gc2l6ZW9mKCpjYncpKSB7Cj4gLSAgICAgICAgU1BJQ0VfRVJST1IoIkNNRDogQmFkIENC
VyBzaXplOiUiIEdfR1VJTlQzMl9GT1JNQVQsIGNid19sZW4pOwo+ICsgICAgICAgIFNQSUNFX0VS
Uk9SKCJDTUQ6IEJhZCBDQlcgc2l6ZToldSIsIGNid19sZW4pOwo+ICAgICAgICAgIHJldHVybiAt
MTsKPiAgICAgIH0KPiAgICAgIGlmIChsZTMydG9oKGNidy0+c2lnKSAhPSAweDQzNDI1MzU1KSB7
IC8qIE1TRCBjb21tYW5kIHNpZ25hdHVyZSAqLwo+IEBAIC0zMDQsMTAgKzMwNCwxMCBAQCBzdGF0
aWMgaW50IHBhcnNlX3VzYl9tc2RfY21kKFVzYkNkQnVsa01zZERldmljZSAqY2QsIHVpbnQ4X3Qg
KmJ1ZiwgdWludDMyX3QgY2J3Xwo+Cj4gICAgICBzY3NpX3JlcS0+bHVuID0gdXNiX3JlcS0+bHVu
Owo+Cj4gLSAgICBTUElDRV9ERUJVRygiQ01EIGx1bjolIiBHX0dVSU5UMzJfRk9STUFUICIgdGFn
OiUjeCBmbGFnczolMDh4ICIKPiAtICAgICAgICAiY2RiX2xlbjolIiBHX0dVSU5UMzJfRk9STUFU
ICIgcmVxX2xlbjolIiBHX0dVSU5UMzJfRk9STUFULAo+IC0gICAgICAgIHVzYl9yZXEtPmx1biwg
bGUzMnRvaChjYnctPnRhZyksIGNidy0+ZmxhZ3MsCj4gLSAgICAgICAgc2NzaV9yZXEtPmNkYl9s
ZW4sIHVzYl9yZXEtPnVzYl9yZXFfbGVuKTsKPiArICAgIFNQSUNFX0RFQlVHKCJDTUQgbHVuOiV1
IHRhZzolI3ggZmxhZ3M6JTA4eCAiCj4gKyAgICAgICAgICAgICAgICAiY2RiX2xlbjoldSByZXFf
bGVuOiV1IiwKPiArICAgICAgICAgICAgICAgIHVzYl9yZXEtPmx1biwgbGUzMnRvaChjYnctPnRh
ZyksIGNidy0+ZmxhZ3MsCj4gKyAgICAgICAgICAgICAgICBzY3NpX3JlcS0+Y2RiX2xlbiwgdXNi
X3JlcS0+dXNiX3JlcV9sZW4pOwo+Cj4gICAgICAvKiBwcmVwYXJlIHN0YXR1cyAtIENTVyAqLwo+
ICAgICAgdXNiX3JlcS0+Y3N3LnNpZyA9IGh0b2xlMzIoMHg1MzQyNTM1NSk7Cj4gQEAgLTM2NCw4
ICszNjQsOCBAQCBzdGF0aWMgdm9pZCB1c2JfY2Rfc2VuZF9kYXRhX2luKFVzYkNkQnVsa01zZERl
dmljZSAqY2QsIHVpbnQzMl90IG1heF9sZW4pCj4gICAgICB1aW50MzJfdCBhdmFpbF9sZW4gPSB1
c2JfcmVxLT5zY3NpX2luX2xlbiAtIHVzYl9yZXEtPnhmZXJfbGVuOwo+ICAgICAgdWludDMyX3Qg
c2VuZF9sZW4gPSBNSU4oYXZhaWxfbGVuLCBtYXhfbGVuKTsKPgo+IC0gICAgU1BJQ0VfREVCVUco
IkRhdGEtaW4gY21kIHRhZyAweCV4LCByZW1haW5zICUiIEdfR1VJTlQzMl9GT1JNQVQKPiAtICAg
ICAgICAgICAgICAgICIsIHJlcXVlc3RlZCAlIiBHX0dVSU5UMzJfRk9STUFUICIsIHNlbmQgJSIg
R19HVUlOVDMyX0ZPUk1BVCwKPiArICAgIFNQSUNFX0RFQlVHKCJEYXRhLWluIGNtZCB0YWcgMHgl
eCwgcmVtYWlucyAldSIKPiArICAgICAgICAgICAgICAgICIsIHJlcXVlc3RlZCAldSwgc2VuZCAl
dSIsCj4gICAgICAgICAgICAgICAgICB1c2JfcmVxLT5jc3cudGFnLCBhdmFpbF9sZW4sIG1heF9s
ZW4sIHNlbmRfbGVuKTsKPgo+ICAgICAgZ19hc3NlcnQobWF4X2xlbiA8PSB1c2JfcmVxLT51c2Jf
cmVxX2xlbik7Cj4gQEAgLTM5Niw3ICszOTYsNyBAQCBpbnQgY2RfdXNiX2J1bGtfbXNkX3JlYWQo
VXNiQ2RCdWxrTXNkRGV2aWNlICpjZCwgdWludDMyX3QgbWF4X2xlbikKPiAgICAgIFVzYkNkQnVs
a01zZFJlcXVlc3QgKnVzYl9yZXEgPSAmY2QtPnVzYl9yZXE7Cj4gICAgICBDZFNjc2lSZXF1ZXN0
ICpzY3NpX3JlcSA9ICZ1c2JfcmVxLT5zY3NpX3JlcTsKPgo+IC0gICAgU1BJQ0VfREVCVUcoIm1z
ZF9yZWFkLCBzdGF0ZTogJXMsIGxlbiAlIiBHX0dVSU5UMzJfRk9STUFULAo+ICsgICAgU1BJQ0Vf
REVCVUcoIm1zZF9yZWFkLCBzdGF0ZTogJXMsIGxlbiAldSIsCj4gICAgICAgICAgICAgICAgICB1
c2JfY2Rfc3RhdGVfc3RyKGNkLT5zdGF0ZSksIG1heF9sZW4pOwo+Cj4gICAgICBzd2l0Y2ggKGNk
LT5zdGF0ZSkgewo+IEBAIC00MDgsOCArNDA4LDggQEAgaW50IGNkX3VzYl9idWxrX21zZF9yZWFk
KFVzYkNkQnVsa01zZERldmljZSAqY2QsIHVpbnQzMl90IG1heF9sZW4pCj4gICAgICAgICAgICAg
IHVzYl9jZF9zZW5kX3N0YXR1cyhjZCk7Cj4gICAgICAgICAgfSBlbHNlIHsKPiAgICAgICAgICAg
ICAgdXNiX3JlcS0+YnVsa19pbl9sZW4gKz0gbWF4X2xlbjsKPiAtICAgICAgICAgICAgU1BJQ0Vf
REVCVUcoIm1zZF9yZWFkIENTVywgcmVxIGluY29tcGxldGUsIGFkZGVkIGxlbiAlIiBHX0dVSU5U
MzJfRk9STUFUCj4gLSAgICAgICAgICAgICAgICAgICAgICAgICIgc2F2ZWQgbGVuICUiIEdfR1VJ
TlQzMl9GT1JNQVQsCj4gKyAgICAgICAgICAgIFNQSUNFX0RFQlVHKCJtc2RfcmVhZCBDU1csIHJl
cSBpbmNvbXBsZXRlLCBhZGRlZCBsZW4gJXUiCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICIg
c2F2ZWQgbGVuICV1IiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4X2xlbiwgdXNiX3Jl
cS0+YnVsa19pbl9sZW4pOwo+ICAgICAgICAgIH0KPiAgICAgICAgICBicmVhazsKPiBAQCAtNDE5
LDggKzQxOSw3IEBAIGludCBjZF91c2JfYnVsa19tc2RfcmVhZChVc2JDZEJ1bGtNc2REZXZpY2Ug
KmNkLCB1aW50MzJfdCBtYXhfbGVuKQo+ICAgICAgICAgICAgICB1c2JfY2Rfc2VuZF9kYXRhX2lu
KGNkLCBtYXhfbGVuKTsKPiAgICAgICAgICB9IGVsc2Ugewo+ICAgICAgICAgICAgICB1c2JfcmVx
LT5idWxrX2luX2xlbiArPSBtYXhfbGVuOwo+IC0gICAgICAgICAgICBTUElDRV9ERUJVRygibXNk
X3JlYWQgREFUQUlOLCByZXEgaW5jb21wbGV0ZSwgYWRkZWQgbGVuICUiIEdfR1VJTlQzMl9GT1JN
QVQKPiAtICAgICAgICAgICAgICAgICAgICAgICAgIiBzYXZlZCBsZW4gJSIgR19HVUlOVDMyX0ZP
Uk1BVCwKPiArICAgICAgICAgICAgU1BJQ0VfREVCVUcoIm1zZF9yZWFkIERBVEFJTiwgcmVxIGlu
Y29tcGxldGUsIGFkZGVkIGxlbiAldSBzYXZlZCBsZW4gJXUiLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICBtYXhfbGVuLCB1c2JfcmVxLT5idWxrX2luX2xlbik7Cj4gICAgICAgICAgfQo+ICAg
ICAgICAgIGJyZWFrOwo+IEBAIC00MzMsNyArNDMyLDcgQEAgaW50IGNkX3VzYl9idWxrX21zZF9y
ZWFkKFVzYkNkQnVsa01zZERldmljZSAqY2QsIHVpbnQzMl90IG1heF9sZW4pCj4gICAgICAgICAg
YnJlYWs7Cj4KPiAgICAgIGRlZmF1bHQ6Cj4gLSAgICAgICAgU1BJQ0VfRVJST1IoIlVuZXhwZWN0
ZWQgcmVhZCBzdGF0ZTogJXMsIGxlbiAlIiBHX0dVSU5UMzJfRk9STUFULAo+ICsgICAgICAgIFNQ
SUNFX0VSUk9SKCJVbmV4cGVjdGVkIHJlYWQgc3RhdGU6ICVzLCBsZW4gJXUiLAo+ICAgICAgICAg
ICAgICAgICAgICAgIHVzYl9jZF9zdGF0ZV9zdHIoY2QtPnN0YXRlKSwgbWF4X2xlbik7Cj4gICAg
ICAgICAgZ290byBmYWlsOwo+ICAgICAgfQo+IEBAIC01MDcsNyArNTA2LDcgQEAgaW50IGNkX3Vz
Yl9idWxrX21zZF93cml0ZShVc2JDZEJ1bGtNc2REZXZpY2UgKmNkLCB1aW50OF90ICpidWZfb3V0
LCB1aW50MzJfdCBidWYKPiAgICAgICAgICBjZF91c2JfYnVsa19tc2Rfc2V0X3N0YXRlKGNkLCBV
U0JfQ0RfU1RBVEVfQ1NXKTsgLyogU3RhdHVzIG5leHQgKi8KPiAgICAgICAgICBicmVhazsKPiAg
ICAgIGRlZmF1bHQ6Cj4gLSAgICAgICAgU1BJQ0VfREVCVUcoIlVuZXhwZWN0ZWQgd3JpdGUgc3Rh
dGU6ICVzLCBsZW4gJSIgR19HVUlOVDMyX0ZPUk1BVCwKPiArICAgICAgICBTUElDRV9ERUJVRygi
VW5leHBlY3RlZCB3cml0ZSBzdGF0ZTogJXMsIGxlbiAldSIsCj4gICAgICAgICAgICAgICAgICAg
ICAgdXNiX2NkX3N0YXRlX3N0cihjZC0+c3RhdGUpLCBidWZfb3V0X2xlbik7Cj4gICAgICAgICAg
Z290byBmYWlsOwo+ICAgICAgfQo+IEBAIC01MzYsNyArNTM1LDcgQEAgdm9pZCBjZF9zY3NpX3Rh
cmdldF9yZXNldF9jb21wbGV0ZSh2b2lkICp0YXJnZXRfdXNlcl9kYXRhKQo+ICB2b2lkIGNkX3Nj
c2lfZGV2X2NoYW5nZWQodm9pZCAqdGFyZ2V0X3VzZXJfZGF0YSwgdWludDMyX3QgbHVuKQo+ICB7
Cj4gICAgICBVc2JDZEJ1bGtNc2REZXZpY2UgKmNkID0gKFVzYkNkQnVsa01zZERldmljZSAqKXRh
cmdldF91c2VyX2RhdGE7Cj4gLSAgICBTUElDRV9ERUJVRygiRGV2aWNlIGNoYW5nZWQsIHN0YXRl
OiAlcyBsdW46ICUiIEdfR1VJTlQzMl9GT1JNQVQsCj4gKyAgICBTUElDRV9ERUJVRygiRGV2aWNl
IGNoYW5nZWQsIHN0YXRlOiAlcyBsdW46ICV1IiwKPiAgICAgICAgICAgICAgICAgIHVzYl9jZF9z
dGF0ZV9zdHIoY2QtPnN0YXRlKSwgbHVuKTsKPiAgICAgIGNkX3VzYl9idWxrX21zZF9sdW5fY2hh
bmdlZChjZC0+dXNiX3VzZXJfZGF0YSwgbHVuKTsKPiAgfQoKCi0tCkNoZWVycywKQ2hyaXN0b3Bo
ZSBkZSBEaW5lY2hpbiAoSVJDIGMzZCkKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0ClNwaWNlLWRldmVsQGxpc3Rz
LmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xp
c3RpbmZvL3NwaWNlLWRldmVs
