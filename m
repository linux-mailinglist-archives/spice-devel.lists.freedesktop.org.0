Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C771971CE0
	for <lists+spice-devel@lfdr.de>; Tue, 23 Jul 2019 18:27:18 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 473EF6E312;
	Tue, 23 Jul 2019 16:27:17 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id D31286E312
 for <spice-devel@lists.freedesktop.org>; Tue, 23 Jul 2019 16:27:15 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.phx2.redhat.com
 [10.5.11.13])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 6086B5D5EE;
 Tue, 23 Jul 2019 16:27:15 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx02.intmail.prod.int.phx2.redhat.com [10.5.11.21])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 5685160852;
 Tue, 23 Jul 2019 16:27:15 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 4D96A19721;
 Tue, 23 Jul 2019 16:27:15 +0000 (UTC)
Date: Tue, 23 Jul 2019 12:27:15 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Jeremy White <jwhite@codeweavers.com>
Message-ID: <301009195.2556375.1563899235074.JavaMail.zimbra@redhat.com>
In-Reply-To: <20190718211405.8753-4-jwhite@codeweavers.com>
References: <20190718211405.8753-1-jwhite@codeweavers.com>
 <20190718211405.8753-4-jwhite@codeweavers.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.11, 10.4.195.19]
Thread-Topic: Bug fix: support --config=<filename> semantics.
Thread-Index: C3HbwiGcV1H7OwHXjyIHB6lVLKS77A==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.13
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.39]); Tue, 23 Jul 2019 16:27:15 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH v2 x11spice 3/4] Bug fix: support
 --config=<filename> semantics.
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBJbnN0ZWFkIG9mIHRyeWluZyB0byBwYXJzZSBhcmd2IG91cnNlbHZlcywganVzdCByZXVz
ZSBnZXRvcHRfbG9uZ19vbmx5Lgo+IAo+IFNpZ25lZC1vZmYtYnk6IEplcmVteSBXaGl0ZSA8ando
aXRlQGNvZGV3ZWF2ZXJzLmNvbT4KClRoaXMgcGF0Y2ggbG9va3MgYSBiaXQgbG9uZyBjb21wYXJl
ZCB0byB0aGUgam9iIGlzIGRvaW5nLgpXaGF0IGlzIHRoZSBleHBlY3RlZCBiZWhhdmlvdXIgbWl4
aW5nIC0tY29uZmlnIGFuZCBvdGhlciBvcHRpb25zPwpJdCBsb29rcyBsaWtlIHRoZSBjb25maWd1
cmF0aW9uIGZpbGUgc2hvdWxkIGJlIGFsd2F5cyByZWFkIGZpcnN0LCBhbGwKb3RoZXIgb3B0aW9u
cywgYmVmb3JlIG9yIGFmdGVyIC0tY29uZmlnIHNob3VsZCBvdmVycmlkZSB0aGUgY29uZmlndXJh
dGlvbgpmaWxlLiBJcyBpdCByaWdodD8KCldoeSBkb24ndCB5b3UgY2FsbCBvcHRpb25zX3BhcnNl
X2FyZ3VtZW50cyBhbmQgaWYgeW91IGZpbmQgdGhlCmNvbmZpZ3VyYXRpb24gZmlsZSB5b3UgdGhl
biBjYWxsIG9wdGlvbnNfaGFuZGxlX3VzZXJfY29uZmlnIGFuZApvcHRpb25zX3BhcnNlX2FyZ3Vt
ZW50cyBhZ2FpbiB0byBqdXN0IG92ZXJyaWRlIHRoZSBvcHRpb25zIGxvYWRlZApmcm9tIHRoZSBm
aWxlPwoKV2FzIHRlc3Rpbmcgc29tZXRoaW5nIGxpa2UKCmh0dHBzOi8vY2dpdC5mcmVlZGVza3Rv
cC5vcmcvfmZ6aWdsaW8veDExc3BpY2UvY29tbWl0Lz9oPW9wdGlvbnMmaWQ9MzU5NWM0ZjA2YzBk
ZjUwNTZlNGNiNjUzNjdhMWRlNzJiMGM2NjA1Ngp3aXRoCmh0dHBzOi8vY2dpdC5mcmVlZGVza3Rv
cC5vcmcvfmZ6aWdsaW8veDExc3BpY2UvY29tbWl0Lz9oPW9wdGlvbnMmaWQ9ZWY4MjRmMzBhMWE5
MWVlNzdmNDRiZTdkODY4NjE1MzVmNzMyM2IwYQoob24gdG9wIG9mIHlvdXIgcGF0Y2hlcykKCj4g
LS0tCj4gIHNyYy9tYWluLmMgICAgfCAgOCArKysrKy0tLQo+ICBzcmMvb3B0aW9ucy5jIHwgNTAg
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0KPiAgc3Jj
L29wdGlvbnMuaCB8ICAyICstCj4gIDMgZmlsZXMgY2hhbmdlZCwgNDIgaW5zZXJ0aW9ucygrKSwg
MTggZGVsZXRpb25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL3NyYy9tYWluLmMgYi9zcmMvbWFpbi5j
Cj4gaW5kZXggZjE4MzExYzkuLjcyYWJhNWE4IDEwMDY0NAo+IC0tLSBhL3NyYy9tYWluLmMKPiAr
KysgYi9zcmMvbWFpbi5jCj4gQEAgLTY3LDkgKzY3LDExIEBAIGludCBtYWluKGludCBhcmdjLCBj
aGFyICphcmd2W10pCj4gICAgICAqKiAgUGFyc2UgYXJndW1lbnRzCj4gICAgICAqKi0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0qLwo+ICAgICAgb3B0aW9uc19pbml0KCZzZXNzaW9uLm9wdGlvbnMpOwo+IC0gICAgb3B0
aW9uc19oYW5kbGVfdXNlcl9jb25maWcoYXJnYywgYXJndiwgJnNlc3Npb24ub3B0aW9ucyk7Cj4g
LSAgICBvcHRpb25zX2Zyb21fY29uZmlnKCZzZXNzaW9uLm9wdGlvbnMpOwo+IC0gICAgcmMgPSBv
cHRpb25zX3BhcnNlX2FyZ3VtZW50cyhhcmdjLCBhcmd2LCAmc2Vzc2lvbi5vcHRpb25zKTsKPiAr
ICAgIHJjID0gb3B0aW9uc19oYW5kbGVfdXNlcl9jb25maWcoYXJnYywgYXJndiwgJnNlc3Npb24u
b3B0aW9ucyk7Cj4gKyAgICBpZiAocmMgPT0gMCkgewo+ICsgICAgICAgIG9wdGlvbnNfZnJvbV9j
b25maWcoJnNlc3Npb24ub3B0aW9ucyk7Cj4gKyAgICAgICAgcmMgPSBvcHRpb25zX3BhcnNlX2Fy
Z3VtZW50cyhhcmdjLCBhcmd2LCAmc2Vzc2lvbi5vcHRpb25zKTsKPiArICAgIH0KPiAgICAgIGlm
IChyYykKPiAgICAgICAgICBnb3RvIGV4aXQ7Cj4gIAo+IGRpZmYgLS1naXQgYS9zcmMvb3B0aW9u
cy5jIGIvc3JjL29wdGlvbnMuYwo+IGluZGV4IDMwM2MwN2RlLi41YTU1ZjJjOSAxMDA2NDQKPiAt
LS0gYS9zcmMvb3B0aW9ucy5jCj4gKysrIGIvc3JjL29wdGlvbnMuYwo+IEBAIC0yMjQsMTYgKzIy
NCw2IEBAIHZvaWQgb3B0aW9uc19oYW5kbGVfc3NsX2ZpbGVfb3B0aW9ucyhvcHRpb25zX3QgKm9w
dGlvbnMsCj4gICAgICBvcHRpb25zLT5zc2wuY2lwaGVyc3VpdGUgPSBzdHJpbmdfb3B0aW9uKHVz
ZXJrZXksIHN5c3RlbWtleSwgInNzbCIsCj4gICAgICAiY2lwaGVyc3VpdGUiKTsKPiAgfQo+ICAK
PiAtdm9pZCBvcHRpb25zX2hhbmRsZV91c2VyX2NvbmZpZyhpbnQgYXJnYywgY2hhciAqYXJndltd
LCBvcHRpb25zX3QgKm9wdGlvbnMpCj4gLXsKPiAtICAgIGludCBpOwo+IC0gICAgZm9yIChpID0g
MTsgaSA8IGFyZ2MgLSAxOyBpKyspCj4gLSAgICAgICAgaWYgKHN0cmNtcChhcmd2W2ldLCAiLS1j
b25maWciKSA9PSAwIHx8IHN0cmNtcChhcmd2W2ldLCAiLWNvbmZpZyIpCj4gPT0gMCkgewo+IC0g
ICAgICAgICAgICBvcHRpb25zLT51c2VyX2NvbmZpZ19maWxlID0gZ19zdHJkdXAoYXJndltpICsg
MV0pOwo+IC0gICAgICAgICAgICBpKys7Cj4gLSAgICAgICAgfQo+IC19Cj4gLQo+ICBpbnQgb3B0
aW9uc19wYXJzZV9hcmd1bWVudHMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwgb3B0aW9uc190ICpv
cHRpb25zKQo+ICB7Cj4gICAgICBpbnQgcmM7Cj4gQEAgLTI2NCw2ICsyNTQsNyBAQCBpbnQgb3B0
aW9uc19wYXJzZV9hcmd1bWVudHMoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwKPiBvcHRpb25zX3Qg
Km9wdGlvbnMpCj4gICAgICAgICAgezAsIDAsIDAsIDB9Cj4gICAgICB9Owo+ICAKPiArICAgIG9w
dGluZCA9IDE7IC8qIEFsbG93IHJldXNlIG9mIHRoaXMgZnVuY3Rpb24gKi8KPiAgICAgIHdoaWxl
ICgxKSB7Cj4gICAgICAgICAgcmMgPSBnZXRvcHRfbG9uZ19vbmx5KGFyZ2MsIGFyZ3YsICIiLCBs
b25nX29wdGlvbnMsICZsb25naW5kZXgpOwo+ICAgICAgICAgIGlmIChyYyA9PSAtMSkgewo+IEBA
IC0yOTcsNyArMjg4LDkgQEAgaW50IG9wdGlvbnNfcGFyc2VfYXJndW1lbnRzKGludCBhcmdjLCBj
aGFyICphcmd2W10sCj4gb3B0aW9uc190ICpvcHRpb25zKQo+ICAgICAgICAgICAgICAgICAgYnJl
YWs7Cj4gIAo+ICAgICAgICAgICAgICBjYXNlIE9QVElPTl9DT05GSUc6Cj4gLSAgICAgICAgICAg
ICAgICAvKiBUaGlzIHdhcyBoYW5kbGVkIHByZXZpb3VzbHk7IHdlIGNhbiBpZ25vcmUgKi8KPiAr
ICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLT51c2VyX2NvbmZpZ19maWxlKQo+ICsgICAgICAg
ICAgICAgICAgICAgIGdfZnJlZShvcHRpb25zLT51c2VyX2NvbmZpZ19maWxlKTsKPiArICAgICAg
ICAgICAgICAgIG9wdGlvbnMtPnVzZXJfY29uZmlnX2ZpbGUgPSBnX3N0cmR1cChvcHRhcmcpOwo+
ICAgICAgICAgICAgICAgICAgYnJlYWs7Cj4gIAo+ICAgICAgICAgICAgICBjYXNlIE9QVElPTl9T
U0w6Cj4gQEAgLTM1OCw2ICszNTEsMjEgQEAgaW50IG9wdGlvbnNfcGFyc2VfYXJndW1lbnRzKGlu
dCBhcmdjLCBjaGFyICphcmd2W10sCj4gb3B0aW9uc190ICpvcHRpb25zKQo+ICAgICAgcmV0dXJu
IHJjOwo+ICB9Cj4gIAo+ICsvKiBUaGUgaWRlYSBpcyB0byBoYXZlIGNvbW1hbmQgbGluZSBhcmd1
bWVudHMgcnVuIGFmdGVyIGFsbCBvdGhlcgo+ICsqKiAgY29uZmlndXJhdGlvbiwgd2l0aCBvbmUg
ZXhjZXB0aW9uIC0gd2Ugd2FudCB0byBncmFiIGFueQo+ICsqKiAgdXNlciBzcGVjaWZpZWQgY29u
ZmlndXJhdGlvbiBmaWxlIGZpcnN0LiAqLwo+ICtpbnQgb3B0aW9uc19oYW5kbGVfdXNlcl9jb25m
aWcoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwgb3B0aW9uc190ICpvcHRpb25zKQo+ICt7Cj4gKyAg
ICBvcHRpb25zX3QgdG1wX29wdGlvbnMgPSB7IDAgfTsKPiArICAgIGludCByYzsKPiArCj4gKyAg
ICByYyA9IG9wdGlvbnNfcGFyc2VfYXJndW1lbnRzKGFyZ2MsIGFyZ3YsICZ0bXBfb3B0aW9ucyk7
Cj4gKyAgICBvcHRpb25zLT51c2VyX2NvbmZpZ19maWxlID0gdG1wX29wdGlvbnMudXNlcl9jb25m
aWdfZmlsZTsKPiArICAgIHRtcF9vcHRpb25zLnVzZXJfY29uZmlnX2ZpbGUgPSBOVUxMOwo+ICsg
ICAgb3B0aW9uc19mcmVlKCZ0bXBfb3B0aW9ucyk7Cj4gKyAgICByZXR1cm4gcmM7Cj4gK30KPiAr
Cj4gIHZvaWQgb3B0aW9uc19mcm9tX2NvbmZpZyhvcHRpb25zX3QgKm9wdGlvbnMpCj4gIHsKPiAg
ICAgIEdLZXlGaWxlICp1c2Vya2V5ID0gZ19rZXlfZmlsZV9uZXcoKTsKPiBAQCAtNTE3LDExICs1
MjUsMjUgQEAgaW50IG9wdGlvbnNfaW1wb3NzaWJsZV9jb25maWcob3B0aW9uc190ICpvcHRpb25z
KQo+ICBpbnQgbWFpbihpbnQgYXJnYywgY2hhciAqYXJndltdKQo+ICB7Cj4gICAgICBvcHRpb25z
X3Qgb3B0aW9uczsKPiArICAgIGludCByYzsKPiAgCj4gICAgICBvcHRpb25zX2luaXQoJm9wdGlv
bnMpOwo+IC0gICAgb3B0aW9uc19wYXJzZV9hcmd1bWVudHMoYXJnYywgYXJndiwgJm9wdGlvbnMp
Owo+IC0gICAgb3B0aW9uc19mcm9tX2NvbmZpZygmb3B0aW9ucyk7Cj4gLSAgICBnX21lc3NhZ2Uo
Ik9wdGlvbnMgcGFyc2VkIik7Cj4gKyAgICByYyA9IG9wdGlvbnNfaGFuZGxlX3VzZXJfY29uZmln
KGFyZ2MsIGFyZ3YsICZvcHRpb25zKTsKPiArICAgIGlmIChyYyA9PSAwKSB7Cj4gKyAgICAgICAg
b3B0aW9uc19mcm9tX2NvbmZpZygmb3B0aW9ucyk7Cj4gKyAgICAgICAgcmMgPSBvcHRpb25zX3Bh
cnNlX2FyZ3VtZW50cyhhcmdjLCBhcmd2LCAmb3B0aW9ucyk7Cj4gKyAgICB9Cj4gKyAgICBpZiAo
cmMgPT0gMCkgewo+ICsgICAgICAgIGdfbWVzc2FnZSgiT3B0aW9ucyBwYXJzZWQiKTsKPiArICAg
ICAgICByYyA9IG9wdGlvbnNfcHJvY2Vzc19pbygmb3B0aW9ucyk7Cj4gKyAgICAgICAgaWYgKHJj
ID09IDApCj4gKyAgICAgICAgICAgIGdfbWVzc2FnZSgiT3B0aW9ucyBpbyBydW4gcGFyc2VkIik7
Cj4gKyAgICAgICAgZWxzZQo+ICsgICAgICAgICAgICBnX21lc3NhZ2UoIk9wdGlvbnMgaW8gZmFp
bGVkIik7Cj4gKyAgICB9Cj4gKyAgICBlbHNlIHsKPiArICAgICAgICBnX21lc3NhZ2UoIk9wdGlv
bnMgcGFyc2UgZmFpbGVkIik7Cj4gKyAgICB9Cj4gICAgICBvcHRpb25zX2ZyZWUoJm9wdGlvbnMp
Owo+ICB9Cj4gICNlbmRpZgo+IGRpZmYgLS1naXQgYS9zcmMvb3B0aW9ucy5oIGIvc3JjL29wdGlv
bnMuaAo+IGluZGV4IDYxNTU5ODRiLi4xNjI2NDNhYyAxMDA2NDQKPiAtLS0gYS9zcmMvb3B0aW9u
cy5oCj4gKysrIGIvc3JjL29wdGlvbnMuaAo+IEBAIC03Myw3ICs3Myw3IEBAIHR5cGVkZWYgc3Ry
dWN0IHsKPiAgKiogIFByb3RvdHlwZXMKPiAgKiotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCj4gIHZvaWQg
b3B0aW9uc19pbml0KG9wdGlvbnNfdCAqb3B0aW9ucyk7Cj4gLXZvaWQgb3B0aW9uc19oYW5kbGVf
dXNlcl9jb25maWcoaW50IGFyZ2MsIGNoYXIgKmFyZ3ZbXSwgb3B0aW9uc190ICpvcHRpb25zKTsK
PiAraW50IG9wdGlvbnNfaGFuZGxlX3VzZXJfY29uZmlnKGludCBhcmdjLCBjaGFyICphcmd2W10s
IG9wdGlvbnNfdCAqb3B0aW9ucyk7Cj4gIGludCBvcHRpb25zX3BhcnNlX2FyZ3VtZW50cyhpbnQg
YXJnYywgY2hhciAqYXJndltdLCBvcHRpb25zX3QgKm9wdGlvbnMpOwo+ICBpbnQgb3B0aW9uc19w
cm9jZXNzX2lvKG9wdGlvbnNfdCAqb3B0aW9ucyk7Cj4gIHZvaWQgb3B0aW9uc19mcmVlKG9wdGlv
bnNfdCAqb3B0aW9ucyk7CgpGcmVkaWFubwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlz
dHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4v
bGlzdGluZm8vc3BpY2UtZGV2ZWw=
