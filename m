Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 5F4D2215A3
	for <lists+spice-devel@lfdr.de>; Fri, 17 May 2019 10:49:20 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7F32D89167;
	Fri, 17 May 2019 08:49:18 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 38A3C89167
 for <spice-devel@lists.freedesktop.org>; Fri, 17 May 2019 08:49:17 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx03.intmail.prod.int.phx2.redhat.com
 [10.5.11.13])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id AC832307D913
 for <spice-devel@lists.freedesktop.org>; Fri, 17 May 2019 08:49:16 +0000 (UTC)
Received: from fziglio.remote.csb (unknown [10.33.32.9])
 by smtp.corp.redhat.com (Postfix) with ESMTP id B5C2F60D0B;
 Fri, 17 May 2019 08:49:15 +0000 (UTC)
From: Frediano Ziglio <fziglio@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Fri, 17 May 2019 09:49:11 +0100
Message-Id: <20190517084911.15355-1-fziglio@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.13
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.48]); Fri, 17 May 2019 08:49:16 +0000 (UTC)
Subject: [Spice-devel] [PATCH spice-gtk] usb-device-manager: Define
 _SpiceUsbDevice instead of SpiceUsbDeviceInfo
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

U3BpY2VVc2JEZXZpY2UqIHdhcyBjb252ZXJ0ZWQgdG8gU3BpY2VVc2JEZXZpY2VJbmZvKiBhcyBf
U3BpY2VVc2JEZXZpY2UKd2FzIG5ldmVyIGRlZmluZXMuIERlZmluZSBpbnN0ZWFkIHRoZSBzdHJ1
Y3R1cmUgdG8gYXZvaWQgdXNlbGVzcwpjYXN0cy4KClNpZ25lZC1vZmYtYnk6IEZyZWRpYW5vIFpp
Z2xpbyA8ZnppZ2xpb0ByZWRoYXQuY29tPgotLS0KIHNyYy91c2ItZGV2aWNlLW1hbmFnZXIuYyB8
IDU5ICsrKysrKysrKysrKysrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIDEgZmlsZSBjaGFu
Z2VkLCAyMCBpbnNlcnRpb25zKCspLCAzOSBkZWxldGlvbnMoLSkKCmRpZmYgLS1naXQgYS9zcmMv
dXNiLWRldmljZS1tYW5hZ2VyLmMgYi9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMKaW5kZXggYmQ0
MjE0MjYuLmFjYjQ2NTllIDEwMDY0NAotLS0gYS9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMKKysr
IGIvc3JjL3VzYi1kZXZpY2UtbWFuYWdlci5jCkBAIC0xMzAsNyArMTMwLDcgQEAgZW51bSB7CiAK
ICNpZmRlZiBVU0VfVVNCUkVESVIKIAotdHlwZWRlZiBzdHJ1Y3QgX1NwaWNlVXNiRGV2aWNlSW5m
byB7CitzdHJ1Y3QgX1NwaWNlVXNiRGV2aWNlIHsKICAgICBndWludDggIGJ1c251bTsKICAgICBn
dWludDggIGRldmFkZHI7CiAgICAgZ3VpbnQxNiB2aWQ7CkBAIC0xMzgsNyArMTM4LDcgQEAgdHlw
ZWRlZiBzdHJ1Y3QgX1NwaWNlVXNiRGV2aWNlSW5mbyB7CiAgICAgZ2Jvb2xlYW4gaXNvY2hyb25v
dXM7CiAgICAgbGlidXNiX2RldmljZSAqbGliZGV2OwogICAgIGdpbnQgICAgcmVmOwotfSBTcGlj
ZVVzYkRldmljZUluZm87Cit9OwogCiAKIHN0YXRpYyB2b2lkIGNoYW5uZWxfbmV3KFNwaWNlU2Vz
c2lvbiAqc2Vzc2lvbiwgU3BpY2VDaGFubmVsICpjaGFubmVsLApAQCAtMTYxLDcgKzE2MSw3IEBA
IHN0YXRpYyBpbnQgc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2hvdHBsdWdfY2IobGlidXNiX2Nv
bnRleHQgICAgICAgKmN0eCwKIHN0YXRpYyB2b2lkIHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9j
aGVja19yZWRpcl9vbl9jb25uZWN0KAogICAgIFNwaWNlVXNiRGV2aWNlTWFuYWdlciAqc2VsZiwg
U3BpY2VDaGFubmVsICpjaGFubmVsKTsKIAotc3RhdGljIFNwaWNlVXNiRGV2aWNlSW5mbyAqc3Bp
Y2VfdXNiX2RldmljZV9uZXcobGlidXNiX2RldmljZSAqbGliZGV2KTsKK3N0YXRpYyBTcGljZVVz
YkRldmljZSAqc3BpY2VfdXNiX2RldmljZV9uZXcobGlidXNiX2RldmljZSAqbGliZGV2KTsKIHN0
YXRpYyBTcGljZVVzYkRldmljZSAqc3BpY2VfdXNiX2RldmljZV9yZWYoU3BpY2VVc2JEZXZpY2Ug
KmRldmljZSk7CiBzdGF0aWMgdm9pZCBzcGljZV91c2JfZGV2aWNlX3VucmVmKFNwaWNlVXNiRGV2
aWNlICpkZXZpY2UpOwogCkBAIC03NTEsMTEgKzc1MSw5IEBAIHN0YXRpYyBnYm9vbGVhbiBzcGlj
ZV91c2JfZGV2aWNlX21hbmFnZXJfZ2V0X2RldmljZV9kZXNjcmlwdG9yKAogICogU2luY2U6IDAu
MjcKICAqKi8KIGdjb25zdHBvaW50ZXIKLXNwaWNlX3VzYl9kZXZpY2VfZ2V0X2xpYnVzYl9kZXZp
Y2UoY29uc3QgU3BpY2VVc2JEZXZpY2UgKmRldmljZSBHX0dOVUNfVU5VU0VEKQorc3BpY2VfdXNi
X2RldmljZV9nZXRfbGlidXNiX2RldmljZShjb25zdCBTcGljZVVzYkRldmljZSAqaW5mbyBHX0dO
VUNfVU5VU0VEKQogewogI2lmZGVmIFVTRV9VU0JSRURJUgotICAgIGNvbnN0IFNwaWNlVXNiRGV2
aWNlSW5mbyAqaW5mbyA9IChjb25zdCBTcGljZVVzYkRldmljZUluZm8gKilkZXZpY2U7Ci0KICAg
ICBnX3JldHVybl92YWxfaWZfZmFpbChpbmZvICE9IE5VTEwsIEZBTFNFKTsKIAogICAgIHJldHVy
biBpbmZvLT5saWJkZXY7CkBAIC0xNzI0LDExICsxNzIyLDExIEBAIHN0YXRpYyBnYm9vbGVhbiBw
cm9iZV9pc29jaHJvbm91c19lbmRwb2ludChsaWJ1c2JfZGV2aWNlICpsaWJkZXYpCiB9CiAKIC8q
Ci0gKiBTcGljZVVzYkRldmljZUluZm8KKyAqIFNwaWNlVXNiRGV2aWNlCiAgKi8KLXN0YXRpYyBT
cGljZVVzYkRldmljZUluZm8gKnNwaWNlX3VzYl9kZXZpY2VfbmV3KGxpYnVzYl9kZXZpY2UgKmxp
YmRldikKK3N0YXRpYyBTcGljZVVzYkRldmljZSAqc3BpY2VfdXNiX2RldmljZV9uZXcobGlidXNi
X2RldmljZSAqbGliZGV2KQogewotICAgIFNwaWNlVXNiRGV2aWNlSW5mbyAqaW5mbzsKKyAgICBT
cGljZVVzYkRldmljZSAqaW5mbzsKICAgICBpbnQgdmlkLCBwaWQ7CiAgICAgZ3VpbnQ4IGJ1cywg
YWRkcjsKIApAQCAtMTc0MSw3ICsxNzM5LDcgQEAgc3RhdGljIFNwaWNlVXNiRGV2aWNlSW5mbyAq
c3BpY2VfdXNiX2RldmljZV9uZXcobGlidXNiX2RldmljZSAqbGliZGV2KQogICAgICAgICByZXR1
cm4gTlVMTDsKICAgICB9CiAKLSAgICBpbmZvID0gZ19uZXcwKFNwaWNlVXNiRGV2aWNlSW5mbywg
MSk7CisgICAgaW5mbyA9IGdfbmV3MChTcGljZVVzYkRldmljZSwgMSk7CiAKICAgICBpbmZvLT5i
dXNudW0gID0gYnVzOwogICAgIGluZm8tPmRldmFkZHIgPSBhZGRyOwpAQCAtMTc1NCw0NiArMTc1
MiwzNiBAQCBzdGF0aWMgU3BpY2VVc2JEZXZpY2VJbmZvICpzcGljZV91c2JfZGV2aWNlX25ldyhs
aWJ1c2JfZGV2aWNlICpsaWJkZXYpCiAgICAgcmV0dXJuIGluZm87CiB9CiAKLWd1aW50OCBzcGlj
ZV91c2JfZGV2aWNlX2dldF9idXNudW0oY29uc3QgU3BpY2VVc2JEZXZpY2UgKmRldmljZSkKK2d1
aW50OCBzcGljZV91c2JfZGV2aWNlX2dldF9idXNudW0oY29uc3QgU3BpY2VVc2JEZXZpY2UgKmlu
Zm8pCiB7Ci0gICAgY29uc3QgU3BpY2VVc2JEZXZpY2VJbmZvICppbmZvID0gKGNvbnN0IFNwaWNl
VXNiRGV2aWNlSW5mbyAqKWRldmljZTsKLQogICAgIGdfcmV0dXJuX3ZhbF9pZl9mYWlsKGluZm8g
IT0gTlVMTCwgMCk7CiAKICAgICByZXR1cm4gaW5mby0+YnVzbnVtOwogfQogCi1ndWludDggc3Bp
Y2VfdXNiX2RldmljZV9nZXRfZGV2YWRkcihjb25zdCBTcGljZVVzYkRldmljZSAqZGV2aWNlKQor
Z3VpbnQ4IHNwaWNlX3VzYl9kZXZpY2VfZ2V0X2RldmFkZHIoY29uc3QgU3BpY2VVc2JEZXZpY2Ug
KmluZm8pCiB7Ci0gICAgY29uc3QgU3BpY2VVc2JEZXZpY2VJbmZvICppbmZvID0gKGNvbnN0IFNw
aWNlVXNiRGV2aWNlSW5mbyAqKWRldmljZTsKLQogICAgIGdfcmV0dXJuX3ZhbF9pZl9mYWlsKGlu
Zm8gIT0gTlVMTCwgMCk7CiAKICAgICByZXR1cm4gaW5mby0+ZGV2YWRkcjsKIH0KIAotZ3VpbnQx
NiBzcGljZV91c2JfZGV2aWNlX2dldF92aWQoY29uc3QgU3BpY2VVc2JEZXZpY2UgKmRldmljZSkK
K2d1aW50MTYgc3BpY2VfdXNiX2RldmljZV9nZXRfdmlkKGNvbnN0IFNwaWNlVXNiRGV2aWNlICpp
bmZvKQogewotICAgIGNvbnN0IFNwaWNlVXNiRGV2aWNlSW5mbyAqaW5mbyA9IChjb25zdCBTcGlj
ZVVzYkRldmljZUluZm8gKilkZXZpY2U7Ci0KICAgICBnX3JldHVybl92YWxfaWZfZmFpbChpbmZv
ICE9IE5VTEwsIDApOwogCiAgICAgcmV0dXJuIGluZm8tPnZpZDsKIH0KIAotZ3VpbnQxNiBzcGlj
ZV91c2JfZGV2aWNlX2dldF9waWQoY29uc3QgU3BpY2VVc2JEZXZpY2UgKmRldmljZSkKK2d1aW50
MTYgc3BpY2VfdXNiX2RldmljZV9nZXRfcGlkKGNvbnN0IFNwaWNlVXNiRGV2aWNlICppbmZvKQog
ewotICAgIGNvbnN0IFNwaWNlVXNiRGV2aWNlSW5mbyAqaW5mbyA9IChjb25zdCBTcGljZVVzYkRl
dmljZUluZm8gKilkZXZpY2U7Ci0KICAgICBnX3JldHVybl92YWxfaWZfZmFpbChpbmZvICE9IE5V
TEwsIDApOwogCiAgICAgcmV0dXJuIGluZm8tPnBpZDsKIH0KIAotZ2Jvb2xlYW4gc3BpY2VfdXNi
X2RldmljZV9pc19pc29jaHJvbm91cyhjb25zdCBTcGljZVVzYkRldmljZSAqZGV2aWNlKQorZ2Jv
b2xlYW4gc3BpY2VfdXNiX2RldmljZV9pc19pc29jaHJvbm91cyhjb25zdCBTcGljZVVzYkRldmlj
ZSAqaW5mbykKIHsKLSAgICBjb25zdCBTcGljZVVzYkRldmljZUluZm8gKmluZm8gPSAoY29uc3Qg
U3BpY2VVc2JEZXZpY2VJbmZvICopZGV2aWNlOwotCiAgICAgZ19yZXR1cm5fdmFsX2lmX2ZhaWwo
aW5mbyAhPSBOVUxMLCAwKTsKIAogICAgIHJldHVybiBpbmZvLT5pc29jaHJvbm91czsKQEAgLTE4
NjYsMjEgKzE4NTQsMTcgQEAgdm9pZCBfdXNiZGtfaGlkZXJfdXBkYXRlKFNwaWNlVXNiRGV2aWNl
TWFuYWdlciAqbWFuYWdlcikKIAogI2VuZGlmCiAKLXN0YXRpYyBTcGljZVVzYkRldmljZSAqc3Bp
Y2VfdXNiX2RldmljZV9yZWYoU3BpY2VVc2JEZXZpY2UgKmRldmljZSkKK3N0YXRpYyBTcGljZVVz
YkRldmljZSAqc3BpY2VfdXNiX2RldmljZV9yZWYoU3BpY2VVc2JEZXZpY2UgKmluZm8pCiB7Ci0g
ICAgU3BpY2VVc2JEZXZpY2VJbmZvICppbmZvID0gKFNwaWNlVXNiRGV2aWNlSW5mbyAqKWRldmlj
ZTsKLQogICAgIGdfcmV0dXJuX3ZhbF9pZl9mYWlsKGluZm8gIT0gTlVMTCwgTlVMTCk7CiAgICAg
Z19hdG9taWNfaW50X2luYygmaW5mby0+cmVmKTsKLSAgICByZXR1cm4gZGV2aWNlOworICAgIHJl
dHVybiBpbmZvOwogfQogCi1zdGF0aWMgdm9pZCBzcGljZV91c2JfZGV2aWNlX3VucmVmKFNwaWNl
VXNiRGV2aWNlICpkZXZpY2UpCitzdGF0aWMgdm9pZCBzcGljZV91c2JfZGV2aWNlX3VucmVmKFNw
aWNlVXNiRGV2aWNlICppbmZvKQogewogICAgIGdib29sZWFuIHJlZl9jb3VudF9pc18wOwogCi0g
ICAgU3BpY2VVc2JEZXZpY2VJbmZvICppbmZvID0gKFNwaWNlVXNiRGV2aWNlSW5mbyAqKWRldmlj
ZTsKLQogICAgIGdfcmV0dXJuX2lmX2ZhaWwoaW5mbyAhPSBOVUxMKTsKIAogICAgIHJlZl9jb3Vu
dF9pc18wID0gZ19hdG9taWNfaW50X2RlY19hbmRfdGVzdCgmaW5mby0+cmVmKTsKQEAgLTE4OTIs
MTMgKzE4NzYsMTIgQEAgc3RhdGljIHZvaWQgc3BpY2VfdXNiX2RldmljZV91bnJlZihTcGljZVVz
YkRldmljZSAqZGV2aWNlKQogCiBzdGF0aWMgZ2Jvb2xlYW4KIHNwaWNlX3VzYl9tYW5hZ2VyX2Rl
dmljZV9lcXVhbF9saWJkZXYoU3BpY2VVc2JEZXZpY2VNYW5hZ2VyICptYW5hZ2VyLAotICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVVzYkRldmljZSAqZGV2aWNlLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVVzYkRldmljZSAqaW5m
bywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlidXNiX2RldmljZSAg
KmxpYmRldikKIHsKLSAgICBTcGljZVVzYkRldmljZUluZm8gKmluZm8gPSAoU3BpY2VVc2JEZXZp
Y2VJbmZvICopZGV2aWNlOwotCi0gICAgaWYgKChkZXZpY2UgPT0gTlVMTCkgfHwgKGxpYmRldiA9
PSBOVUxMKSkKKyAgICBpZiAoaW5mbyA9PSBOVUxMIHx8IGxpYmRldiA9PSBOVUxMKSB7CiAgICAg
ICAgIHJldHVybiBGQUxTRTsKKyAgICB9CiAKICAgICByZXR1cm4gaW5mby0+bGliZGV2ID09IGxp
YmRldjsKIH0KQEAgLTE5MDksMTEgKzE4OTIsOSBAQCBzcGljZV91c2JfbWFuYWdlcl9kZXZpY2Vf
ZXF1YWxfbGliZGV2KFNwaWNlVXNiRGV2aWNlTWFuYWdlciAqbWFuYWdlciwKICAqLwogc3RhdGlj
IGxpYnVzYl9kZXZpY2UgKgogc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2RldmljZV90b19saWJk
ZXYoU3BpY2VVc2JEZXZpY2VNYW5hZ2VyICpzZWxmLAotICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgU3BpY2VVc2JEZXZpY2UgKmRldmljZSkKKyAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNwaWNlVXNiRGV2aWNlICppbmZvKQogewogICAg
IC8qIFNpbXBseSByZXR1cm4gYSByZWYgdG8gdGhlIGNhY2hlZCBsaWJkZXYgKi8KLSAgICBTcGlj
ZVVzYkRldmljZUluZm8gKmluZm8gPSAoU3BpY2VVc2JEZXZpY2VJbmZvICopZGV2aWNlOwotCiAg
ICAgcmV0dXJuIGxpYnVzYl9yZWZfZGV2aWNlKGluZm8tPmxpYmRldik7CiB9CiAjZW5kaWYgLyog
VVNFX1VTQlJFRElSICovCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9zcGljZS1kZXZlbA==
