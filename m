Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 7197F5BAD9
	for <lists+spice-devel@lfdr.de>; Mon,  1 Jul 2019 13:38:55 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DD7E4898EA;
	Mon,  1 Jul 2019 11:38:53 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C6F1C898EA
 for <spice-devel@lists.freedesktop.org>; Mon,  1 Jul 2019 11:38:52 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx08.intmail.prod.int.phx2.redhat.com
 [10.5.11.23])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 4C90230832C6
 for <spice-devel@lists.freedesktop.org>; Mon,  1 Jul 2019 11:38:52 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx01.intmail.prod.int.phx2.redhat.com [10.5.11.20])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 437DD19C77
 for <spice-devel@lists.freedesktop.org>; Mon,  1 Jul 2019 11:38:52 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 36BD21806B15;
 Mon,  1 Jul 2019 11:38:52 +0000 (UTC)
Date: Mon, 1 Jul 2019 07:38:50 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Jakub =?utf-8?Q?Jank=C5=AF?= <jjanku@redhat.com>
Message-ID: <521449832.25947540.1561981130755.JavaMail.zimbra@redhat.com>
In-Reply-To: <1029094810.25942857.1561978920203.JavaMail.zimbra@redhat.com>
References: <20190701094744.18558-1-jjanku@redhat.com>
 <1029094810.25942857.1561978920203.JavaMail.zimbra@redhat.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.18, 10.4.195.2]
Thread-Topic: webdav: don't buffer input from phodav
Thread-Index: c2cIYdNYn7hq0wxMsovKNjie5pZxctgOo+w5
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.23
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.44]); Mon, 01 Jul 2019 11:38:52 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-gtk] webdav: don't buffer input from
 phodav
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiA+IAo+ID4gVGhlIGN1cnJlbnQgYXBwcm9hY2ggd2l0aCBPdXRwdXRRdWV1ZSBpbiB3ZWJk
YXYgaGFzIHNldmVyYWwgcHJvYmxlbXM6Cj4gPiAKPiA+ICogaWYgdGhlIGNvbm5lY3Rpb24gaXMg
c2xvdywgd2ViZGF2IGtlZXBzIHJlYWRpbmcgZnJvbSBwaG9kYXYKPiA+IGFuZCBwdXNoaW5nIG1l
c3NhZ2VzIHRvIHRoZSBpbnRlcm5hbCBjaGFubmVsIHhtaXRfcXVldWUuCj4gPiBUaGlzIHdheSwg
dGhlIHF1ZXVlIGNhbiBncm93IHZlcnkgcXVpY2tseSBhbmQgdGhlIHdob2xlIGZpbGUKPiA+IHRo
YXQgaXMgYmVpbmcgdHJhbnNmZXJyZWQgdXNpbmcgd2ViZGF2IGVzc2VudGlhbGx5IGdldHMgbG9h
ZGVkIGludG8gbWVtb3J5Lgo+ID4gCj4gPiAqIHNwaWNlIGNoYW5uZWwgZmlyc3QgZmx1c2hlcyBh
bGwgbWVzc2FnZXMgaW4gdGhlIHhtaXRfcXVldWUgYW5kCj4gPiB0aGVuIHByb2NlZWRzIHRvIHJl
YWRpbmcuIElmIHdlYmRhdiBmbG9vZHMgdGhlIHhtaXRfcXVldWUgd2l0aAo+ID4gYSB0b24gb2Yg
bWVzc2FnZXMsIHNwaWNlIGNoYW5uZWwgZG9lcyBub3QgbGVhdmUgaXRlcmF0ZV93cml0ZSB1bnRp
bAo+ID4gdGhlIHF1ZXVlIGdldHMgZW1wdHkuIFRoaXMgd2F5LCByZWFkaW5nIGZyb20gdGhlIGNo
YW5uZWwgaXMgYmxvY2tlZAo+ID4gdGlsbCB0aGUgd2hvbGUgZmlsZSBpcyB0cmFuc2ZlcnJlZC4K
PiA+IAo+ID4gKiBPdXRwdXRRdWV1ZSB1c2VzIGdfb3V0cHV0X3N0cmVhbV9mbHVzaF9hc3luYygp
IG9uIFNwaWNlVm1jT3V0cHV0U3RyZWFtCj4gPiB0aGF0IGRvZXMgbm90IGltcGxlbWVudCBmbHVz
aAo+ID4gCj4gPiBUbyBzb2x2ZSB0aGVzZSBpc3N1ZXMsIGRvbid0IHJlYWQgZnJvbSBwaG9kYXYg
dW50aWwgdGhlIGxhc3QgbWVzc2FnZQo+ID4gZm9yIGEgZ2l2ZW4gY2xpZW50IGlzIHdyaXR0ZW4g
b3V0IHRvIHRoZSBzb2NrZXQuCj4gPiAobWFpbiBjaGFubmVsIGN1cnJlbnRseSB1c2VzIHRoZSBz
YW1lIGFwcHJvYWNoIHdoZW4gdHJhbnNmZXJyaW5nIGZpbGVzKQo+ID4gCj4gPiBPdXRwdXRRdWV1
ZSB1c2VkIGFuIGlkbGUgZnVuY3Rpb24gdG8gc2NoZWR1bGUgdGhlIHdyaXRlIGFuZCB0aGVuCj4g
PiBjYWxsZWQgbXV4X3B1c2hlZF9jYiB3aGljaCBzdGFydGVkIHJlYWRpbmcgZnJvbSBwaG9kYXYg
d2l0aCBwcmlvcml0eQo+ID4gR19QUklPUklUWV9ERUZBVUxULgo+ID4gU2luY2UgdGhpcyBuZXcg
YXBwcm9hY2ggZG9lcyBub3QgdXRpbGl6ZSB0aGUgaWRsZSBzY2hlZHVsaW5nLAo+ID4gbG93ZXIg
dGhlIHByaW9yaXR5IGluIGNsaWVudF9zdGFydF9yZWFkKCkgdG8gR19QUklPUklUWV9ERUZBVUxU
X0lETEUKPiA+IHRvIG1ha2Ugc3VyZSB3ZWJkYXYgZG9lcyBub3QgYmxvY2sgb3RoZXIgY2hhbm5l
bHMuCj4gPiAKPiAKPiBUaGlzIHNvdW5kcyBhIGJpdCB3b3JyeWluZy4gV2h5IHdpdGggYWxsIGNv
cm91dGluZS9hc3luYyBjb2RlIHdlCj4gaGF2ZSB3ZSBzaG91bGQgaGF2ZSBhIGJsb2NrYWdlPyBU
aGlzIHNvdW5kcyB3cm9uZy4KPiAKPiA+IEFsc28gaW1wbGVtZW50IHNwaWNlX3dlYmRhdl9jaGFu
bmVsX3Jlc2V0KCkuIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UKPiA+IHNwaWNlX3ZtY193cml0
ZV9hc3luYygpIHJlZmVyZW5jZXMgdGhlIGNoYW5uZWwuIElmIHRoZSBjaGFubmVsIGlzIHRvIGJl
Cj4gPiBkaXNjb25uZWN0ZWQsIHRoZSB3cml0ZSBvcGVyYXRpb25zIG5lZWQgdG8gYmUgY2FuY2Vs
bGVkIHNvIHRoYXQKPiA+IHRoZSByZWZlcmVuY2VzIHRvIHRoZSBjaGFubmVsIGFyZSByZWxlYXNl
ZCBhc2FwLiBPdGhlcndpc2UsCj4gPiBzcGljZSBzZXNzaW9uIHdvdWxkIGJlIHN0dWNrIHdhaXRp
bmcgZm9yIHRoZSBjaGFubmVsIHRvIGZpbmFsaXplLgo+ID4gCj4gPiBTaWduZWQtb2ZmLWJ5OiBK
YWt1YiBKYW5rxa8gPGpqYW5rdUByZWRoYXQuY29tPgo+ID4gLS0tCj4gPiAKPiA+IE5vdGU6IEkg
bGVmdCB0aGUgT3V0cHV0UXVldWUgY29kZSBzdGlsbCBpbiBwbGFjZSBzaW5jZSBJJ20gY29uc2lk
ZXJpbmcKPiA+IHVzaW5nIGl0IGZvciB0aGUgZHJhZyZkcm9wIGZ1bmN0aW9uYWxpdHkuCj4gPiAK
PiA+ICBzcmMvY2hhbm5lbC13ZWJkYXYuYyB8IDQ5ICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrLS0tLS0tLS0tLS0tCj4gPiAgMSBmaWxlIGNoYW5nZWQsIDM2IGluc2VydGlvbnMoKyks
IDEzIGRlbGV0aW9ucygtKQo+ID4gCj4gPiBkaWZmIC0tZ2l0IGEvc3JjL2NoYW5uZWwtd2ViZGF2
LmMgYi9zcmMvY2hhbm5lbC13ZWJkYXYuYwo+ID4gaW5kZXggZjVhMzhhZC4uNjZmOGE1YiAxMDA2
NDQKPiA+IC0tLSBhL3NyYy9jaGFubmVsLXdlYmRhdi5jCj4gPiArKysgYi9zcmMvY2hhbm5lbC13
ZWJkYXYuYwo+ID4gQEAgLTQ1LDEzICs0NSwxMiBAQAo+ID4gICAqIFNpbmNlOiAwLjI0Cj4gPiAg
ICovCj4gPiAgCj4gPiAtdHlwZWRlZiBzdHJ1Y3QgX091dHB1dFF1ZXVlIE91dHB1dFF1ZXVlOwo+
ID4gKy8qIHR5cGVkZWYgc3RydWN0IF9PdXRwdXRRdWV1ZSBPdXRwdXRRdWV1ZTsgKi8KPiA+ICAK
PiA+ICBzdHJ1Y3QgX1NwaWNlV2ViZGF2Q2hhbm5lbFByaXZhdGUgewo+ID4gICAgICBTcGljZVZt
Y1N0cmVhbSAqc3RyZWFtOwo+ID4gICAgICBHQ2FuY2VsbGFibGUgKmNhbmNlbGxhYmxlOwo+ID4g
ICAgICBHSGFzaFRhYmxlICpjbGllbnRzOwo+ID4gLSAgICBPdXRwdXRRdWV1ZSAqcXVldWU7Cj4g
PiAgCj4gPiAgICAgIGdib29sZWFuIGRlbXV4aW5nOwo+ID4gICAgICBzdHJ1Y3QgX2RlbXV4IHsK
PiA+IEBAIC02NSw2ICs2NCw3IEBAIEdfREVGSU5FX1RZUEVfV0lUSF9QUklWQVRFKFNwaWNlV2Vi
ZGF2Q2hhbm5lbCwKPiA+IHNwaWNlX3dlYmRhdl9jaGFubmVsLCBTUElDRV9UWVBFXwo+ID4gIAo+
ID4gIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9oYW5kbGVfbXNnKFNwaWNlQ2hhbm5lbCAqY2hh
bm5lbCwgU3BpY2VNc2dJbgo+ID4gICptc2cpOwo+ID4gIAo+ID4gKyNpZiAwCj4gPiAgc3RydWN0
IF9PdXRwdXRRdWV1ZSB7Cj4gPiAgICAgIEdPdXRwdXRTdHJlYW0gKm91dHB1dDsKPiA+ICAgICAg
Z2Jvb2xlYW4gZmx1c2hpbmc7Cj4gPiBAQCAtMTc5LDYgKzE3OSw4IEBAIHN0YXRpYyB2b2lkIG91
dHB1dF9xdWV1ZV9wdXNoKE91dHB1dFF1ZXVlICpxLCBjb25zdAo+ID4gZ3VpbnQ4ICpidWYsIGdz
aXplIHNpemUsCj4gPiAgICAgICAgICBxLT5pZGxlX2lkID0gZ19pZGxlX2FkZChvdXRwdXRfcXVl
dWVfaWRsZSwgcSk7Cj4gPiAgfQo+ID4gIAo+ID4gKyNlbmRpZgo+ID4gKwo+ID4gIHR5cGVkZWYg
c3RydWN0IENsaWVudAo+ID4gIHsKPiA+ICAgICAgZ3VpbnQgcmVmczsKPiA+IEBAIC0yMjcsMTAg
KzIyOSwxNyBAQCBzdGF0aWMgdm9pZCByZW1vdmVfY2xpZW50KENsaWVudCAqY2xpZW50KQo+ID4g
ICAgICBnX2hhc2hfdGFibGVfcmVtb3ZlKGNsaWVudC0+c2VsZi0+cHJpdi0+Y2xpZW50cywgJmNs
aWVudC0+aWQpOwo+ID4gIH0KPiA+ICAKPiA+IC1zdGF0aWMgdm9pZCBtdXhfcHVzaGVkX2NiKE91
dHB1dFF1ZXVlICpxLCBncG9pbnRlciB1c2VyX2RhdGEpCj4gPiArI2RlZmluZSBNQVhfTVVYX1NJ
WkUgR19NQVhVSU5UMTYKPiA+ICsKPiA+ICtzdGF0aWMgdm9pZAo+ID4gK211eF9tc2dfZmx1c2hl
ZF9jYihHT2JqZWN0ICpzb3VyY2Vfb2JqZWN0LAo+ID4gKyAgICAgICAgICAgICAgICAgICBHQXN5
bmNSZXN1bHQgKnJlc3VsdCwKPiA+ICsgICAgICAgICAgICAgICAgICAgZ3BvaW50ZXIgdXNlcl9k
YXRhKQo+ID4gIHsKPiA+ICAgICAgQ2xpZW50ICpjbGllbnQgPSB1c2VyX2RhdGE7Cj4gPiAgCj4g
PiArICAgIGdfb3V0cHV0X3N0cmVhbV93cml0ZV9maW5pc2goR19PVVRQVVRfU1RSRUFNKHNvdXJj
ZV9vYmplY3QpLCByZXN1bHQsCj4gPiBOVUxMKTsKPiA+ICsKPiA+ICAgICAgaWYgKGNsaWVudC0+
bXV4LnNpemUgPT0gMCB8fAo+ID4gICAgICAgICAgIWNsaWVudF9zdGFydF9yZWFkKGNsaWVudCkp
IHsKPiA+ICAgICAgICAgIHJlbW92ZV9jbGllbnQoY2xpZW50KTsKPiA+IEBAIC0yMzksMTQgKzI0
OCwxMyBAQCBzdGF0aWMgdm9pZCBtdXhfcHVzaGVkX2NiKE91dHB1dFF1ZXVlICpxLCBncG9pbnRl
cgo+ID4gdXNlcl9kYXRhKQo+ID4gICAgICBjbGllbnRfdW5yZWYoY2xpZW50KTsKPiA+ICB9Cj4g
PiAgCj4gPiAtI2RlZmluZSBNQVhfTVVYX1NJWkUgR19NQVhVSU5UMTYKPiA+IC0KPiA+ICBzdGF0
aWMgdm9pZCBzZXJ2ZXJfcmVwbHlfY2IoR09iamVjdCAqc291cmNlX29iamVjdCwKPiA+ICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgR0FzeW5jUmVzdWx0ICpyZXMsCj4gPiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGdwb2ludGVyIHVzZXJfZGF0YSkKPiA+ICB7Cj4gPiAgICAgIENs
aWVudCAqY2xpZW50ID0gdXNlcl9kYXRhOwo+ID4gICAgICBTcGljZVdlYmRhdkNoYW5uZWxQcml2
YXRlICpjID0gY2xpZW50LT5zZWxmLT5wcml2Owo+ID4gKyAgICBHT3V0cHV0U3RyZWFtICptdXhf
b3V0Owo+ID4gICAgICBHRXJyb3IgKmVyciA9IE5VTEw7Cj4gPiAgICAgIGdzc2l6ZSBzaXplOwo+
ID4gIAo+ID4gQEAgLTI1OCwxMCArMjY2LDE1IEBAIHN0YXRpYyB2b2lkIHNlcnZlcl9yZXBseV9j
YihHT2JqZWN0ICpzb3VyY2Vfb2JqZWN0LAo+ID4gICAgICBnX3JldHVybl9pZl9mYWlsKHNpemUg
Pj0gMCk7Cj4gPiAgICAgIGNsaWVudC0+bXV4LnNpemUgPSBzaXplOwo+ID4gIAo+ID4gLSAgICBv
dXRwdXRfcXVldWVfcHVzaChjLT5xdWV1ZSwgKGd1aW50OCAqKSZjbGllbnQtPm11eC5pZCwgc2l6
ZW9mKGdpbnQ2NCksCj4gPiBOVUxMLCBOVUxMKTsKPiA+ICsgICAgbXV4X291dCA9IGdfaW9fc3Ry
ZWFtX2dldF9vdXRwdXRfc3RyZWFtKEdfSU9fU1RSRUFNKGMtPnN0cmVhbSkpOwo+ID4gKwo+ID4g
KyAgICBnX291dHB1dF9zdHJlYW1fd3JpdGUobXV4X291dCwgKGd1aW50OCAqKSZjbGllbnQtPm11
eC5pZCwKPiA+IHNpemVvZihnaW50NjQpLCBOVUxMLCBOVUxMKTsKPiA+ICAgICAgY2xpZW50LT5t
dXguc2l6ZSA9IEdVSU5UMTZfVE9fTEUoY2xpZW50LT5tdXguc2l6ZSk7Cj4gPiAtICAgIG91dHB1
dF9xdWV1ZV9wdXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4ICopJmNsaWVudC0+bXV4LnNpemUsCj4gPiBz
aXplb2YoZ3VpbnQxNiksIE5VTEwsIE5VTEwpOwo+ID4gLSAgICBvdXRwdXRfcXVldWVfcHVzaChj
LT5xdWV1ZSwgKGd1aW50OCAqKWNsaWVudC0+bXV4LmJ1Ziwgc2l6ZSwKPiA+IChHRnVuYyltdXhf
cHVzaGVkX2NiLCBjbGllbnQpOwo+ID4gKyAgICBnX291dHB1dF9zdHJlYW1fd3JpdGUobXV4X291
dCwgKGd1aW50OCAqKSZjbGllbnQtPm11eC5zaXplLAo+ID4gc2l6ZW9mKGd1aW50MTYpLCBOVUxM
LCBOVUxMKTsKPiA+ICsgICAgLyogdGhpcyBpbnRlcm5hbGx5IHVzZXMgc3BpY2Vfdm1jX3dyaXRl
X2FzeW5jKCksIHByaW9yaXR5IGlzIGlnbm9yZWQ7Cj4gPiArICAgICAqIHRoZSBjYWxsYmFjayBp
cyBpbnZva2VkIG9uY2UgdGhlIG1zZyBpcyB3cml0dGVuIG91dCB0byB0aGUgc29ja2V0Cj4gPiAq
Lwo+ID4gKyAgICBnX291dHB1dF9zdHJlYW1fd3JpdGVfYXN5bmMobXV4X291dCwgKGd1aW50OCAq
KWNsaWVudC0+bXV4LmJ1Ziwgc2l6ZSwKPiA+ICsgICAgICAgIEdfUFJJT1JJVFlfREVGQVVMVCwg
Y2xpZW50LT5jYW5jZWxsYWJsZSwgbXV4X21zZ19mbHVzaGVkX2NiLAo+ID4gY2xpZW50KTsKPiAK
PiBXaHkgZG9uJ3QgeW91IHVzZSBnX291dHB1dF9zdHJlYW1fd3JpdGV2X2FsbF9hc3luYyBoZXJl
IHdyaXRpbmcgYWxsIDMgYnVmZmVycwo+IHRvZ2V0aGVyIGFuZCBhdm9pZCBibG9ja2luZyBjYWxs
cz8KPiBXZWxsLCBpdCdzIGF2YWlsYWJsZSBzdGFydGluZyBmcm9tIEdMaWIgMi42MCBzbyBwb3Nz
aWJseSB5b3UnbGwgaGF2ZQo+IHRvIHByb3ZpZGUgYSByZXBsYWNlbWVudCBmb3IgR0xpYiAyLjYw
IHVzaW5nIGdfb3V0cHV0X3N0cmVhbV93cml0ZV9hbGxfYXN5bmMuCj4gCgpNYXliZSBzb21ldGhp
bmcgbGlrZSB0aGlzIChub3QgdGVzdGVkKSBjb3VsZCBoZWxwCmh0dHBzOi8vY2dpdC5mcmVlZGVz
a3RvcC5vcmcvfmZ6aWdsaW8vc3BpY2UtZ3RrL2NvbW1pdC8/aD1jb21taXQmaWQ9NWZjZGZlNmJj
ZjhlOGNhY2NlZWYwMWIyYjM2YzU1MDZkYTY1Mzg5NgoKPiA+ICAKPiA+ICAgICAgcmV0dXJuOwo+
ID4gIAo+ID4gQEAgLTI4NCw4ICsyOTcsOSBAQCBzdGF0aWMgYm9vbCBjbGllbnRfc3RhcnRfcmVh
ZChDbGllbnQgKmNsaWVudCkKPiA+ICAgICAgaWYgKGdfaW5wdXRfc3RyZWFtX2lzX2Nsb3NlZChp
bnB1dCkpIHsKPiA+ICAgICAgICAgIHJldHVybiBmYWxzZTsKPiA+ICAgICAgfQo+ID4gKyAgICAv
KiB1c2UgbG93IHByaW9yaXR5IHRvIGxlYXZlIGVub3VnaCB0aW1lIGZvciBvdGhlciBjaGFubmVs
cyAqLwo+ID4gICAgICBnX2lucHV0X3N0cmVhbV9yZWFkX2FzeW5jKGlucHV0LCBjbGllbnQtPm11
eC5idWYsIE1BWF9NVVhfU0laRSwKPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBH
X1BSSU9SSVRZX0RFRkFVTFQsIGNsaWVudC0+Y2FuY2VsbGFibGUsCj4gPiBzZXJ2ZXJfcmVwbHlf
Y2IsCj4gPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR19QUklPUklUWV9ERUZBVUxU
X0lETEUsCj4gPiBjbGllbnQtPmNhbmNlbGxhYmxlLAo+ID4gc2VydmVyX3JlcGx5X2NiLAo+ID4g
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWVudF9yZWYoY2xpZW50KSk7Cj4gPiAg
ICAgIHJldHVybiB0cnVlOwo+ID4gIH0KPiA+IEBAIC01NDAsOSArNTU0LDYgQEAgc3RhdGljIHZv
aWQKPiA+IHNwaWNlX3dlYmRhdl9jaGFubmVsX2luaXQoU3BpY2VXZWJkYXZDaGFubmVsCj4gPiAq
Y2hhbm5lbCkKPiA+ICAgICAgYy0+Y2xpZW50cyA9IGdfaGFzaF90YWJsZV9uZXdfZnVsbChnX2lu
dDY0X2hhc2gsIGdfaW50NjRfZXF1YWwsCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgTlVMTCwgY2xpZW50X3JlbW92ZV91bnJlZik7Cj4gPiAgICAgIGMtPmRlbXV4
LmJ1ZiA9IGdfbWFsbG9jMChNQVhfTVVYX1NJWkUpOwo+ID4gLQo+ID4gLSAgICBHT3V0cHV0U3Ry
ZWFtICpvc3RyZWFtID0KPiA+IGdfaW9fc3RyZWFtX2dldF9vdXRwdXRfc3RyZWFtKEdfSU9fU1RS
RUFNKGMtPnN0cmVhbSkpOwo+ID4gLSAgICBjLT5xdWV1ZSA9IG91dHB1dF9xdWV1ZV9uZXcob3N0
cmVhbSk7Cj4gPiAgfQo+ID4gIAo+ID4gIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVs
X2ZpbmFsaXplKEdPYmplY3QgKm9iamVjdCkKPiA+IEBAIC01NjAsNyArNTcxLDYgQEAgc3RhdGlj
IHZvaWQgc3BpY2Vfd2ViZGF2X2NoYW5uZWxfZGlzcG9zZShHT2JqZWN0Cj4gPiAqb2JqZWN0KQo+
ID4gIAo+ID4gICAgICBnX2NhbmNlbGxhYmxlX2NhbmNlbChjLT5jYW5jZWxsYWJsZSk7Cj4gPiAg
ICAgIGdfY2xlYXJfb2JqZWN0KCZjLT5jYW5jZWxsYWJsZSk7Cj4gPiAtICAgIGdfY2xlYXJfcG9p
bnRlcigmYy0+cXVldWUsIG91dHB1dF9xdWV1ZV9mcmVlKTsKPiA+ICAgICAgZ19jbGVhcl9vYmpl
Y3QoJmMtPnN0cmVhbSk7Cj4gPiAgICAgIGdfaGFzaF90YWJsZV91bnJlZihjLT5jbGllbnRzKTsK
PiA+ICAKPiA+IEBAIC01NzIsNiArNTgyLDE4IEBAIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9j
aGFubmVsX3VwKFNwaWNlQ2hhbm5lbAo+ID4gKmNoYW5uZWwpCj4gPiAgICAgIENIQU5ORUxfREVC
VUcoY2hhbm5lbCwgInVwIik7Cj4gPiAgfQo+ID4gIAo+ID4gK3N0YXRpYyB2b2lkIHNwaWNlX3dl
YmRhdl9jaGFubmVsX3Jlc2V0KFNwaWNlQ2hhbm5lbCAqY2hhbm5lbCwgZ2Jvb2xlYW4KPiA+IG1p
Z3JhdGluZykKPiA+ICt7Cj4gPiArICAgIFNwaWNlV2ViZGF2Q2hhbm5lbFByaXZhdGUgKmM7Cj4g
PiArICAgIGMgPQo+ID4gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfZ2V0X2luc3RhbmNlX3ByaXZhdGUo
U1BJQ0VfV0VCREFWX0NIQU5ORUwoY2hhbm5lbCkpOwo+ID4gKwo+ID4gKyAgICBnX2NhbmNlbGxh
YmxlX2NhbmNlbChjLT5jYW5jZWxsYWJsZSk7Cj4gPiArICAgIGMtPmRlbXV4aW5nID0gRkFMU0U7
Cj4gPiArICAgIGdfaGFzaF90YWJsZV9yZW1vdmVfYWxsKGMtPmNsaWVudHMpOwo+ID4gKwo+ID4g
Kwo+ID4gU1BJQ0VfQ0hBTk5FTF9DTEFTUyhzcGljZV93ZWJkYXZfY2hhbm5lbF9wYXJlbnRfY2xh
c3MpLT5jaGFubmVsX3Jlc2V0KGNoYW5uZWwsCj4gPiBtaWdyYXRpbmcpOwo+ID4gK30KPiA+ICsK
PiA+ICBzdGF0aWMgdm9pZCBzcGljZV93ZWJkYXZfY2hhbm5lbF9jbGFzc19pbml0KFNwaWNlV2Vi
ZGF2Q2hhbm5lbENsYXNzCj4gPiAgKmtsYXNzKQo+ID4gIHsKPiA+ICAgICAgR09iamVjdENsYXNz
ICpnb2JqZWN0X2NsYXNzID0gR19PQkpFQ1RfQ0xBU1Moa2xhc3MpOwo+ID4gQEAgLTU4MSw2ICs2
MDMsNyBAQCBzdGF0aWMgdm9pZAo+ID4gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfY2xhc3NfaW5pdChT
cGljZVdlYmRhdkNoYW5uZWxDbGFzcyAqa2xhc3MpCj4gPiAgICAgIGdvYmplY3RfY2xhc3MtPmZp
bmFsaXplICAgICA9IHNwaWNlX3dlYmRhdl9jaGFubmVsX2ZpbmFsaXplOwo+ID4gICAgICBjaGFu
bmVsX2NsYXNzLT5oYW5kbGVfbXNnICAgPSBzcGljZV93ZWJkYXZfaGFuZGxlX21zZzsKPiA+ICAg
ICAgY2hhbm5lbF9jbGFzcy0+Y2hhbm5lbF91cCAgID0gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfdXA7
Cj4gPiArICAgIGNoYW5uZWxfY2xhc3MtPmNoYW5uZWxfcmVzZXQgPSBzcGljZV93ZWJkYXZfY2hh
bm5lbF9yZXNldDsKPiA+ICAKPiA+ICAgICAgZ19zaWduYWxfb3ZlcnJpZGVfY2xhc3NfaGFuZGxl
cigicG9ydC1ldmVudCIsCj4gPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
U1BJQ0VfVFlQRV9XRUJEQVZfQ0hBTk5FTCwKPiAKPiBGcmVkaWFubwo+IF9fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gU3BpY2UtZGV2ZWwgbWFpbGluZyBs
aXN0Cj4gU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbApfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxp
c3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
