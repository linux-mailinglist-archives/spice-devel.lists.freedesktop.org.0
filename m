Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C22D411621E
	for <lists+spice-devel@lfdr.de>; Sun,  8 Dec 2019 14:57:58 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 21D6A6E03E;
	Sun,  8 Dec 2019 13:57:57 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-wr1-x442.google.com (mail-wr1-x442.google.com
 [IPv6:2a00:1450:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 559BB6E03E
 for <spice-devel@lists.freedesktop.org>; Sun,  8 Dec 2019 13:57:55 +0000 (UTC)
Received: by mail-wr1-x442.google.com with SMTP id t2so13092925wrr.1
 for <spice-devel@lists.freedesktop.org>; Sun, 08 Dec 2019 05:57:55 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=eLaZNK/If7P3djZuxf4YsUKnl6jESKdLJRQDXVz6CrU=;
 b=BDDJzH5aOWxSeH515ETOp7eUbt2soFEHiRlscnFRGFww3Riry3fJI0l5stMo6Hbesj
 jn70pSAQfzW931IcpaIHfxnszskzAjxLUGJoA/56KPoQg2db8B0qGY2wLAAadb29/wx4
 KFqMifS3VcJ/TGJY5PNIDzMMNFHjB4pFoe2grXVfuLG0o0bi/9CfygI1HFL/XjtkBcS3
 5qm9PlBl4RQu+6hBk4ZRM68otIe+bI9cT3CIaupV3vGmmviTfW934ZfXxHJlBiyquZ5V
 aaDKzfWIpoeYhwARQXmaSgsF7/jp7xD0SFC571B6e1l5G42+jTAyoLLCNjb3geDJjkBx
 +Scw==
X-Gm-Message-State: APjAAAXW4SDYQuP0EInMYZQTJEUuTUVs9ZIiovoOyPUKbUbrhHXwLG6d
 +FQZMxQXPCixhtIpOAS+aKedXBRPKbjrmQ==
X-Google-Smtp-Source: APXvYqzLiQ2u27ObZktxh0/hr8rSKzfELuXiRooX8MposegBwT/TVzWuGFgw1iUB7aCOyGzhYMIeUQ==
X-Received: by 2002:adf:e2cf:: with SMTP id d15mr2724207wrj.225.1575813473734; 
 Sun, 08 Dec 2019 05:57:53 -0800 (PST)
Received: from localhost.localdomain ([94.188.175.54])
 by smtp.gmail.com with ESMTPSA id l17sm23139280wro.77.2019.12.08.05.57.52
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Sun, 08 Dec 2019 05:57:53 -0800 (PST)
From: alexander@daynix.com
X-Google-Original-From: anezhins@redhat.com
To: spice-devel@lists.freedesktop.org
Date: Sun,  8 Dec 2019 16:03:12 +0200
Message-Id: <20191208140319.22172-3-anezhins@redhat.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191208140319.22172-1-anezhins@redhat.com>
References: <20191208140319.22172-1-anezhins@redhat.com>
MIME-Version: 1.0
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=eLaZNK/If7P3djZuxf4YsUKnl6jESKdLJRQDXVz6CrU=;
 b=iuH8Fkr37z7PBCcLCrb+CLAc38j0522uJCsnCa+qfjWFIZst0QdMgsEi9lgfn6unrg
 nCBhbmrXLENfLrbuXTP4MbbVhJImXQ2PYLaE06r0k4Guow8xg5/hhdxtA+q21ratjiNN
 ZdZEWjkoXw/zgtsQviyEuqDI/qqTe3MmMvNLXe+1R5/ugFbC55B0DHm6kOTvcwTLhpKs
 sP9o0VKTnZL3Gt9oplF+HSFirNU16urt3gmKMQTxYCImOBFl3+8P/AFxBwTFAaPazZF8
 xKZ0YzXywRFGtOBgj3oiUJA/KzhkU8J/s5S5TtZNdQ4wXVN0tlWF/Nnm7d1qp/UIl5zU
 EZVA==
Subject: [Spice-devel] [PATCH shared-cd v1 2/9] add spice_usb_device_manager
 shared CD related api functions
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Yan Vugenfirer <yan@daynix.com>, Alexander Nezhinsky <anezhins@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

RnJvbTogQWxleGFuZGVyIE5lemhpbnNreSA8YW5lemhpbnNAcmVkaGF0LmNvbT4KClRoZSBmb2xs
b3dpbmcgZnVuY3Rpb25zIGFyZSBhZGRlZDoKc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2NyZWF0
ZV9zaGFyZWRfY2RfZGV2aWNlCnNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9pc19kZXZpY2Vfc2hh
cmVkX2NkCnNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9yZW1vdmVfc2hhcmVkX2NkX2RldmljZQoK
U2lnbmVkLW9mZi1ieTogQWxleGFuZGVyIE5lemhpbnNreSA8YW5lemhpbnNAcmVkaGF0LmNvbT4K
LS0tCiBzcmMvbWFwLWZpbGUgICAgICAgICAgICAgfCAgMyArKwogc3JjL3VzYi1kZXZpY2UtbWFu
YWdlci5jIHwgODcgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogc3Jj
L3VzYi1kZXZpY2UtbWFuYWdlci5oIHwgMTQgKysrKysrKwogMyBmaWxlcyBjaGFuZ2VkLCAxMDQg
aW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3NyYy9tYXAtZmlsZSBiL3NyYy9tYXAtZmlsZQpp
bmRleCAzY2I5ODczLi41YWU1NmMzIDEwMDY0NAotLS0gYS9zcmMvbWFwLWZpbGUKKysrIGIvc3Jj
L21hcC1maWxlCkBAIC0xODAsNiArMTgwLDkgQEAgc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2dl
dF9kZXZpY2VzX3dpdGhfZmlsdGVyOwogc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2dldF90eXBl
Owogc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2lzX2RldmljZV9jb25uZWN0ZWQ7CiBzcGljZV91
c2JfZGV2aWNlX21hbmFnZXJfaXNfcmVkaXJlY3Rpbmc7CitzcGljZV91c2JfZGV2aWNlX21hbmFn
ZXJfY3JlYXRlX3NoYXJlZF9jZF9kZXZpY2U7CitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfcmVt
b3ZlX3NoYXJlZF9jZF9kZXZpY2U7CitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfaXNfZGV2aWNl
X3NoYXJlZF9jZDsKIHNwaWNlX3VzYl9kZXZpY2Vfd2lkZ2V0X2dldF90eXBlOwogc3BpY2VfdXNi
X2RldmljZV93aWRnZXRfbmV3Owogc3BpY2VfdXNicmVkaXJfY2hhbm5lbF9nZXRfdHlwZTsKZGlm
ZiAtLWdpdCBhL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYyBiL3NyYy91c2ItZGV2aWNlLW1hbmFn
ZXIuYwppbmRleCAzYTk1NDJhLi5mNWZmNTRjIDEwMDY0NAotLS0gYS9zcmMvdXNiLWRldmljZS1t
YW5hZ2VyLmMKKysrIGIvc3JjL3VzYi1kZXZpY2UtbWFuYWdlci5jCkBAIC0zMiw2ICszMiw3IEBA
CiAjZW5kaWYKIAogI2luY2x1ZGUgImNoYW5uZWwtdXNicmVkaXItcHJpdi5oIgorI2luY2x1ZGUg
InVzYi1kZXZpY2UtY2QuaCIKICNlbmRpZgogCiAjaW5jbHVkZSAic3BpY2Utc2Vzc2lvbi1wcml2
LmgiCkBAIC0xNDM5LDcgKzE0NDAsOTMgQEAgZ2NoYXIgKnNwaWNlX3VzYl9kZXZpY2VfZ2V0X2Rl
c2NyaXB0aW9uKFNwaWNlVXNiRGV2aWNlICpkZXZpY2UsIGNvbnN0IGdjaGFyICpmb3IKICNlbmRp
ZgogfQogCisvKioKKyAqIHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9jcmVhdGVfc2hhcmVkX2Nk
X2RldmljZToKKyAqIEBzZWxmOiBhICNTcGljZVVzYkRldmljZU1hbmFnZXIKKyAqIEBmaWxlbmFt
ZTogaW1hZ2Ugb3IgZGV2aWNlIHBhdGgKKyAqIEBlcnI6IChhbGxvdy1ub25lKTogYSByZXR1cm4g
bG9jYXRpb24gZm9yIGEgI0dFcnJvciwgb3IgJU5VTEwuCisgKgorICogQ3JlYXRlcyBhIG5ldyBz
aGFyZWQgQ0QgZGV2aWNlIGJhc2VkIG9uIGEgZGlzayBpbWFnZSBmaWxlCisgKiBvciBhIHBoeXNp
Y2FsIENEIGRldmljZS4KKyAqCisgKiBSZXR1cm5zOiAlVFJVRSBpZiBkZXZpY2UgY3JlYXRlZCBz
dWNjZXNzZnVsbHkKKyAqLworZ2Jvb2xlYW4KK3NwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9jcmVh
dGVfc2hhcmVkX2NkX2RldmljZShTcGljZVVzYkRldmljZU1hbmFnZXIgKnNlbGYsCisgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NoYXIgKmZpbGVuYW1l
LAorICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdFcnJv
ciAqKmVycikKK3sKKyNpZmRlZiBVU0VfVVNCUkVESVIKKyAgICBTcGljZVVzYkRldmljZU1hbmFn
ZXJQcml2YXRlICpwcml2ID0gc2VsZi0+cHJpdjsKKworICAgIENkRW11bGF0aW9uUGFyYW1zIGNk
X3BhcmFtcyA9IHsKKyAgICAgICAgLmZpbGVuYW1lID0gZmlsZW5hbWUsCisgICAgICAgIC5kZWxl
dGVfb25fZWplY3QgPSAxLAorICAgIH07CiAKKyAgICByZXR1cm4gY3JlYXRlX2VtdWxhdGVkX2Nk
KHByaXYtPmNvbnRleHQsICZjZF9wYXJhbXMsIGVycik7CisjZWxzZQorICAgIGdfc2V0X2Vycm9y
X2xpdGVyYWwoZXJyLCBTUElDRV9DTElFTlRfRVJST1IsIFNQSUNFX0NMSUVOVF9FUlJPUl9GQUlM
RUQsCisgICAgICAgICAgICAgICAgICAgICAgICBfKCJVU0IgcmVkaXJlY3Rpb24gc3VwcG9ydCBu
b3QgY29tcGlsZWQgaW4iKSk7CisgICAgcmV0dXJuIEZBTFNFOworI2VuZGlmCit9CisKKy8qKgor
ICogc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX3JlbW92ZV9zaGFyZWRfY2RfZGV2aWNlOgorICog
QHNlbGY6IGEgI1NwaWNlVXNiRGV2aWNlTWFuYWdlcgorICogQGRldmljZTogYSAjU3BpY2VVc2JE
ZXZpY2UgdG8gcmVtb3ZlCisgKiBAZXJyOiAoYWxsb3ctbm9uZSk6IGEgcmV0dXJuIGxvY2F0aW9u
IGZvciBhICNHRXJyb3IsIG9yICVOVUxMLgorICoKKyAqIFJlbW92ZXMgYSBzaGFyZWQgQ0QgZGV2
aWNlLgorICoKKyAqIFJldHVybnM6ICVUUlVFIGlmIGRldmljZSByZW1vdmVkIHN1Y2Nlc3NmdWxs
eQorICovCitnYm9vbGVhbgorc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX3JlbW92ZV9zaGFyZWRf
Y2RfZGV2aWNlKFNwaWNlVXNiRGV2aWNlTWFuYWdlciAqc2VsZiwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVVzYkRldmljZSAqZGV2aWNlLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdFcnJvciAq
KmVycikKK3sKKyNpZmRlZiBVU0VfVVNCUkVESVIKKyAgICBTcGljZVVzYkJhY2tlbmREZXZpY2Ug
KmJkZXY7CisKKyAgICBiZGV2ID0gc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2RldmljZV90b19i
ZGV2KHNlbGYsIGRldmljZSk7CisgICAgc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX2VqZWN0KHNl
bGYtPnByaXYtPmNvbnRleHQsIGJkZXYpOworICAgIHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV91
bnJlZihiZGV2KTsKKyAgICByZXR1cm4gVFJVRTsKKyNlbHNlCisgICAgZ19zZXRfZXJyb3JfbGl0
ZXJhbChlcnIsIFNQSUNFX0NMSUVOVF9FUlJPUiwgU1BJQ0VfQ0xJRU5UX0VSUk9SX0ZBSUxFRCwK
KyAgICAgICAgICAgICAgICAgICAgICAgIF8oIlVTQiByZWRpcmVjdGlvbiBzdXBwb3J0IG5vdCBj
b21waWxlZCBpbiIpKTsKKyAgICByZXR1cm4gRkFMU0U7CisjZW5kaWYKK30KKworLyoqCisgKiBz
cGljZV91c2JfZGV2aWNlX21hbmFnZXJfaXNfZGV2aWNlX3NoYXJlZF9jZDoKKyAqIEBzZWxmOiBh
ICNTcGljZVVzYkRldmljZU1hbmFnZXIKKyAqIEBkZXZpY2U6IGEgI1NwaWNlVXNiRGV2aWNlIHRv
IHF1ZXJ5CisgKgorICogQ2hlY2tzIHdoZXRoZXIgYSBkZXZpY2UgaXMgc2hhcmVkIENELgorICoK
KyAqIFJldHVybnM6ICVUUlVFIGlmIHRoZSBkZXZpY2UgaXMgc2hhcmVkIENECisgKi8KK2dib29s
ZWFuCitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfaXNfZGV2aWNlX3NoYXJlZF9jZChTcGljZVVz
YkRldmljZU1hbmFnZXIgKnNlbGYsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBTcGljZVVzYkRldmljZSAqZGV2aWNlKQoreworI2lmZGVmIFVTRV9VU0JSRURJ
UgorICAgIFNwaWNlVXNiQmFja2VuZERldmljZSAqYmRldjsKKyAgICBnYm9vbGVhbiBpc19jZDsK
KworICAgIGJkZXYgPSBzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfZGV2aWNlX3RvX2JkZXYoc2Vs
ZiwgZGV2aWNlKTsKKyAgICBpc19jZCA9IHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV9nZXRfbGli
ZGV2KGJkZXYpID09IE5VTEw7CisgICAgc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX3VucmVmKGJk
ZXYpOworCisgICAgcmV0dXJuIGlzX2NkOworI2Vsc2UKKyAgICByZXR1cm4gRkFMU0U7CisjZW5k
aWYKK30KIAogI2lmZGVmIFVTRV9VU0JSRURJUgogLyoKZGlmZiAtLWdpdCBhL3NyYy91c2ItZGV2
aWNlLW1hbmFnZXIuaCBiL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuaAppbmRleCA3NzMyMDhmLi43
ZTExODA3IDEwMDY0NAotLS0gYS9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmgKKysrIGIvc3JjL3Vz
Yi1kZXZpY2UtbWFuYWdlci5oCkBAIC0xNDMsNiArMTQzLDIwIEBAIHNwaWNlX3VzYl9kZXZpY2Vf
bWFuYWdlcl9jYW5fcmVkaXJlY3RfZGV2aWNlKFNwaWNlVXNiRGV2aWNlTWFuYWdlciAgKnNlbGYs
CiAKIGdib29sZWFuIHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9pc19yZWRpcmVjdGluZyhTcGlj
ZVVzYkRldmljZU1hbmFnZXIgKnNlbGYpOwogCitnYm9vbGVhbgorc3BpY2VfdXNiX2RldmljZV9t
YW5hZ2VyX2NyZWF0ZV9zaGFyZWRfY2RfZGV2aWNlKAorICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgU3BpY2VVc2JEZXZpY2VNYW5hZ2VyICpzZWxmLAorICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2NoYXIgKmZpbGVuYW1lLAor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR0Vycm9yICoqZXJy
KTsKK2dib29sZWFuCitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfcmVtb3ZlX3NoYXJlZF9jZF9k
ZXZpY2UoCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGlj
ZVVzYkRldmljZU1hbmFnZXIgKnNlbGYsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBTcGljZVVzYkRldmljZSAqZGV2aWNlLAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgR0Vycm9yICoqZXJyKTsKK2dib29sZWFuCitzcGlj
ZV91c2JfZGV2aWNlX21hbmFnZXJfaXNfZGV2aWNlX3NoYXJlZF9jZChTcGljZVVzYkRldmljZU1h
bmFnZXIgKnNlbGYsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBTcGljZVVzYkRldmljZSAqZGV2aWNlKTsKKwogR19FTkRfREVDTFMKIAogI2VuZGlmIC8qIF9f
U1BJQ0VfVVNCX0RFVklDRV9NQU5BR0VSX0hfXyAqLwotLSAKMi4yMC4xCgpfX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxp
c3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRl
c2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
