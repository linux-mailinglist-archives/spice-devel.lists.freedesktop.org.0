Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 7CBC6CFC0D
	for <lists+spice-devel@lfdr.de>; Tue,  8 Oct 2019 16:12:28 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 8FE826E7C6;
	Tue,  8 Oct 2019 14:12:26 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B33B86E7CA
 for <spice-devel@lists.freedesktop.org>; Tue,  8 Oct 2019 14:12:24 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx04.intmail.prod.int.phx2.redhat.com
 [10.5.11.14])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 5CAD4A2668E
 for <spice-devel@lists.freedesktop.org>; Tue,  8 Oct 2019 14:12:24 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx02.intmail.prod.int.phx2.redhat.com [10.5.11.21])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 5530C5D9CD
 for <spice-devel@lists.freedesktop.org>; Tue,  8 Oct 2019 14:12:24 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 4C49E4EE50;
 Tue,  8 Oct 2019 14:12:24 +0000 (UTC)
Date: Tue, 8 Oct 2019 10:12:24 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Victor Toso <victortoso@redhat.com>
Message-ID: <1399128635.5966136.1570543944137.JavaMail.zimbra@redhat.com>
In-Reply-To: <20191008132013.tevjm3hp4epf6wx7@wingsuit>
References: <20191007103906.30517-1-fziglio@redhat.com>
 <20191007103906.30517-3-fziglio@redhat.com>
 <20191008132013.tevjm3hp4epf6wx7@wingsuit>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.12, 10.4.195.29]
Thread-Topic: test-smartcard: Add test for Smartcard device
Thread-Index: Y9RhaDdNpjtaQNgYiFYfnGaz/kg7gQ==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.14
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.6.2
 (mx1.redhat.com [10.5.110.68]); Tue, 08 Oct 2019 14:12:24 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-server 2/8] test-smartcard: Add test
 for Smartcard device
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBIaSwKPiAKPiBPbiBNb24sIE9jdCAwNywgMjAxOSBhdCAxMTozOTowMEFNICswMTAwLCBG
cmVkaWFubyBaaWdsaW8gd3JvdGU6Cj4gPiBDcmVhdGUgU21hcmRjYXJkIGRldmljZS4KPiA+IENv
bm5lY3QgdG8gaXQgYW5kIHRlc3Qgc29tZSBtZXNzYWdlcyBhcmUgcGFyc2VkIGFuZCBwcm9jZXNz
ZWQKPiA+IGFzIGV4cGVjdGVkLgo+ID4gCj4gPiBTaWduZWQtb2ZmLWJ5OiBGcmVkaWFubyBaaWds
aW8gPGZ6aWdsaW9AcmVkaGF0LmNvbT4KPiA+IC0tLQo+ID4gIHNlcnZlci90ZXN0cy8uZ2l0aWdu
b3JlICAgICAgIHwgICAxICsKPiA+ICBzZXJ2ZXIvdGVzdHMvTWFrZWZpbGUuYW0gICAgICB8ICAg
NCArCj4gPiAgc2VydmVyL3Rlc3RzL21lc29uLmJ1aWxkICAgICAgfCAgIDQgKwo+ID4gIHNlcnZl
ci90ZXN0cy90ZXN0LXNtYXJ0Y2FyZC5jIHwgMjExICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysKPiA+ICA0IGZpbGVzIGNoYW5nZWQsIDIyMCBpbnNlcnRpb25zKCspCj4gPiAgY3Jl
YXRlIG1vZGUgMTAwNjQ0IHNlcnZlci90ZXN0cy90ZXN0LXNtYXJ0Y2FyZC5jCj4gPiAKPiA+IGRp
ZmYgLS1naXQgYS9zZXJ2ZXIvdGVzdHMvLmdpdGlnbm9yZSBiL3NlcnZlci90ZXN0cy8uZ2l0aWdu
b3JlCj4gPiBpbmRleCAzNmU5NzhkNC4uNTZjYzdlYjkgMTAwNjQ0Cj4gPiAtLS0gYS9zZXJ2ZXIv
dGVzdHMvLmdpdGlnbm9yZQo+ID4gKysrIGIvc2VydmVyL3Rlc3RzLy5naXRpZ25vcmUKPiA+IEBA
IC0yOSw1ICsyOSw2IEBAIHRlc3QtbGVha3MKPiA+ICB0ZXN0LXNhc2wKPiA+ICB0ZXN0LXJlY29y
ZAo+ID4gIHRlc3Qtd2Vic29ja2V0Cj4gPiArdGVzdC1zbWFydGNhcmQKPiA+ICAvdGVzdC0qLmxv
Zwo+ID4gIC90ZXN0LSoudHJzCj4gPiBkaWZmIC0tZ2l0IGEvc2VydmVyL3Rlc3RzL01ha2VmaWxl
LmFtIGIvc2VydmVyL3Rlc3RzL01ha2VmaWxlLmFtCj4gPiBpbmRleCA5ODI1MDg1MS4uZGQyODVj
MjQgMTAwNjQ0Cj4gPiAtLS0gYS9zZXJ2ZXIvdGVzdHMvTWFrZWZpbGUuYW0KPiA+ICsrKyBiL3Nl
cnZlci90ZXN0cy9NYWtlZmlsZS5hbQo+ID4gQEAgLTY4LDYgKzY4LDEwIEBAIGNoZWNrX1BST0dS
QU1TID0JCQkJXAo+ID4gIAl0ZXN0LXJlY29yZAkJCQlcCj4gPiAgCSQoTlVMTCkKPiA+ICAKPiA+
ICtpZiBIQVZFX1NNQVJUQ0FSRAo+ID4gK2NoZWNrX1BST0dSQU1TICs9IHRlc3Qtc21hcnRjYXJk
Cj4gPiArZW5kaWYKPiA+ICsKPiA+ICBpZiAhT1NfV0lOMzIKPiA+ICBjaGVja19QUk9HUkFNUyAr
PQkJCQlcCj4gPiAgCXRlc3Qtc3RyZWFtCQkJCVwKPiA+IGRpZmYgLS1naXQgYS9zZXJ2ZXIvdGVz
dHMvbWVzb24uYnVpbGQgYi9zZXJ2ZXIvdGVzdHMvbWVzb24uYnVpbGQKPiA+IGluZGV4IDMzNDcy
ZjE0Li45NWFkZTYwZiAxMDA2NDQKPiA+IC0tLSBhL3NlcnZlci90ZXN0cy9tZXNvbi5idWlsZAo+
ID4gKysrIGIvc2VydmVyL3Rlc3RzL21lc29uLmJ1aWxkCj4gPiBAQCAtNjUsNiArNjUsMTAgQEAg
aWYgc3BpY2Vfc2VydmVyX2hhc19zYXNsCj4gPiAgICB0ZXN0cyArPSBbWyd0ZXN0LXNhc2wnLCB0
cnVlXV0KPiA+ICBlbmRpZgo+ID4gIAo+ID4gK2lmIHNwaWNlX3NlcnZlcl9oYXNfc21hcnRjYXJk
ID09IHRydWUKPiA+ICsgIHRlc3RzICs9IFtbJ3Rlc3Qtc21hcnRjYXJkJywgdHJ1ZV1dCj4gPiAr
ZW5kaWYKPiA+ICsKPiA+ICBpZiBob3N0X21hY2hpbmUuc3lzdGVtKCkgIT0gJ3dpbmRvd3MnCj4g
PiAgICB0ZXN0cyArPSBbCj4gPiAgICAgIFsndGVzdC1zdHJlYW0nLCB0cnVlXSwKPiA+IGRpZmYg
LS1naXQgYS9zZXJ2ZXIvdGVzdHMvdGVzdC1zbWFydGNhcmQuYyBiL3NlcnZlci90ZXN0cy90ZXN0
LXNtYXJ0Y2FyZC5jCj4gPiBuZXcgZmlsZSBtb2RlIDEwMDY0NAo+ID4gaW5kZXggMDAwMDAwMDAu
LjQ3ZTU0MWQzCj4gPiAtLS0gL2Rldi9udWxsCj4gPiArKysgYi9zZXJ2ZXIvdGVzdHMvdGVzdC1z
bWFydGNhcmQuYwo+ID4gQEAgLTAsMCArMSwyMTEgQEAKPiA+ICsvKiAtKi0gTW9kZTogQzsgYy1i
YXNpYy1vZmZzZXQ6IDQ7IGluZGVudC10YWJzLW1vZGU6IG5pbCAtKi0gKi8KPiA+ICsvKgo+ID4g
KyAgIENvcHlyaWdodCAoQykgMjAxOSBSZWQgSGF0LCBJbmMuCj4gPiArCj4gPiArICAgVGhpcyBs
aWJyYXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgo+
ID4gKyAgIG1vZGlmeSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJh
bCBQdWJsaWMKPiA+ICsgICBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2Fy
ZSBGb3VuZGF0aW9uOyBlaXRoZXIKPiA+ICsgICB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwg
b3IgKGF0IHlvdXIgb3B0aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KPiA+ICsKPiA+ICsgICBUaGlz
IGxpYnJhcnkgaXMgZGlzdHJpYnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1
bCwKPiA+ICsgICBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhvdXQgZXZlbiB0aGUgaW1w
bGllZCB3YXJyYW50eSBvZgo+ID4gKyAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBB
IFBBUlRJQ1VMQVIgUFVSUE9TRS4gIFNlZSB0aGUgR05VCj4gPiArICAgTGVzc2VyIEdlbmVyYWwg
UHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWlscy4KPiA+ICsKPiA+ICsgICBZb3Ugc2hvdWxk
IGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCj4g
PiArICAgTGljZW5zZSBhbG9uZyB3aXRoIHRoaXMgbGlicmFyeTsgaWYgbm90LCBzZWUKPiA+IDxo
dHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KPiA+ICsqLwo+ID4gKy8qKgo+ID4gKyAqIFRl
c3QgU21hcnRjYXJkIGRldmljZSBhbmQgY2hhbm5lbAo+ID4gKyAqLwo+ID4gKwo+ID4gKyNpbmNs
dWRlIDxjb25maWcuaD4KPiA+ICsjaW5jbHVkZSA8c3RyaW5nLmg+Cj4gPiArI2luY2x1ZGUgPHN0
ZGxpYi5oPgo+ID4gKyNpbmNsdWRlIDxzdGRpby5oPgo+ID4gKyNpbmNsdWRlIDxzdGRib29sLmg+
Cj4gPiArI2luY2x1ZGUgPHVuaXN0ZC5oPgo+ID4gKwo+ID4gKyNpbmNsdWRlIDxzcGljZS9wcm90
b2NvbC5oPgo+ID4gKyNpbmNsdWRlIDxzcGljZS9zdHJlYW0tZGV2aWNlLmg+Cj4gPiArCj4gPiAr
I2luY2x1ZGUgInRlc3QtZGlzcGxheS1iYXNlLmgiCj4gPiArI2luY2x1ZGUgInRlc3QtZ2xpYi1j
b21wYXQuaCIKPiA+ICsjaW5jbHVkZSAicmVkcy5oIgo+ID4gKyNpbmNsdWRlICJ2bWMtZW11Lmgi
Cj4gPiArI2luY2x1ZGUgInJlZC1jbGllbnQuaCIKPiA+ICsjaW5jbHVkZSAibmV0LXV0aWxzLmgi
Cj4gPiArCj4gPiArc3RhdGljIFNwaWNlQ29yZUludGVyZmFjZSAqY29yZTsKPiA+ICtzdGF0aWMg
VGVzdCAqdGVzdDsKPiA+ICtzdGF0aWMgVm1jRW11ICp2bWM7Cj4gPiArdHlwZWRlZiBpbnQgVGVz
dEZpeHR1cmU7Cj4gCj4gT3IgeW91IGNhbiB3cmFwIHRob3NlIGdsb2JhbHMgaW4gRml4dHVyZSBz
dHJ1Y3QgYW5kIGFjdHVhbGx5IHVzZQo+IGl0IGFsbCBhcm91bmQ/IFRoaXMgaXMganVzdCBhIHRl
c3Qgc28gYXMgbG9uZyBhcyBpdCBpcyBzaW1wbGUsCj4gc2hvdWxkbid0IGJlIGEgcHJvYmxlbSBi
dXQgeW91IGNvdWxkIHRoZW4ganVzdCBoYXZlIGEgdGVzdF9pbml0KCkKPiB0ZXN0X2Rpc3Bvc2Uo
KSBhbmQgdXNlIGdfdGVzdF9hZGRfZnVuYygpPwo+IAo+IEFnYWluLCBub3QgYmlnIGRlYWwuIEp1
c3QgZGlmZmVyZW50IHdheXMgdG8gZG8gdGhlIHNhbWUgdGhpbmcuCj4gCgpKdXN0IHNob3J0ZXIg
dG8gd3JpdGUgImNvcmUiIGluc3RlYWQgb2YgImdsb2JhbHMtPmNvcmUiIGV2ZXJ5IHRpbWUuCldo
ZW4gSSB3cml0ZSB0ZXN0cyBJIHRoaW5rIHRoZSBhYmlsaXR5IHRvIGNoYW5nZSB0ZXN0cyBtb3Jl
IHF1aWNrbHkKaXMgbW9yZSBpbXBvcnRhbnQgdGhhbiBhdm9pZGluZyBnbG9iYWxzIG9yIGVuY2Fw
c3VsYXRpbmcgdmFyaWFibGUKaW4gc3RydWN0dXJlIHRoYXQgd29uJ3QgYmUgcmV1c2VkLiBZb3Ug
Y2FuIGFsd2F5cyBlbmNhcHN1bGF0ZSBsYXRlcgppZiBpdCdzIHJlYWxseSBuZWNlc3Nhcnkgd2hl
biB0aGluZ3MgZ2V0IG1vcmUgY29tcGxpY2F0ZWQuCgo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHRl
c3Rfc21hcnRjYXJkX3NldHVwKFRlc3RGaXh0dXJlICpmaXh0dXJlLCBnY29uc3Rwb2ludGVyCj4g
PiB1c2VyX2RhdGEpCj4gPiArewo+ID4gKyAgICBnX2Fzc2VydF9udWxsKGNvcmUpOwo+ID4gKyAg
ICBnX2Fzc2VydF9udWxsKHRlc3QpOwo+ID4gKyAgICBnX2Fzc2VydF9udWxsKHZtYyk7Cj4gPiAr
ICAgIGNvcmUgPSBiYXNpY19ldmVudF9sb29wX2luaXQoKTsKPiA+ICsgICAgZ19hc3NlcnRfbm9u
bnVsbChjb3JlKTsKPiA+ICsgICAgdGVzdCA9IHRlc3RfbmV3KGNvcmUpOwo+ID4gKyAgICBnX2Fz
c2VydF9ub25udWxsKHRlc3QpOwo+ID4gKyAgICB2bWMgPSB2bWNfZW11X25ldygic21hcnRjYXJk
IiwgTlVMTCk7Cj4gPiArICAgIGdfYXNzZXJ0X25vbm51bGwodm1jKTsKPiA+ICt9Cj4gPiArCj4g
PiArc3RhdGljIHZvaWQgdGVzdF9zbWFydGNhcmRfdGVhcmRvd24oVGVzdEZpeHR1cmUgKmZpeHR1
cmUsIGdjb25zdHBvaW50ZXIKPiA+IHVzZXJfZGF0YSkKPiA+ICt7Cj4gPiArICAgIGdfYXNzZXJ0
X25vbm51bGwoY29yZSk7Cj4gPiArICAgIGdfYXNzZXJ0X25vbm51bGwodGVzdCk7Cj4gPiArICAg
IGdfYXNzZXJ0X25vbm51bGwodm1jKTsKPiA+ICsKPiA+ICsgICAgdm1jX2VtdV9kZXN0cm95KHZt
Yyk7Cj4gPiArICAgIHZtYyA9IE5VTEw7Cj4gPiArICAgIHRlc3RfZGVzdHJveSh0ZXN0KTsKPiA+
ICsgICAgdGVzdCA9IE5VTEw7Cj4gPiArICAgIGJhc2ljX2V2ZW50X2xvb3BfZGVzdHJveSgpOwo+
ID4gKyAgICBjb3JlID0gTlVMTDsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIFJlZFN0cmVhbSAq
Y3JlYXRlX2R1bW15X3N0cmVhbShTcGljZVNlcnZlciAqc2VydmVyLCBpbnQgKnBfc29ja2V0KQo+
ID4gK3sKPiA+ICsgICAgaW50IHN2WzJdOwo+ID4gKyAgICBnX2Fzc2VydF9jbXBpbnQoc29ja2V0
cGFpcihBRl9MT0NBTCwgU09DS19TVFJFQU0sIDAsIHN2KSwgPT0sIDApOwo+ID4gKyAgICBpZiAo
cF9zb2NrZXQpIHsKPiA+ICsgICAgICAgICpwX3NvY2tldCA9IHN2WzFdOwo+ID4gKyAgICB9Cj4g
PiArICAgIHJlZF9zb2NrZXRfc2V0X25vbl9ibG9ja2luZyhzdlswXSwgdHJ1ZSk7Cj4gPiArICAg
IHJlZF9zb2NrZXRfc2V0X25vbl9ibG9ja2luZyhzdlsxXSwgdHJ1ZSk7Cj4gPiArCj4gPiArICAg
IFJlZFN0cmVhbSAqIHN0cmVhbSA9IHJlZF9zdHJlYW1fbmV3KHNlcnZlciwgc3ZbMF0pOwo+ID4g
KyAgICBnX2Fzc2VydF9ub25udWxsKHN0cmVhbSk7Cj4gPiArCj4gPiArICAgIHJldHVybiBzdHJl
YW07Cj4gPiArfQo+ID4gKwo+ID4gK3N0YXRpYyB2b2lkIHNlbmRfYWNrX3N5bmMoaW50IHNvY2tl
dCwgdWludDMyX3QgZ2VuZXJhdGlvbikKPiA+ICt7Cj4gPiArICAgIHN0cnVjdCB7Cj4gPiArICAg
ICAgICB1aW50MTZfdCBkdW1teTsKPiA+ICsgICAgICAgIHVpbnQxNl90IHR5cGU7Cj4gPiArICAg
ICAgICB1aW50MzJfdCBsZW47Cj4gPiArICAgICAgICB1aW50MzJfdCBnZW5lcmF0aW9uOwo+ID4g
KyAgICB9IG1zZzsKPiA+ICsgICAgU1BJQ0VfVkVSSUZZKHNpemVvZihtc2cpID09IDEyKTsKPiA+
ICsgICAgbXNnLnR5cGUgPSBHVUlOVDE2X1RPX0xFKFNQSUNFX01TR0NfQUNLX1NZTkMpOwo+ID4g
KyAgICBtc2cubGVuID0gR1VJTlQzMl9UT19MRShzaXplb2YoZ2VuZXJhdGlvbikpOwo+ID4gKyAg
ICBtc2cuZ2VuZXJhdGlvbiA9IEdVSU5UMzJfVE9fTEUoZ2VuZXJhdGlvbik7Cj4gPiArCj4gPiAr
ICAgIGdfYXNzZXJ0X2NtcGludChzb2NrZXRfd3JpdGUoc29ja2V0LCAmbXNnLnR5cGUsIDEwKSwg
PT0sIDEwKTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQgc2VuZF9kYXRhKGludCBzb2Nr
ZXQsIHVpbnQzMl90IHR5cGUpCj4gPiArewo+ID4gKyAgICBzdHJ1Y3Qgewo+ID4gKyAgICAgICAg
dWludDE2X3QgZHVtbXk7Cj4gPiArICAgICAgICB1aW50MTZfdCB0eXBlOwo+ID4gKyAgICAgICAg
dWludDMyX3QgbGVuOwo+ID4gKyAgICAgICAgVlNDTXNnSGVhZGVyIHZoZWFkZXI7Cj4gPiArICAg
ICAgICBjaGFyIGRhdGFbNl07Cj4gPiArICAgIH0gbXNnOwo+ID4gKyAgICBTUElDRV9WRVJJRlko
c2l6ZW9mKG1zZykgPT0gOCsxMis4KTsKPiA+ICsgICAgbXNnLnR5cGUgPSBHVUlOVDE2X1RPX0xF
KFNQSUNFX01TR0NfU01BUlRDQVJEX0RBVEEpOwo+ID4gKyAgICBtc2cubGVuID0gR1VJTlQzMl9U
T19MRShzaXplb2YoVlNDTXNnSGVhZGVyKSs2KTsKPiA+ICsgICAgbXNnLnZoZWFkZXIudHlwZSA9
IEdVSU5UMzJfVE9fTEUodHlwZSk7Cj4gPiArICAgIG1zZy52aGVhZGVyLnJlYWRlcl9pZCA9IDA7
Cj4gPiArICAgIG1zZy52aGVhZGVyLmxlbmd0aCA9IEdVSU5UMzJfVE9fTEUoNik7Cj4gPiArICAg
IHN0cmNweShtc2cuZGF0YSwgImhlbGxvIik7Cj4gPiArCj4gPiArICAgIGdfYXNzZXJ0X2NtcGlu
dChzb2NrZXRfd3JpdGUoc29ja2V0LCAmbXNnLnR5cGUsIHNpemVvZihtc2cpLTQpLCA9PSwKPiA+
IHNpemVvZihtc2cpLTQpOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCBjaGVja19kYXRh
KHZvaWQgKm9wYXF1ZSkKPiA+ICt7Cj4gPiArICAgIHN0YXRpYyBjb25zdCBjaGFyIGV4cGVjdGVk
X2J1ZltdID0KPiA+ICsgICAgICAgIC8vIGZvcndhcmRlZCBSZWFkZXJBZGQgbWVzc2FnZSwgbm90
ZSB0aGF0IHBheWxvYWQgaXMgc3RyaXBwZWQKPiA+ICsgICAgICAgICJceDAwXHgwMFx4MDBceDAz
XHgwMFx4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4MDAiCj4gPiArICAgICAgICAvLyBmb3J3YXJk
ZWQgQVBEVSBtZXNzYWdlCj4gPiArCj4gPiAiXHgwMFx4MDBceDAwXHgwN1x4MDBceDAwXHgwMFx4
MDBceDAwXHgwMFx4MDBceDA2XHg2OFx4NjVceDZjXHg2Y1x4NmZceDAwIjsKPiA+ICsgICAgY29u
c3Qgc2l6ZV90IGV4cGVjdGVkX2J1Zl9sZW4gPSBzaXplb2YoZXhwZWN0ZWRfYnVmKSAtIDE7Cj4g
PiArICAgIGdfYXNzZXJ0X2NtcGludCh2bWMtPndyaXRlX3BvcywgPT0sIGV4cGVjdGVkX2J1Zl9s
ZW4pOwo+ID4gKyAgICBnX2Fzc2VydF90cnVlKG1lbWNtcCh2bWMtPndyaXRlX2J1ZiwgZXhwZWN0
ZWRfYnVmLCBleHBlY3RlZF9idWZfbGVuKQo+ID4gPT0gMCk7Cj4gPiArICAgIGJhc2ljX2V2ZW50
X2xvb3BfcXVpdCgpOwo+ID4gK30KPiA+ICsKPiA+ICtzdGF0aWMgdm9pZCB0ZXN0X3NtYXJ0Y2Fy
ZChUZXN0Rml4dHVyZSAqZml4dHVyZSwgZ2NvbnN0cG9pbnRlciB1c2VyX2RhdGEpCj4gPiArewo+
ID4gKyAgICBTcGljZVNlcnZlciAqY29uc3Qgc2VydmVyID0gdGVzdC0+c2VydmVyOwo+ID4gKyAg
ICB1aW50OF90ICpwID0gdm1jLT5tZXNzYWdlOwo+ID4gKwo+ID4gKyAgICBzcGljZV9zZXJ2ZXJf
YWRkX2ludGVyZmFjZShzZXJ2ZXIsICZ2bWMtPmluc3RhbmNlLmJhc2UpOwo+ID4gKwo+ID4gKyAg
ICAvLyBhZGQgVlNDX0luaXQgbWVzc2FnZQo+ID4gKyAgICBtZW1jcHkocCwgIlx4MDBceDAwXHgw
MFx4MDFceDBhXHgwYlx4MGNceDBkXHgwMFx4MDBceDAwXHgwMCIsIDEyKTsKPiA+ICsgICAgcCAr
PSAxMjsKPiA+ICsgICAgdm1jX2VtdV9hZGRfcmVhZF90aWxsKHZtYywgcCk7Cj4gPiArCj4gPiAr
ICAgIC8vIGZpbmQgU21hcnRjYXJkIGNoYW5uZWwgdG8gY29ubmVjdCB0bwo+ID4gKyAgICBSZWRD
aGFubmVsICpjaGFubmVsID0gcmVkc19maW5kX2NoYW5uZWwoc2VydmVyLAo+ID4gU1BJQ0VfQ0hB
Tk5FTF9TTUFSVENBUkQsIDApOwo+ID4gKyAgICBnX2Fzc2VydF9ub25udWxsKGNoYW5uZWwpOwo+
ID4gKwo+ID4gKyAgICAvLyBjcmVhdGUgZHVtbXkgUmVkQ2xpZW50IGFuZCBNYWluQ2hhbm5lbENs
aWVudAo+ID4gKyAgICBSZWRDaGFubmVsQ2FwYWJpbGl0aWVzIGNhcHM7Cj4gPiArICAgIG1lbXNl
dCgmY2FwcywgMCwgc2l6ZW9mKGNhcHMpKTsKPiA+ICsgICAgdWludDMyX3QgY29tbW9uX2NhcHMg
PSAxIDw8IFNQSUNFX0NPTU1PTl9DQVBfTUlOSV9IRUFERVI7Cj4gPiArICAgIGNhcHMubnVtX2Nv
bW1vbl9jYXBzID0gMTsKPiA+ICsgICAgY2Fwcy5jb21tb25fY2FwcyA9IHNwaWNlX21lbWR1cCgm
Y29tbW9uX2NhcHMsIHNpemVvZihjb21tb25fY2FwcykpOwo+ID4gKwo+ID4gKyAgICBSZWRDbGll
bnQgKmNsaWVudCA9IHJlZF9jbGllbnRfbmV3KHNlcnZlciwgRkFMU0UpOwo+ID4gKyAgICBnX2Fz
c2VydF9ub25udWxsKGNsaWVudCk7Cj4gPiArCj4gPiArICAgIE1haW5DaGFubmVsICptYWluX2No
YW5uZWwgPSBtYWluX2NoYW5uZWxfbmV3KHNlcnZlcik7Cj4gPiArICAgIGdfYXNzZXJ0X25vbm51
bGwobWFpbl9jaGFubmVsKTsKPiA+ICsKPiA+ICsgICAgTWFpbkNoYW5uZWxDbGllbnQgKm1jYzsK
PiA+ICsgICAgbWNjID0gbWFpbl9jaGFubmVsX2xpbmsobWFpbl9jaGFubmVsLCBjbGllbnQsCj4g
PiBjcmVhdGVfZHVtbXlfc3RyZWFtKHNlcnZlciwgTlVMTCksCj4gPiArICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIDAsIEZBTFNFLCAmY2Fwcyk7Cj4gPiArICAgIGdfYXNzZXJ0X25vbm51bGwo
bWNjKTsKPiA+ICsgICAgcmVkX2NsaWVudF9zZXRfbWFpbihjbGllbnQsIG1jYyk7Cj4gPiArCj4g
PiArICAgIC8vIGNyZWF0ZSBvdXIgdGVzdGluZyBSZWRDaGFubmVsQ2xpZW50Cj4gPiArICAgIGlu
dCBjbGllbnRfc29ja2V0Owo+ID4gKyAgICByZWRfY2hhbm5lbF9jb25uZWN0KGNoYW5uZWwsIGNs
aWVudCwgY3JlYXRlX2R1bW15X3N0cmVhbShzZXJ2ZXIsCj4gPiAmY2xpZW50X3NvY2tldCksCj4g
PiArICAgICAgICAgICAgICAgICAgICAgICAgRkFMU0UsICZjYXBzKTsKPiA+ICsgICAgcmVkX2No
YW5uZWxfY2FwYWJpbGl0aWVzX3Jlc2V0KCZjYXBzKTsKPiA+ICsKPiA+ICsgICAgc3BpY2Vfc2Vy
dmVyX2NoYXJfZGV2aWNlX3dha2V1cCgmdm1jLT5pbnN0YW5jZSk7Cj4gPiArCj4gPiArICAgIHNl
bmRfYWNrX3N5bmMoY2xpZW50X3NvY2tldCwgMSk7Cj4gPiArICAgIHNlbmRfZGF0YShjbGllbnRf
c29ja2V0LCBWU0NfUmVhZGVyQWRkKTsKPiA+ICsgICAgc2VuZF9kYXRhKGNsaWVudF9zb2NrZXQs
IFZTQ19BUERVKTsKPiA+ICsKPiA+ICsgICAgU3BpY2VUaW1lciAqd2F0Y2hfdGltZXI7Cj4gPiAr
ICAgIHdhdGNoX3RpbWVyID0gY29yZS0+dGltZXJfYWRkKGNoZWNrX2RhdGEsIGNvcmUpOwo+ID4g
KyAgICBjb3JlLT50aW1lcl9zdGFydCh3YXRjaF90aW1lciwgMTAwKTsKPiA+ICsKPiA+ICsgICAg
Ly8gc3RhcnQgYWxsIHRlc3QKPiA+ICsgICAgYmFzaWNfZXZlbnRfbG9vcF9tYWlubG9vcCgpOwo+
ID4gKwo+ID4gKyAgICBjb3JlLT50aW1lcl9yZW1vdmUod2F0Y2hfdGltZXIpOwo+ID4gKwo+ID4g
KyAgICAvLyBjbGVhbnVwCj4gPiArICAgIHJlZF9jbGllbnRfZGVzdHJveShjbGllbnQpOwo+ID4g
KyAgICBnX29iamVjdF91bnJlZihtYWluX2NoYW5uZWwpOwo+ID4gKyAgICBnX29iamVjdF91bnJl
ZihjaGFubmVsKTsKPiA+ICt9Cj4gPiArCj4gPiArc3RhdGljIHZvaWQgdGVzdF9hZGQoY29uc3Qg
Y2hhciAqbmFtZSwgdm9pZCAoKmZ1bmMpKFRlc3RGaXh0dXJlICosCj4gPiBnY29uc3Rwb2ludGVy
KSwKPiA+ICsgICAgICAgICAgICAgICAgICAgICBnY29uc3Rwb2ludGVyIGFyZykKPiA+ICt7Cj4g
PiArICAgIGdfdGVzdF9hZGQobmFtZSwgVGVzdEZpeHR1cmUsIGFyZywgdGVzdF9zbWFydGNhcmRf
c2V0dXAsIGZ1bmMsCj4gPiB0ZXN0X3NtYXJ0Y2FyZF90ZWFyZG93bik7Cj4gPiArfQo+IAo+IEkg
cGVyc29uYWxseSBkb24ndCBzZWUgYSBiZW5lZml0IG9mIHRlc3RfYWRkKCkgb3ZlciBwbGFpbgo+
IGdfdGVzdF9hZGQoKSwgbm90IHRoYXQgSSBtaW5kIGl0Lgo+IAoKRG9uZSwgcGFydCBvZiB0aGUg
Y29kZSBjYW1lIGZyb20gdGVzdC1zdHJlYW0tZGV2aWNlIHdoZXJlIHRoZSBmdW5jdGlvbgptYWtl
cyBzZW5zZS4KCj4gT3RoZXIgdGhhbiB0aGF0LCB0byB0aGUgYmVzdCBvZiBteSBrbm93bGVkZ2Us
IHRoaXMgcGF0Y2ggaXMgZmluZS4KPiBBY2tlZC1ieTogVmljdG9yIFRvc28gPHZpY3RvcnRvc29A
cmVkaGF0LmNvbT4KPiAKClRoYW5rcwoKPiA+ICsKPiA+ICtpbnQgbWFpbihpbnQgYXJnYywgY2hh
ciAqYXJndltdKQo+ID4gK3sKPiA+ICsgICAgZ190ZXN0X2luaXQoJmFyZ2MsICZhcmd2LCBOVUxM
KTsKPiA+ICsKPiA+ICsgICAgdGVzdF9hZGQoIi9zZXJ2ZXIvc21hcnRjYXJkIiwgdGVzdF9zbWFy
dGNhcmQsIE5VTEwpOwo+ID4gKwo+ID4gKyAgICByZXR1cm4gZ190ZXN0X3J1bigpOwo+ID4gK30K
CkZyZWRpYW5vCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
ClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1k
ZXZlbA==
