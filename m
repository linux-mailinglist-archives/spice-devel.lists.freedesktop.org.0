Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4EAAB8728D
	for <lists+spice-devel@lfdr.de>; Fri,  9 Aug 2019 09:00:00 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DE0186ED04;
	Fri,  9 Aug 2019 06:59:58 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-ot1-x341.google.com (mail-ot1-x341.google.com
 [IPv6:2607:f8b0:4864:20::341])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 8D8246ED04
 for <spice-devel@lists.freedesktop.org>; Fri,  9 Aug 2019 06:59:57 +0000 (UTC)
Received: by mail-ot1-x341.google.com with SMTP id j19so52196861otq.2
 for <spice-devel@lists.freedesktop.org>; Thu, 08 Aug 2019 23:59:57 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=htXSZr3dhnMs3z7hJSqP4MMFBEhQ5PEyxNVxmB46qL4=;
 b=EWyduudx00FXjuLLjsudWf8dVgTAcqfcM68efbQuxpJKZ+8EnrlzWa6MxIPt5vSwL0
 b5wQbq98MOK1jFIThyqdtiq0v3uEI5UIWAL/0HIIFhNE11STgPdxxxe5NASW87MeZ+7z
 WklPftxviMvdtrp8uMVEtH2XD+wEaayaZPHYOxZp9tCp+1U/G0mRo3g5vMmWW8r7GULY
 iZqaEzplUZ4TwQlSaUljNnSyuIr79GkA1QOblnsBEMVHFzlJ0UFy34BQ3ChU5Zfmrp+L
 wNnOcCbtNaX8xntgFZiuKDHFeN7YPJOAg/l1R1ACWHAYQ4aTwJuYyUyy3fByjuGAqo01
 24RA==
X-Gm-Message-State: APjAAAXUEGIDTTA1x28+PcPdfSaSUSVvKGNY87CBdGZwVO4S3UGKD/wq
 3gz7XIJS7nUqYTSVseqAZ+Enmk9O/w60gIudwRrpuA==
X-Google-Smtp-Source: APXvYqxSjz3UurP8EEfLZPezzqRLCkvVgGSv8iFvrjHyBwWkzbxI5bvZD1ZDrUKQvK5OoXuhbRe+wx4vyPm1Km3/tD0=
X-Received: by 2002:a6b:b214:: with SMTP id b20mr19078678iof.149.1565333996444; 
 Thu, 08 Aug 2019 23:59:56 -0700 (PDT)
MIME-Version: 1.0
References: <20190808104053.11449-1-fziglio@redhat.com>
In-Reply-To: <20190808104053.11449-1-fziglio@redhat.com>
From: Yuri Benditovich <yuri.benditovich@daynix.com>
Date: Fri, 9 Aug 2019 09:59:44 +0300
Message-ID: <CAOEp5OfT27GyXCZQo+p=jWcrSukgvfUowNPVpY9ULmmiMUtJww@mail.gmail.com>
To: Frediano Ziglio <fziglio@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=htXSZr3dhnMs3z7hJSqP4MMFBEhQ5PEyxNVxmB46qL4=;
 b=SnuHnSihhibHF1SPMj+l/HTJ8y/C21U4VWsaHwOeC+yGULFV9VLte7Qaikx7amsdXq
 SQHXe0rqZHzdjj5V8qvBCnhQ8KUAmIV8c2ewyhbX3rSUGmA3SkBlibFlWzApfMYm7W9j
 voesVgJDsFClylKwVbMnI5imhx7+AUHKE9Uu7NiERs0FtGg9AFEUqLWvwcgIcuunB6Xc
 G6NOt9JXurmxc+HYWpqNQ6JPUNROOR2cEhth6tawpqt5QnzaCDcBKiYmikDrIgDhHt5N
 LovhNkmoH/gO5lOJjv8A0Eh+Z9iA19eDsCW9YEWVl88EHSb5zr2dzSBrp5CVa1D2b8RU
 jFPg==
Subject: Re: [Spice-devel] [PATCH spice-gtk] fixup! usb-redir: define
 interfaces to support emulated devices
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Spice List <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBBdWcgOCwgMjAxOSBhdCAxOjQxIFBNIEZyZWRpYW5vIFppZ2xpbyA8ZnppZ2xpb0By
ZWRoYXQuY29tPiB3cm90ZToKPgo+IENoYW5nZSByZWZlcmVuY2UgY291bnRpbmcgc2VtYW50aWMg
Zm9yIGVtdWxhdGVkIGRldmljZXMuCj4gTWFrZSB0aGUgc2FtZSBhcyBub3QgZW11bGF0ZWQuCj4g
VGhpcyBmaXggYSBsZWFrIGlmIHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV9lamVjdCBpcyBub3Qg
Y2FsbGVkLgo+IENvbnNpc3RlbnRseSB0aGUgcmVmZXJlbmNlIGNvdW50ZXIgZm9yIFNwaWNlVXNi
QmFja2VuZERldmljZSBpcwo+IG5vdyB0aGUgbnVtYmVyIG9mIG93bmluZyBwb2ludGVycy4KPiAt
LS0KPiAgc3JjL3VzYi1iYWNrZW5kLmMgICB8IDE5ICsrKysrKysrKystLS0tLS0tLS0KPiAgc3Jj
L3VzYi1lbXVsYXRpb24uaCB8ICAyICstCj4gIDIgZmlsZXMgY2hhbmdlZCwgMTEgaW5zZXJ0aW9u
cygrKSwgMTAgZGVsZXRpb25zKC0pCj4KPiBkaWZmIC0tZ2l0IGEvc3JjL3VzYi1iYWNrZW5kLmMg
Yi9zcmMvdXNiLWJhY2tlbmQuYwo+IGluZGV4IGQ4MGRhMTc3Li5kZTJiNTVlYyAxMDA2NDQKPiAt
LS0gYS9zcmMvdXNiLWJhY2tlbmQuYwo+ICsrKyBiL3NyYy91c2ItYmFja2VuZC5jCj4gQEAgLTg1
MiwxNyArODUyLDE3IEBAIHZvaWQgc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX3JlcG9ydF9jaGFu
Z2UoU3BpY2VVc2JCYWNrZW5kICpiZSwKPgo+ICB2b2lkIHNwaWNlX3VzYl9iYWNrZW5kX2Rldmlj
ZV9lamVjdChTcGljZVVzYkJhY2tlbmQgKmJlLCBTcGljZVVzYkJhY2tlbmREZXZpY2UgKmRldikK
PiAgewo+IC0gICAgZ19yZXR1cm5faWZfZmFpbChkZXYgJiYgZGV2LT5lZGV2KTsKPiArICAgIGdf
cmV0dXJuX2lmX2ZhaWwoZGV2KTsKPgo+ICsgICAgaWYgKGRldi0+ZWRldikgewo+ICsgICAgICAg
IGJlLT5vd25fZGV2aWNlc19tYXNrICY9IH4oMSA8PCBkZXYtPmRldmljZV9pbmZvLmFkZHJlc3Mp
Owo+ICsgICAgfQo+ICAgICAgaWYgKGJlLT5ob3RwbHVnX2NhbGxiYWNrKSB7Cj4gICAgICAgICAg
YmUtPmhvdHBsdWdfY2FsbGJhY2soYmUtPmhvdHBsdWdfdXNlcl9kYXRhLCBkZXYsIEZBTFNFKTsK
PiAgICAgIH0KPiAtICAgIGJlLT5vd25fZGV2aWNlc19tYXNrICY9IH4oMSA8PCBkZXYtPmRldmlj
ZV9pbmZvLmFkZHJlc3MpOwo+IC0KPiAtICAgIHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV91bnJl
ZihkZXYpOwo+ICB9Cj4KPiAtU3BpY2VVc2JCYWNrZW5kRGV2aWNlKgo+ICtnYm9vbGVhbgo+ICBz
cGljZV91c2JfYmFja2VuZF9jcmVhdGVfZW11bGF0ZWRfZGV2aWNlKFNwaWNlVXNiQmFja2VuZCAq
YmUsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3BpY2VVc2JF
bXVsYXRlZERldmljZUNyZWF0ZSBjcmVhdGVfcHJvYywKPiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB2b2lkICpjcmVhdGVfcGFyYW1zLAo+IEBAIC04NzcsNyArODc3
LDcgQEAgc3BpY2VfdXNiX2JhY2tlbmRfY3JlYXRlX2VtdWxhdGVkX2RldmljZShTcGljZVVzYkJh
Y2tlbmQgKmJlLAo+ICAgICAgaWYgKGJlLT5vd25fZGV2aWNlc19tYXNrID09IDB4ZmZmZmZmZmYp
IHsKPiAgICAgICAgICBnX3NldF9lcnJvcihlcnIsIFNQSUNFX0NMSUVOVF9FUlJPUiwgU1BJQ0Vf
Q0xJRU5UX0VSUk9SX0ZBSUxFRCwKPiAgICAgICAgICAgICAgICAgICAgICBfKCJjYW4ndCBjcmVh
dGUgZGV2aWNlIC0gbGltaXQgcmVhY2hlZCIpKTsKPiAtICAgICAgICByZXR1cm4gTlVMTDsKPiAr
ICAgICAgICByZXR1cm4gRkFMU0U7Cj4gICAgICB9Cj4gICAgICBmb3IgKGFkZHJlc3MgPSAwOyBh
ZGRyZXNzIDwgMzI7ICsrYWRkcmVzcykgewo+ICAgICAgICAgIGlmICh+YmUtPm93bl9kZXZpY2Vz
X21hc2sgJiAoMSA8PCBhZGRyZXNzKSkgewo+IEBAIC04OTMsNyArODkzLDcgQEAgc3BpY2VfdXNi
X2JhY2tlbmRfY3JlYXRlX2VtdWxhdGVkX2RldmljZShTcGljZVVzYkJhY2tlbmQgKmJlLAo+ICAg
ICAgZGV2LT5lZGV2ID0gZWRldiA9IGNyZWF0ZV9wcm9jKGJlLCBkZXYsIGNyZWF0ZV9wYXJhbXMs
IGVycik7Cj4gICAgICBpZiAoZWRldiA9PSBOVUxMKSB7Cj4gICAgICAgICAgc3BpY2VfdXNiX2Jh
Y2tlbmRfZGV2aWNlX3VucmVmKGRldik7Cj4gLSAgICAgICAgcmV0dXJuIE5VTEw7Cj4gKyAgICAg
ICAgcmV0dXJuIEZBTFNFOwo+ICAgICAgfQo+Cj4gICAgICBpZiAoIWRldmljZV9vcHMoZWRldikt
PmdldF9kZXNjcmlwdG9yKGVkZXYsIExJQlVTQl9EVF9ERVZJQ0UsIDAsCj4gQEAgLTkwMyw3ICs5
MDMsNyBAQCBzcGljZV91c2JfYmFja2VuZF9jcmVhdGVfZW11bGF0ZWRfZGV2aWNlKFNwaWNlVXNi
QmFja2VuZCAqYmUsCj4gICAgICAgICAgc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX3VucmVmKGRl
dik7Cj4gICAgICAgICAgZ19zZXRfZXJyb3IoZXJyLCBTUElDRV9DTElFTlRfRVJST1IsIFNQSUNF
X0NMSUVOVF9FUlJPUl9GQUlMRUQsCj4gICAgICAgICAgICAgICAgICAgICAgXygiY2FuJ3QgY3Jl
YXRlIGRldmljZSAtIGludGVybmFsIGVycm9yIikpOwo+IC0gICAgICAgIHJldHVybiBOVUxMOwo+
ICsgICAgICAgIHJldHVybiBGQUxTRTsKPiAgICAgIH0KPgo+ICAgICAgYmUtPm93bl9kZXZpY2Vz
X21hc2sgfD0gMSA8PCBhZGRyZXNzOwo+IEBAIC05MTgsOCArOTE4LDkgQEAgc3BpY2VfdXNiX2Jh
Y2tlbmRfY3JlYXRlX2VtdWxhdGVkX2RldmljZShTcGljZVVzYkJhY2tlbmQgKmJlLAo+ICAgICAg
aWYgKGJlLT5ob3RwbHVnX2NhbGxiYWNrKSB7Cj4gICAgICAgICAgYmUtPmhvdHBsdWdfY2FsbGJh
Y2soYmUtPmhvdHBsdWdfdXNlcl9kYXRhLCBkZXYsIFRSVUUpOwo+ICAgICAgfQo+ICsgICAgc3Bp
Y2VfdXNiX2JhY2tlbmRfZGV2aWNlX3VucmVmKGRldik7CgpJIHdhcyB0aGlua2luZyBhYm91dCBk
b2luZyB0aGF0Li4uIFdoYXQgbG9va3MgZm9yIG1lIGEgbGl0dGxlCnByb2JsZW1hdGljIGluIHN1
Y2ggc29sdXRpb24gaXMgdGhhdCBjZC1kZXZpY2Uga2VlcHMgYSBwb2ludGVyIHRvIHRoZQpiYWNr
ZW5kIGRldmljZSwgYnV0IHRoaXMgZGV2aWNlIGlzIHJlZmVyZW5jZWQgb25seSBieQp1c2ItZGV2
aWNlLW1hbmFnZXIgYW5kIG5ldmVyIHJlZmVyZW5jZWQgYnkgYW55Ym9keSBhdCBiYWNrZW5kIGFy
ZWEuCklmIHlvdSdyZSBvayB3aXRoIHRoaXMgZml4dXAsIGxldCdzIHVzZSBpdC4gSSBzZWUgaXQg
d29ya2luZyBpbiBhbGwKZnVuY3Rpb25hbCBmbG93cyBhbmQgaW4gbGl2ZSBtaWdyYXRpb24uCgo+
Cj4gLSAgICByZXR1cm4gZGV2Owo+ICsgICAgcmV0dXJuIFRSVUU7Cj4gIH0KPgo+ICAjZW5kaWYg
LyogVVNCX1JFRElSICovCj4gZGlmZiAtLWdpdCBhL3NyYy91c2ItZW11bGF0aW9uLmggYi9zcmMv
dXNiLWVtdWxhdGlvbi5oCj4gaW5kZXggOWU2MjZhMjQuLjQ2ZDU0ZDQ3IDEwMDY0NAo+IC0tLSBh
L3NyYy91c2ItZW11bGF0aW9uLmgKPiArKysgYi9zcmMvdXNiLWVtdWxhdGlvbi5oCj4gQEAgLTgw
LDcgKzgwLDcgQEAgc3RhdGljIGlubGluZSBjb25zdCBVc2JEZXZpY2VPcHMgKmRldmljZV9vcHMo
U3BpY2VVc2JFbXVsYXRlZERldmljZSAqZGV2KQo+ICAgICAgcmV0dXJuIChjb25zdCBVc2JEZXZp
Y2VPcHMgKilkZXY7Cj4gIH0KPgo+IC1TcGljZVVzYkJhY2tlbmREZXZpY2UqCj4gK2dib29sZWFu
Cj4gIHNwaWNlX3VzYl9iYWNrZW5kX2NyZWF0ZV9lbXVsYXRlZF9kZXZpY2UoU3BpY2VVc2JCYWNr
ZW5kICpiZSwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGlj
ZVVzYkVtdWxhdGVkRGV2aWNlQ3JlYXRlIGNyZWF0ZV9wcm9jLAo+ICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgKmNyZWF0ZV9wYXJhbXMsCj4gLS0KPiAyLjIw
LjEKPgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpTcGlj
ZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0
dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
