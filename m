Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 95612762CC
	for <lists+spice-devel@lfdr.de>; Fri, 26 Jul 2019 11:52:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 18C126ED03;
	Fri, 26 Jul 2019 09:52:22 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id A77686ED03
 for <spice-devel@lists.freedesktop.org>; Fri, 26 Jul 2019 09:52:21 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 4BF9030842AC;
 Fri, 26 Jul 2019 09:52:21 +0000 (UTC)
Received: from fziglio.remote.csb (unknown [10.33.32.15])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 866595F9DD;
 Fri, 26 Jul 2019 09:52:20 +0000 (UTC)
From: Frediano Ziglio <fziglio@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Fri, 26 Jul 2019 10:52:10 +0100
Message-Id: <20190726095213.15655-4-fziglio@redhat.com>
In-Reply-To: <20190726095213.15655-1-fziglio@redhat.com>
References: <20190726095213.15655-1-fziglio@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.40]); Fri, 26 Jul 2019 09:52:21 +0000 (UTC)
Subject: [Spice-devel] [PATCH spice-gtk v3 3/6] channel-display: No need to
 rechedule on mmtime offset changes
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Francois Gouget <fgouget@codeweavers.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

RnJvbTogRnJhbmNvaXMgR291Z2V0IDxmZ291Z2V0QGNvZGV3ZWF2ZXJzLmNvbT4KClRoZSBmcmFt
ZSBkaXNwbGF5IHRpbWUgaXMgbm8gbG9uZ2VyIGJhc2VkIG9uIHRoZSBtbXRpbWUgY2xvY2sgYW5k
IHRodXMKaXMgbm90IGltcGFjdGVkIGJ5IG1tdGltZSBvZmZzZXQgY2hhbmdlcy4KClNpZ25lZC1v
ZmYtYnk6IEZyYW5jb2lzIEdvdWdldCA8ZmdvdWdldEBjb2Rld2VhdmVycy5jb20+Ci0tLQogc3Jj
L2NoYW5uZWwtZGlzcGxheS1nc3QuYyAgIHwgMjEgLS0tLS0tLS0tLS0tLQogc3JjL2NoYW5uZWwt
ZGlzcGxheS1tanBlZy5jIHwgMTMgLS0tLS0tLS0KIHNyYy9jaGFubmVsLWRpc3BsYXktcHJpdi5o
ICB8ICAzIC0tCiBzcmMvY2hhbm5lbC1kaXNwbGF5LmMgICAgICAgfCA1OSAtLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiA0IGZpbGVzIGNoYW5nZWQsIDk2IGRlbGV0aW9ucygt
KQoKZGlmZiAtLWdpdCBhL3NyYy9jaGFubmVsLWRpc3BsYXktZ3N0LmMgYi9zcmMvY2hhbm5lbC1k
aXNwbGF5LWdzdC5jCmluZGV4IDdhZDYwMDliLi4xMWQ3OGFmYyAxMDA2NDQKLS0tIGEvc3JjL2No
YW5uZWwtZGlzcGxheS1nc3QuYworKysgYi9zcmMvY2hhbm5lbC1kaXNwbGF5LWdzdC5jCkBAIC01
ODMsMjYgKzU4Myw2IEBAIHN0YXRpYyBnYm9vbGVhbiBjcmVhdGVfcGlwZWxpbmUoU3BpY2VHc3RE
ZWNvZGVyICpkZWNvZGVyKQogCiAvKiAtLS0tLS0tLS0tIFZpZGVvRGVjb2RlcidzIHB1YmxpYyBB
UEkgLS0tLS0tLS0tLSAqLwogCi1zdGF0aWMgdm9pZCBzcGljZV9nc3RfZGVjb2Rlcl9yZXNjaGVk
dWxlKFZpZGVvRGVjb2RlciAqdmlkZW9fZGVjb2RlcikKLXsKLSAgICBTcGljZUdzdERlY29kZXIg
KmRlY29kZXIgPSAoU3BpY2VHc3REZWNvZGVyKil2aWRlb19kZWNvZGVyOwotCi0gICAgaWYgKCFk
ZWNvZGVyLT5hcHBzaW5rKSB7Ci0gICAgICAgIHJldHVybjsKLSAgICB9Ci0gICAgZ3VpbnQgdGlt
ZXJfaWQ7Ci0KLSAgICBnX211dGV4X2xvY2soJmRlY29kZXItPnF1ZXVlc19tdXRleCk7Ci0gICAg
dGltZXJfaWQgPSBkZWNvZGVyLT50aW1lcl9pZDsKLSAgICBkZWNvZGVyLT50aW1lcl9pZCA9IDA7
Ci0gICAgZ19tdXRleF91bmxvY2soJmRlY29kZXItPnF1ZXVlc19tdXRleCk7Ci0KLSAgICBpZiAo
dGltZXJfaWQgIT0gMCkgewotICAgICAgICBnX3NvdXJjZV9yZW1vdmUodGltZXJfaWQpOwotICAg
IH0KLSAgICBzY2hlZHVsZV9mcmFtZShkZWNvZGVyKTsKLX0KLQogLyogbWFpbiBjb250ZXh0ICov
CiBzdGF0aWMgdm9pZCBzcGljZV9nc3RfZGVjb2Rlcl9kZXN0cm95KFZpZGVvRGVjb2RlciAqdmlk
ZW9fZGVjb2RlcikKIHsKQEAgLTc3NCw3ICs3NTQsNiBAQCBWaWRlb0RlY29kZXIqIGNyZWF0ZV9n
c3RyZWFtZXJfZGVjb2RlcihpbnQgY29kZWNfdHlwZSwgZGlzcGxheV9zdHJlYW0gKnN0cmVhbSkK
ICAgICBpZiAoZ3N0dmlkZW9faW5pdCgpKSB7CiAgICAgICAgIGRlY29kZXIgPSBnX25ldzAoU3Bp
Y2VHc3REZWNvZGVyLCAxKTsKICAgICAgICAgZGVjb2Rlci0+YmFzZS5kZXN0cm95ID0gc3BpY2Vf
Z3N0X2RlY29kZXJfZGVzdHJveTsKLSAgICAgICAgZGVjb2Rlci0+YmFzZS5yZXNjaGVkdWxlID0g
c3BpY2VfZ3N0X2RlY29kZXJfcmVzY2hlZHVsZTsKICAgICAgICAgZGVjb2Rlci0+YmFzZS5xdWV1
ZV9mcmFtZSA9IHNwaWNlX2dzdF9kZWNvZGVyX3F1ZXVlX2ZyYW1lOwogICAgICAgICBkZWNvZGVy
LT5iYXNlLmNvZGVjX3R5cGUgPSBjb2RlY190eXBlOwogICAgICAgICBkZWNvZGVyLT5iYXNlLnN0
cmVhbSA9IHN0cmVhbTsKZGlmZiAtLWdpdCBhL3NyYy9jaGFubmVsLWRpc3BsYXktbWpwZWcuYyBi
L3NyYy9jaGFubmVsLWRpc3BsYXktbWpwZWcuYwppbmRleCBkM2FiNzdjOC4uYjA1ODQyNGUgMTAw
NjQ0Ci0tLSBhL3NyYy9jaGFubmVsLWRpc3BsYXktbWpwZWcuYworKysgYi9zcmMvY2hhbm5lbC1k
aXNwbGF5LW1qcGVnLmMKQEAgLTI1MCwxOCArMjUwLDYgQEAgc3RhdGljIGdib29sZWFuIG1qcGVn
X2RlY29kZXJfcXVldWVfZnJhbWUoVmlkZW9EZWNvZGVyICp2aWRlb19kZWNvZGVyLAogICAgIHJl
dHVybiBUUlVFOwogfQogCi1zdGF0aWMgdm9pZCBtanBlZ19kZWNvZGVyX3Jlc2NoZWR1bGUoVmlk
ZW9EZWNvZGVyICp2aWRlb19kZWNvZGVyKQotewotICAgIE1KcGVnRGVjb2RlciAqZGVjb2RlciA9
IChNSnBlZ0RlY29kZXIqKXZpZGVvX2RlY29kZXI7Ci0KLSAgICBTUElDRV9ERUJVRygiJXMiLCBf
X0ZVTkNUSU9OX18pOwotICAgIGlmIChkZWNvZGVyLT50aW1lcl9pZCAhPSAwKSB7Ci0gICAgICAg
IGdfc291cmNlX3JlbW92ZShkZWNvZGVyLT50aW1lcl9pZCk7Ci0gICAgICAgIGRlY29kZXItPnRp
bWVyX2lkID0gMDsKLSAgICB9Ci0gICAgbWpwZWdfZGVjb2Rlcl9zY2hlZHVsZShkZWNvZGVyKTsK
LX0KLQogc3RhdGljIHZvaWQgbWpwZWdfZGVjb2Rlcl9kZXN0cm95KFZpZGVvRGVjb2Rlciogdmlk
ZW9fZGVjb2RlcikKIHsKICAgICBNSnBlZ0RlY29kZXIgKmRlY29kZXIgPSAoTUpwZWdEZWNvZGVy
Kil2aWRlb19kZWNvZGVyOwpAQCAtMjgxLDcgKzI2OSw2IEBAIFZpZGVvRGVjb2RlciogY3JlYXRl
X21qcGVnX2RlY29kZXIoaW50IGNvZGVjX3R5cGUsIGRpc3BsYXlfc3RyZWFtICpzdHJlYW0pCiAg
ICAgTUpwZWdEZWNvZGVyICpkZWNvZGVyID0gZ19uZXcwKE1KcGVnRGVjb2RlciwgMSk7CiAKICAg
ICBkZWNvZGVyLT5iYXNlLmRlc3Ryb3kgPSBtanBlZ19kZWNvZGVyX2Rlc3Ryb3k7Ci0gICAgZGVj
b2Rlci0+YmFzZS5yZXNjaGVkdWxlID0gbWpwZWdfZGVjb2Rlcl9yZXNjaGVkdWxlOwogICAgIGRl
Y29kZXItPmJhc2UucXVldWVfZnJhbWUgPSBtanBlZ19kZWNvZGVyX3F1ZXVlX2ZyYW1lOwogICAg
IGRlY29kZXItPmJhc2UuY29kZWNfdHlwZSA9IGNvZGVjX3R5cGU7CiAgICAgZGVjb2Rlci0+YmFz
ZS5zdHJlYW0gPSBzdHJlYW07CmRpZmYgLS1naXQgYS9zcmMvY2hhbm5lbC1kaXNwbGF5LXByaXYu
aCBiL3NyYy9jaGFubmVsLWRpc3BsYXktcHJpdi5oCmluZGV4IGE4OTk0NjU1Li5hMWFkMzIyNCAx
MDA2NDQKLS0tIGEvc3JjL2NoYW5uZWwtZGlzcGxheS1wcml2LmgKKysrIGIvc3JjL2NoYW5uZWwt
ZGlzcGxheS1wcml2LmgKQEAgLTU5LDkgKzU5LDYgQEAgc3RydWN0IFZpZGVvRGVjb2RlciB7CiAg
ICAgLyogUmVsZWFzZXMgdGhlIHZpZGVvIGRlY29kZXIncyByZXNvdXJjZXMgKi8KICAgICB2b2lk
ICgqZGVzdHJveSkoVmlkZW9EZWNvZGVyICpkZWNvZGVyKTsKIAotICAgIC8qIE5vdGlmaWVzIHRo
ZSBkZWNvZGVyIHRoYXQgdGhlIG1tLXRpbWUgY2xvY2sgY2hhbmdlZC4gKi8KLSAgICB2b2lkICgq
cmVzY2hlZHVsZSkoVmlkZW9EZWNvZGVyICpkZWNvZGVyKTsKLQogICAgIC8qIFRha2VzIG93bmVy
c2hpcCBvZiB0aGUgc3BlY2lmaWVkIGZyYW1lLCBkZWNvbXByZXNzZXMgaXQsCiAgICAgICogYW5k
IGRpc3BsYXlzIGl0IGF0IHRoZSByaWdodCB0aW1lLgogICAgICAqCmRpZmYgLS1naXQgYS9zcmMv
Y2hhbm5lbC1kaXNwbGF5LmMgYi9zcmMvY2hhbm5lbC1kaXNwbGF5LmMKaW5kZXggYWNjNjZkZDEu
LmY1NzY5MWNkIDEwMDY0NAotLS0gYS9zcmMvY2hhbm5lbC1kaXNwbGF5LmMKKysrIGIvc3JjL2No
YW5uZWwtZGlzcGxheS5jCkBAIC0xMDgsNyArMTA4LDYgQEAgc3RhdGljIHZvaWQgc3BpY2VfZGlz
cGxheV9jaGFubmVsX3Jlc2V0KFNwaWNlQ2hhbm5lbCAqY2hhbm5lbCwgZ2Jvb2xlYW4gbWlncmF0
aW4KIHN0YXRpYyB2b2lkIHNwaWNlX2Rpc3BsYXlfY2hhbm5lbF9zZXRfY2FwYWJpbGl0aWVzKFNw
aWNlQ2hhbm5lbCAqY2hhbm5lbCk7CiBzdGF0aWMgdm9pZCBkZXN0cm95X2NhbnZhcyhkaXNwbGF5
X3N1cmZhY2UgKnN1cmZhY2UpOwogc3RhdGljIHZvaWQgZGlzcGxheV9zdHJlYW1fZGVzdHJveShn
cG9pbnRlciBzdCk7Ci1zdGF0aWMgdm9pZCBkaXNwbGF5X3Nlc3Npb25fbW1fdGltZV9yZXNldF9j
YihTcGljZVNlc3Npb24gKnNlc3Npb24sIGdwb2ludGVyIGRhdGEpOwogc3RhdGljIFNwaWNlR2xT
Y2Fub3V0KiBzcGljZV9nbF9zY2Fub3V0X2NvcHkoY29uc3QgU3BpY2VHbFNjYW5vdXQgKnNjYW5v
dXQpOwogCiBHX0RFRklORV9CT1hFRF9UWVBFKFNwaWNlR2xTY2Fub3V0LCBzcGljZV9nbF9zY2Fu
b3V0LApAQCAtMTkwLDkgKzE4OSw2IEBAIHN0YXRpYyB2b2lkIHNwaWNlX2Rpc3BsYXlfY2hhbm5l
bF9jb25zdHJ1Y3RlZChHT2JqZWN0ICpvYmplY3QpCiAgICAgZ19yZXR1cm5faWZfZmFpbChjLT5w
YWxldHRlcyAhPSBOVUxMKTsKIAogICAgIGMtPm1vbml0b3JzID0gZ19hcnJheV9uZXcoRkFMU0Us
IFRSVUUsIHNpemVvZihTcGljZURpc3BsYXlNb25pdG9yQ29uZmlnKSk7Ci0gICAgc3BpY2VfZ19z
aWduYWxfY29ubmVjdF9vYmplY3QocywgIm1tLXRpbWUtcmVzZXQiLAotICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIEdfQ0FMTEJBQ0soZGlzcGxheV9zZXNzaW9uX21tX3RpbWVfcmVz
ZXRfY2IpLAotICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQSUNFX0NIQU5ORUwo
b2JqZWN0KSwgMCk7CiAKICAgICBzcGljZV9kaXNwbGF5X2NoYW5uZWxfc2V0X2NhcGFiaWxpdGll
cyhTUElDRV9DSEFOTkVMKG9iamVjdCkpOwogCkBAIC0xNTM5LDYxICsxNTM1LDYgQEAgc3RhdGlj
IHZvaWQgZGlzcGxheV91cGRhdGVfc3RyZWFtX3JlcG9ydChTcGljZURpc3BsYXlDaGFubmVsICpj
aGFubmVsLCB1aW50MzJfdAogICAgIH0KIH0KIAotLyoKLSAqIE1pZ3JhdGlvbiBjYW4gb2NjdXIg
YmV0d2VlbiAyIHNwaWNlLXNlcnZlcnMgd2l0aCBkaWZmZXJlbnQgbW0tdGltZXMuCi0gKiBUaGVu
LCB0aGUgZm9sbG93aW5nIGNhc2VzIGNhbiBoYXBwZW4gYWZ0ZXIgbWlncmF0aW9uIGNvbXBsZXRl
czoKLSAqIChXZSByZWZlciB0byBzcmMvZHN0LXRpbWUgYXMgdGhlIG1tLXRpbWVzIG9uIHRoZSBz
cmMvZHN0IHNlcnZlcnMpOgotICoKLSAqIChjYXNlIDEpIEZyYW1lcyB3aXRoIHRpbWUgfj0gZHN0
LXRpbWUgYXJyaXZlIHRvIHRoZSBjbGllbnQgYmVmb3JlIHRoZQotICogICAgICAgICAgcGxheWJh
Y2stY2hhbm5lbCB1cGRhdGVzIHRoZSBzZXNzaW9uJ3MgbW0tdGltZSAoaS5lLiwgdGhlIG1tX3Rp
bWUKLSAqICAgICAgICAgIG9mIHRoZSBzZXNzaW9uIGlzIHN0aWxsIGJhc2VkIG9uIHRoZSBzcmMt
dGltZSkuCi0gKiAgICAgKGEpIElmIHNyYy10aW1lIDwgZHN0LXRpbWU6Ci0gKiAgICAgICAgIGRp
c3BsYXlfc3RyZWFtX3NjaGVkdWxlIHNjaGVkdWxlcyB0aGUgbmV4dCByZW5kZXJpbmcgdG8KLSAq
ICAgICAgICAgfihkc3QtdGltZSAtIHNyYy10aW1lKSBtaWxsaXNlY29uZHMgZnJvbSBub3cuCi0g
KiAgICAgICAgIFNpbmNlIHdlIGFzc3VtZSBtb25vdG9uaWMgbW1fdGltZSwgZGlzcGxheV9zdHJl
YW1fc2NoZWR1bGUsCi0gKiAgICAgICAgIHJldHVybnMgaW1tZWRpYXRlbHkgd2hlbiBhIHJlbmRl
cmluZyB0aW1lb3V0Ci0gKiAgICAgICAgIGhhcyBhbHJlYWR5IGJlZW4gc2V0LCBhbmQgZG9lc24n
dCB1cGRhdGUgdGhlIHRpbWVvdXQsCi0gKiAgICAgICAgIGV2ZW4gYWZ0ZXIgdGhlIG1tX3RpbWUg
aXMgdXBkYXRlZC4KLSAqICAgICAgICAgV2hlbiBzcmMtdGltZSA8PCBkc3QtdGltZSwgYSBzaWdu
aWZpY2FudCB2aWRlbyBmcmFtZXMgbG9zcyB3aWxsIG9jY3VyLgotICogICAgIChiKSBJZiBzcmMt
dGltZSA+IGRzdC10aW1lCi0gKiAgICAgICAgIEZyYW1lcyB3aWxsIGJlIGRyb3BwZWQgdGlsbCB0
aGUgbW0tdGltZSB3aWxsIGJlIHVwZGF0ZWQuCi0gKiAoY2FzZSAyKSBtbS10aW1lIGlzIHN5bmNl
ZCB3aXRoIGRzdC10aW1lLCBidXQgZnJhbWVzIHRoYXQgd2VyZSBpbiB0aGUgY29tbWFuZAotICog
ICAgICAgICByaW5nIGR1cmluZyBtaWdyYXRpb24gc3RpbGwgYXJyaXZlIChzdWNoIGZyYW1lcyBo
b2xkIHNyYy10aW1lKS4KLSAqICAgIChhKSBJZiBzcmMtdGltZSA8IGRzdC10aW1lCi0gKiAgICAg
ICAgVGhlIGZyYW1lcyB0aGF0IGhvbGQgc3JjLXRpbWUgd2lsbCBiZSBkcm9wcGVkLCBzaW5jZSB0
aGVpcgotICogICAgICAgIG1tX3RpbWUgPCBzZXNzaW9uLW1tX3RpbWUuIEJ1dCBhbGwgdGhlIG5l
dyBmcmFtZXMgdGhhdCBhcmUgZ2VuZXJhdGVkIGluCi0gKiAgICAgICAgdGhlIGRyaXZlciBhZnRl
ciBtaWdyYXRpb24sIHdpbGwgYmUgcmVuZGVyZWQgYXBwcm9wcmlhdGVseS4KLSAqICAgIChiKSBJ
ZiBzcmMtdGltZSA+IGRzdC10aW1lCi0gKiAgICAgICAgU2ltaWxhciBjb25zZXF1ZW5jZXMgYXMg
aW4gMSAoYSkKLSAqIGNhc2UgMiBpcyBsZXNzIGxpa2VseSwgc2luY2UgYXQgdGFrZXMgYXQgbGVh
c3QgMjAgZnJhbWVzIHRpbGwgdGhlIGRzdC1zZXJ2ZXIgcmUtaWRlbnRpZmllcwotICogdGhlIHZp
ZGVvIHN0cmVhbSBhbmQgc3RhcnRzIHNlbmRpbmcgc3RyZWFtIGRhdGEKLSAqCi0gKiBkaXNwbGF5
X3Nlc3Npb25fbW1fdGltZV9yZXNldF9jYiBoYW5kbGVzIGNhc2UgMS5hIGJ5IG5vdGlmeWluZyB0
aGUKLSAqIHZpZGVvIGRlY29kZXJzIHRocm91Z2ggdGhlaXIgcmVzY2hlZHVsZSgpIG1ldGhvZCwg
YW5kIGNhc2UgMi5iIGlzIGhhbmRsZWQKLSAqIGRpcmVjdGx5IGJ5IHRoZSB2aWRlbyBkZWNvZGVy
cyBpbiB0aGVpciBxdWV1ZV9mcmFtZSgpIG1ldGhvZAotICovCi0KLS8qIG1haW4gY29udGV4dCAq
Lwotc3RhdGljIHZvaWQgZGlzcGxheV9zZXNzaW9uX21tX3RpbWVfcmVzZXRfY2IoU3BpY2VTZXNz
aW9uICpzZXNzaW9uLCBncG9pbnRlciBkYXRhKQotewotICAgIFNwaWNlQ2hhbm5lbCAqY2hhbm5l
bCA9IGRhdGE7Ci0gICAgU3BpY2VEaXNwbGF5Q2hhbm5lbFByaXZhdGUgKmMgPSBTUElDRV9ESVNQ
TEFZX0NIQU5ORUwoY2hhbm5lbCktPnByaXY7Ci0gICAgZ3VpbnQgaTsKLQotICAgIENIQU5ORUxf
REVCVUcoY2hhbm5lbCwgIiVzIiwgX19GVU5DVElPTl9fKTsKLQotICAgIGZvciAoaSA9IDA7IGkg
PCBjLT5uc3RyZWFtczsgaSsrKSB7Ci0gICAgICAgIGRpc3BsYXlfc3RyZWFtICpzdDsKLQotICAg
ICAgICBpZiAoYy0+c3RyZWFtc1tpXSA9PSBOVUxMKSB7Ci0gICAgICAgICAgICBjb250aW51ZTsK
LSAgICAgICAgfQotICAgICAgICBTUElDRV9ERUJVRygiJXM6IHN0cmVhbS1pZCAldSIsIF9fRlVO
Q1RJT05fXywgaSk7Ci0gICAgICAgIHN0ID0gYy0+c3RyZWFtc1tpXTsKLSAgICAgICAgc3QtPnZp
ZGVvX2RlY29kZXItPnJlc2NoZWR1bGUoc3QtPnZpZGVvX2RlY29kZXIpOwotICAgIH0KLX0KLQog
I2RlZmluZSBTVFJFQU1fUExBWUJBQ0tfU1lOQ19EUk9QX1NFUV9MRU5fTElNSVQgNQogCiBzdGF0
aWMgdm9pZCBkaXNwbGF5X3N0cmVhbV9zdGF0c19kZWJ1ZyhkaXNwbGF5X3N0cmVhbSAqc3QpCi0t
IAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
ClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5v
cmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1k
ZXZlbA==
