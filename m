Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 596C31147C8
	for <lists+spice-devel@lfdr.de>; Thu,  5 Dec 2019 20:43:03 +0100 (CET)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id DA3F86F8EE;
	Thu,  5 Dec 2019 19:42:57 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-wr1-x442.google.com (mail-wr1-x442.google.com
 [IPv6:2a00:1450:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 55DBF6F8D4
 for <spice-devel@lists.freedesktop.org>; Thu,  5 Dec 2019 17:43:46 +0000 (UTC)
Received: by mail-wr1-x442.google.com with SMTP id y17so4679947wrh.5
 for <spice-devel@lists.freedesktop.org>; Thu, 05 Dec 2019 09:43:46 -0800 (PST)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=R/8i/elKHZHKUSZlco9fWEYxTQlFFZBopPZ49wE6bO0=;
 b=b3soR6bLRYTLtGozvJOX4IJG9gXpnawWIzF4Oky2pJoSyHi3YqXcY6VdqiPYA5voLC
 Fg/Xd1ATlayD2fJhonTgZAullsBs8NpDLRW12fKKG+GezBB8MJ2IUcRUCb5mS5tzaSMY
 3hu5g8x+LR2IrU2oJvNvn4ltLkJA2oBKHUQqH94CVzW3gBbTw/y5ivvxqp4rADssY3Yc
 kzkVmgtehMmsqw8OwqHdpUWMk/OphEaCxVKYPS3AoHPB3z6kZ58o3yGSRQ/j4/E5X5qm
 GDfzwN+BNhT5f5XJvfRXzswHFUkXipRDeuXMaAUGa7lC3qZqfIbxnFDT8gLSpUaW5ayo
 wFuQ==
X-Gm-Message-State: APjAAAWhSxgC3aJLSfk+9G1Z1u8Qo3QTJpOAGt9A90udM6Kq0/fvHMXr
 8cKQ0Lj33fjskQEU2Bdvg+pRj+RJIkunyw==
X-Google-Smtp-Source: APXvYqzpJgdHj0xz2N9qzHERZgtg+kVQLaxJssebXsuULn7UjvciPMYpvzpo7oqFZkAdsAq++Bh74w==
X-Received: by 2002:adf:b64b:: with SMTP id i11mr10567656wre.58.1575567824800; 
 Thu, 05 Dec 2019 09:43:44 -0800 (PST)
Received: from localhost.localdomain ([94.188.175.54])
 by smtp.gmail.com with ESMTPSA id j12sm13888954wrw.54.2019.12.05.09.43.43
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Thu, 05 Dec 2019 09:43:44 -0800 (PST)
From: alexander@daynix.com
X-Google-Original-From: anezhins@redhat.com
To: spice-devel@lists.freedesktop.org
Date: Thu,  5 Dec 2019 19:49:08 +0200
Message-Id: <20191205174915.24546-3-anezhins@redhat.com>
X-Mailer: git-send-email 2.20.1
In-Reply-To: <20191205174915.24546-1-anezhins@redhat.com>
References: <20191205174915.24546-1-anezhins@redhat.com>
MIME-Version: 1.0
X-Mailman-Approved-At: Thu, 05 Dec 2019 19:42:56 +0000
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=R/8i/elKHZHKUSZlco9fWEYxTQlFFZBopPZ49wE6bO0=;
 b=S8xKOjBC9USidodVJaM/A97nFrh9ghVzabhEp6Ormf+U7Ps9AlZ2IheeROvan30/6B
 Hc9AMDEekr3vnYRXIC/ZumN67FgbbkBOuoglD6aTkf4uZLvZvtTClKEjw3vFIHr2D979
 hvbbacHsEhKZWu+/6NuivrZjRY9XrnFMgV3hX4kQq86L8qBGuy496twMkiMSPqKyrfEo
 2FfyZ4Lz2aYH4BnuoFObuaEDmfpC2FEkuLtI6TvBpzohxJDvCQLpnzS//GsObMMyxydx
 7y83coJKTA9neAxdg7mMKhC94o21XD5CdDObTapuYRdE/CYDSlY9OE2zdKErvekMgykf
 H32Q==
Subject: [Spice-devel] [PATCH 2/9] add spice_usb_device_manager shared CD
 related api functions
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Yan Vugenfirer <yan@daynix.com>, Alexander Nezhinsky <anezhins@redhat.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

RnJvbTogQWxleGFuZGVyIE5lemhpbnNreSA8YW5lemhpbnNAcmVkaGF0LmNvbT4KClRoZSBmb2xs
b3dpbmcgZnVuY3Rpb25zIGFyZSBhZGRlZDoKc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2NyZWF0
ZV9zaGFyZWRfY2RfZGV2aWNlCnNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9pc19kZXZpY2Vfc2hh
cmVkX2NkCnNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9yZW1vdmVfc2hhcmVkX2NkX2RldmljZQoK
U2lnbmVkLW9mZi1ieTogQWxleGFuZGVyIE5lemhpbnNreSA8YW5lemhpbnNAcmVkaGF0LmNvbT4K
LS0tCiBzcmMvbWFwLWZpbGUgICAgICAgICAgICAgfCAgMyArKwogc3JjL3VzYi1kZXZpY2UtbWFu
YWdlci5jIHwgODkgKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKwogc3Jj
L3VzYi1kZXZpY2UtbWFuYWdlci5oIHwgMTQgKysrKysrKwogMyBmaWxlcyBjaGFuZ2VkLCAxMDYg
aW5zZXJ0aW9ucygrKQoKZGlmZiAtLWdpdCBhL3NyYy9tYXAtZmlsZSBiL3NyYy9tYXAtZmlsZQpp
bmRleCAzY2I5ODczLi41YWU1NmMzIDEwMDY0NAotLS0gYS9zcmMvbWFwLWZpbGUKKysrIGIvc3Jj
L21hcC1maWxlCkBAIC0xODAsNiArMTgwLDkgQEAgc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2dl
dF9kZXZpY2VzX3dpdGhfZmlsdGVyOwogc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2dldF90eXBl
Owogc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2lzX2RldmljZV9jb25uZWN0ZWQ7CiBzcGljZV91
c2JfZGV2aWNlX21hbmFnZXJfaXNfcmVkaXJlY3Rpbmc7CitzcGljZV91c2JfZGV2aWNlX21hbmFn
ZXJfY3JlYXRlX3NoYXJlZF9jZF9kZXZpY2U7CitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfcmVt
b3ZlX3NoYXJlZF9jZF9kZXZpY2U7CitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfaXNfZGV2aWNl
X3NoYXJlZF9jZDsKIHNwaWNlX3VzYl9kZXZpY2Vfd2lkZ2V0X2dldF90eXBlOwogc3BpY2VfdXNi
X2RldmljZV93aWRnZXRfbmV3Owogc3BpY2VfdXNicmVkaXJfY2hhbm5lbF9nZXRfdHlwZTsKZGlm
ZiAtLWdpdCBhL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIuYyBiL3NyYy91c2ItZGV2aWNlLW1hbmFn
ZXIuYwppbmRleCAzYTk1NDJhLi4wOTYxZWY5IDEwMDY0NAotLS0gYS9zcmMvdXNiLWRldmljZS1t
YW5hZ2VyLmMKKysrIGIvc3JjL3VzYi1kZXZpY2UtbWFuYWdlci5jCkBAIC0zMiw2ICszMiw3IEBA
CiAjZW5kaWYKIAogI2luY2x1ZGUgImNoYW5uZWwtdXNicmVkaXItcHJpdi5oIgorI2luY2x1ZGUg
InVzYi1kZXZpY2UtY2QuaCIKICNlbmRpZgogCiAjaW5jbHVkZSAic3BpY2Utc2Vzc2lvbi1wcml2
LmgiCkBAIC0xNDM5LDcgKzE0NDAsOTQgQEAgZ2NoYXIgKnNwaWNlX3VzYl9kZXZpY2VfZ2V0X2Rl
c2NyaXB0aW9uKFNwaWNlVXNiRGV2aWNlICpkZXZpY2UsIGNvbnN0IGdjaGFyICpmb3IKICNlbmRp
ZgogfQogCisvKioKKyAqIHNwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9jcmVhdGVfc2hhcmVkX2Nk
X2RldmljZToKKyAqIEBzZWxmOiBhICNTcGljZVVzYkRldmljZU1hbmFnZXIKKyAqIEBmaWxlbmFt
ZTogaW1hZ2Ugb3IgZGV2aWNlIHBhdGgKKyAqIEBlcnI6IChhbGxvdy1ub25lKTogYSByZXR1cm4g
bG9jYXRpb24gZm9yIGEgI0dFcnJvciwgb3IgJU5VTEwuCisgKgorICogQ3JlYXRlcyBhIG5ldyBz
aGFyZWQgQ0QgZGV2aWNlIGJhc2VkIG9uIGEgZGlzayBpbWFnZSBmaWxlCisgKiBvciBhIHBoeXNp
Y2FsIENEIGRldmljZS4KKyAqCisgKiBSZXR1cm5zOiAlVFJVRSBpZiBkZXZpY2UgY3JlYXRlZCBz
dWNjZXNzZnVsbHkKKyAqLworZ2Jvb2xlYW4KK3NwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9jcmVh
dGVfc2hhcmVkX2NkX2RldmljZSgKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgU3BpY2VVc2JEZXZpY2VNYW5hZ2VyICpzZWxmLAorICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBnY2hhciAgICAgICAgICAgICAgICAgKmZpbGVuYW1lLAorICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHRXJyb3IgICAgICAgICAgICAg
ICAqKmVycikKK3sKKyNpZmRlZiBVU0VfVVNCUkVESVIKKyAgICBTcGljZVVzYkRldmljZU1hbmFn
ZXJQcml2YXRlICpwcml2ID0gc2VsZi0+cHJpdjsKKworICAgIENkRW11bGF0aW9uUGFyYW1zIGNk
X3BhcmFtcyA9IHsKKyAgICAgICAgLmZpbGVuYW1lID0gZmlsZW5hbWUsCisgICAgICAgIC5kZWxl
dGVfb25fZWplY3QgPSAxLAorICAgIH07CisKKyAgICByZXR1cm4gY3JlYXRlX2VtdWxhdGVkX2Nk
KHByaXYtPmNvbnRleHQsICZjZF9wYXJhbXMsIGVycik7CisjZWxzZQorICAgIGdfc2V0X2Vycm9y
X2xpdGVyYWwoZXJyLCBTUElDRV9DTElFTlRfRVJST1IsIFNQSUNFX0NMSUVOVF9FUlJPUl9GQUlM
RUQsCisgICAgICAgICAgICAgICAgICAgICAgICBfKCJVU0IgcmVkaXJlY3Rpb24gc3VwcG9ydCBu
b3QgY29tcGlsZWQgaW4iKSk7CisgICAgcmV0dXJuIEZBTFNFOworI2VuZGlmCit9CisKKy8qKgor
ICogc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX3JlbW92ZV9zaGFyZWRfY2RfZGV2aWNlOgorICog
QHNlbGY6IGEgI1NwaWNlVXNiRGV2aWNlTWFuYWdlcgorICogQGRldmljZTogYSAjU3BpY2VVc2JE
ZXZpY2UgdG8gcmVtb3ZlCisgKiBAZXJyOiAoYWxsb3ctbm9uZSk6IGEgcmV0dXJuIGxvY2F0aW9u
IGZvciBhICNHRXJyb3IsIG9yICVOVUxMLgorICoKKyAqIFJlbW92ZXMgYSBzaGFyZWQgQ0QgZGV2
aWNlLgorICoKKyAqIFJldHVybnM6ICVUUlVFIGlmIGRldmljZSByZW1vdmVkIHN1Y2Nlc3NmdWxs
eQorICovCitnYm9vbGVhbgorc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX3JlbW92ZV9zaGFyZWRf
Y2RfZGV2aWNlKFNwaWNlVXNiRGV2aWNlTWFuYWdlciAqc2VsZiwKKyAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVVzYkRldmljZSAgICAgICAgKmRl
dmljZSwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBH
RXJyb3IgICAgICAgICAgICAgICAqKmVycikKK3sKKyNpZmRlZiBVU0VfVVNCUkVESVIKKyAgICBT
cGljZVVzYkJhY2tlbmREZXZpY2UgKmJkZXY7CiAKKyAgICBiZGV2ID0gc3BpY2VfdXNiX2Rldmlj
ZV9tYW5hZ2VyX2RldmljZV90b19iZGV2KHNlbGYsIGRldmljZSk7CisgICAgc3BpY2VfdXNiX2Jh
Y2tlbmRfZGV2aWNlX2VqZWN0KHNlbGYtPnByaXYtPmNvbnRleHQsIGJkZXYpOworICAgIHNwaWNl
X3VzYl9iYWNrZW5kX2RldmljZV91bnJlZihiZGV2KTsKKyAgICByZXR1cm4gVFJVRTsKKyNlbHNl
CisgICAgZ19zZXRfZXJyb3JfbGl0ZXJhbChlcnIsIFNQSUNFX0NMSUVOVF9FUlJPUiwgU1BJQ0Vf
Q0xJRU5UX0VSUk9SX0ZBSUxFRCwKKyAgICAgICAgICAgICAgICAgICAgICAgIF8oIlVTQiByZWRp
cmVjdGlvbiBzdXBwb3J0IG5vdCBjb21waWxlZCBpbiIpKTsKKyAgICByZXR1cm4gRkFMU0U7Cisj
ZW5kaWYKK30KKworLyoqCisgKiBzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfaXNfZGV2aWNlX3No
YXJlZF9jZDoKKyAqIEBzZWxmOiBhICNTcGljZVVzYkRldmljZU1hbmFnZXIKKyAqIEBkZXZpY2U6
IGEgI1NwaWNlVXNiRGV2aWNlIHRvIHF1ZXJ5CisgKgorICogQ2hlY2tzIHdoZXRoZXIgYSBkZXZp
Y2UgaXMgc2hhcmVkIENELgorICoKKyAqIFJldHVybnM6ICVUUlVFIGlmIHRoZSBkZXZpY2UgaXMg
c2hhcmVkIENECisgKi8KK2dib29sZWFuCitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfaXNfZGV2
aWNlX3NoYXJlZF9jZChTcGljZVVzYkRldmljZU1hbmFnZXIgKnNlbGYsCisgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVVzYkRldmljZSAgICAgICAgKmRl
dmljZSkKK3sKKyNpZmRlZiBVU0VfVVNCUkVESVIKKyAgICBTcGljZVVzYkJhY2tlbmREZXZpY2Ug
KmJkZXY7CisgICAgZ2Jvb2xlYW4gaXNfY2Q7CisKKyAgICBiZGV2ID0gc3BpY2VfdXNiX2Rldmlj
ZV9tYW5hZ2VyX2RldmljZV90b19iZGV2KHNlbGYsIGRldmljZSk7CisgICAgaXNfY2QgPSAoc3Bp
Y2VfdXNiX2JhY2tlbmRfZGV2aWNlX2dldF9saWJkZXYoYmRldikgPT0gTlVMTCkgPyBUUlVFIDog
RkFMU0U7CisgICAgc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX3VucmVmKGJkZXYpOworCisgICAg
cmV0dXJuIGlzX2NkOworI2Vsc2UKKyAgICByZXR1cm4gRkFMU0U7CisjZW5kaWYKK30KIAogI2lm
ZGVmIFVTRV9VU0JSRURJUgogLyoKQEAgLTE0OTksNiArMTU4Nyw3IEBAIGdib29sZWFuIHNwaWNl
X3VzYl9kZXZpY2VfaXNfaXNvY2hyb25vdXMoY29uc3QgU3BpY2VVc2JEZXZpY2UgKmluZm8pCiAg
ICAgcmV0dXJuIHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV9pc29jaCgoU3BpY2VVc2JCYWNrZW5k
RGV2aWNlKikgaW5mbyk7CiB9CiAKKwogI2lmZGVmIEdfT1NfV0lOMzIKIHN0YXRpYwogZ2Jvb2xl
YW4gX3VzYmRrX2hpZGVyX3ByZXBhcmUoU3BpY2VVc2JEZXZpY2VNYW5hZ2VyICptYW5hZ2VyKQpk
aWZmIC0tZ2l0IGEvc3JjL3VzYi1kZXZpY2UtbWFuYWdlci5oIGIvc3JjL3VzYi1kZXZpY2UtbWFu
YWdlci5oCmluZGV4IDc3MzIwOGYuLmRjMWE2NDQgMTAwNjQ0Ci0tLSBhL3NyYy91c2ItZGV2aWNl
LW1hbmFnZXIuaAorKysgYi9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmgKQEAgLTE0Myw2ICsxNDMs
MjAgQEAgc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2Nhbl9yZWRpcmVjdF9kZXZpY2UoU3BpY2VV
c2JEZXZpY2VNYW5hZ2VyICAqc2VsZiwKIAogZ2Jvb2xlYW4gc3BpY2VfdXNiX2RldmljZV9tYW5h
Z2VyX2lzX3JlZGlyZWN0aW5nKFNwaWNlVXNiRGV2aWNlTWFuYWdlciAqc2VsZik7CiAKK2dib29s
ZWFuCitzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfY3JlYXRlX3NoYXJlZF9jZF9kZXZpY2UoCisg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTcGljZVVzYkRldmlj
ZU1hbmFnZXIgKnNlbGYsCisgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBnY2hhciAgICAgICAgICAgICAgICAgKmZpbGVuYW1lLAorICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgR0Vycm9yICAgICAgICAgICAgICAgKiplcnIpOwor
Z2Jvb2xlYW4KK3NwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9yZW1vdmVfc2hhcmVkX2NkX2Rldmlj
ZSgKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNwaWNlVXNi
RGV2aWNlTWFuYWdlciAqc2VsZiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIFNwaWNlVXNiRGV2aWNlICAgICAgICAqZGV2aWNlLAorICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR0Vycm9yICAgICAgICAgICAgICAgKiplcnIp
OworZ2Jvb2xlYW4KK3NwaWNlX3VzYl9kZXZpY2VfbWFuYWdlcl9pc19kZXZpY2Vfc2hhcmVkX2Nk
KFNwaWNlVXNiRGV2aWNlTWFuYWdlciAqc2VsZiwKKyAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIFNwaWNlVXNiRGV2aWNlICAgICAgICAqZGV2aWNlKTsKKwogR19F
TkRfREVDTFMKIAogI2VuZGlmIC8qIF9fU1BJQ0VfVVNCX0RFVklDRV9NQU5BR0VSX0hfXyAqLwot
LSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
XwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Au
b3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2Ut
ZGV2ZWw=
