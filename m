Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id C5177B6144
	for <lists+spice-devel@lfdr.de>; Wed, 18 Sep 2019 12:17:19 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id D40776EEAC;
	Wed, 18 Sep 2019 10:17:17 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id CBA496EEAB
 for <spice-devel@lists.freedesktop.org>; Wed, 18 Sep 2019 10:17:16 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx04.intmail.prod.int.phx2.redhat.com
 [10.5.11.14])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 6C858308FC4E
 for <spice-devel@lists.freedesktop.org>; Wed, 18 Sep 2019 10:17:16 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx01.intmail.prod.int.phx2.redhat.com [10.5.11.20])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 630C35D9D5
 for <spice-devel@lists.freedesktop.org>; Wed, 18 Sep 2019 10:17:16 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 4C8001803517;
 Wed, 18 Sep 2019 10:17:16 +0000 (UTC)
Date: Wed, 18 Sep 2019 06:17:16 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Victor Toso <victortoso@redhat.com>
Message-ID: <349514983.452579.1568801836139.JavaMail.zimbra@redhat.com>
In-Reply-To: <20190916102104.20943-8-victortoso@redhat.com>
References: <20190916102104.20943-1-victortoso@redhat.com>
 <20190916102104.20943-8-victortoso@redhat.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.16, 10.4.195.15]
Thread-Topic: usb-backend: include usbredirparser
Thread-Index: ImJDe9/r+R8c/uUit4aYhXQ3p+mG9A==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.14
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.43]); Wed, 18 Sep 2019 10:17:16 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH v7 07/20] usb-backend: include
 usbredirparser
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBGcm9tOiBZdXJpIEJlbmRpdG92aWNoIDx5dXJpLmJlbmRpdG92aWNoQGRheW5peC5jb20+
Cj4gCj4gVGhpcyBwYXRjaCBpbnRyb2R1Y2VzIHRoZSB1c2FnZSBvZiB1c2JyZWRpcnBhcnNlciBp
bgo+IFNwaWNlVXNiQmFja2VuZENoYW5uZWwuCj4gCj4gVGhlIGZvY3VzIG9mIHRoaXMgcGF0Y2gg
aXMgdG8gdGhlIGNvZGUgcGF0aCBvZiByZWFsIGRldmljZXMuIEFzIHdlCj4gZG9uJ3Qga25vdyBi
ZWZvcmVoYW5kIGlmIGEgU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCB3aWxsIGJlIHVzZWQgYnkgcmVh
bAo+IG9yIGVtdWxhdGVkIGRldmljZXMsIGFuIGluc3RhbmNlIG9mIHVzYnJlZGlycGFyc2VyIG11
c3QgYmUgaW5pdGlhbGl6ZWQKPiB3aXRoIHRoZSB1c2JyZWRpcmhvc3QncyBmaXJzdCBoZWxsbyBt
ZXNzYWdlLgo+IAo+IFRoaXMgaXMgYSBtdXN0IHRvIHRoZSBjdXJyZW50IGRlc2lnbiBvbiBzdXBw
b3J0aW5nIGVtdWxhdGVkIGRldmljZXMuCj4gVGhpcyB3aWxsIGJlIGV4dGVuZGVkIGluIHRoZSBu
ZXh0IHBhdGNoIHRvIG1hdGNoIHJlbW90ZSdzIHVzYnJlZGlyaG9zdAo+IGNhcGFiaWxpdGllcyBh
bmQgcHJvdmlkaW5nIHN1cHBvcnQgdG8gZW11bGF0ZWQgZGV2aWNlcy4KPiAKPiBTaWduZWQtb2Zm
LWJ5OiBZdXJpIEJlbmRpdG92aWNoIDx5dXJpLmJlbmRpdG92aWNoQGRheW5peC5jb20+Cj4gU2ln
bmVkLW9mZi1ieTogVmljdG9yIFRvc28gPHZpY3RvcnRvc29AcmVkaGF0LmNvbT4KClBsZWFzZSBh
ZGQgbXkgc2lnbmVkIG9mZi4KCj4gLS0tCj4gIHNyYy91c2ItYmFja2VuZC5jIHwgMjIzICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0KPiAgMSBmaWxlIGNoYW5n
ZWQsIDIxOCBpbnNlcnRpb25zKCspLCA1IGRlbGV0aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9z
cmMvdXNiLWJhY2tlbmQuYyBiL3NyYy91c2ItYmFja2VuZC5jCj4gaW5kZXggNjhmYWFhZS4uZWYy
OTkwMSAxMDA2NDQKPiAtLS0gYS9zcmMvdXNiLWJhY2tlbmQuYwo+ICsrKyBiL3NyYy91c2ItYmFj
a2VuZC5jCj4gQEAgLTQ1LDYgKzQ1LDcgQEAKPiAgI2luY2x1ZGUgInVzYnV0aWwuaCIKPiAgCj4g
ICNkZWZpbmUgTE9VRF9ERUJVRyh4LCAuLi4pCj4gKyNkZWZpbmUgVVNCUkVESVJfQ0FMTEJBQ0tf
Tk9UX0lNUExFTUVOVEVEKCkgc3BpY2VfZGVidWcoIiVzIG5vdCBpbXBsZW1lbnRlZAo+IC0gRklY
TUUiLCBfX2Z1bmNfXykKPiAgCj4gIHN0cnVjdCBfU3BpY2VVc2JEZXZpY2UKPiAgewo+IEBAIC04
Miw2ICs4Myw3IEBAIHN0cnVjdCBfU3BpY2VVc2JCYWNrZW5kCj4gIHN0cnVjdCBfU3BpY2VVc2JC
YWNrZW5kQ2hhbm5lbAo+ICB7Cj4gICAgICBzdHJ1Y3QgdXNicmVkaXJob3N0ICp1c2JyZWRpcmhv
c3Q7Cj4gKyAgICBzdHJ1Y3QgdXNicmVkaXJwYXJzZXIgKnBhcnNlcjsKPiAgICAgIHVpbnQ4X3Qg
KnJlYWRfYnVmOwo+ICAgICAgaW50IHJlYWRfYnVmX3NpemU7Cj4gICAgICBzdHJ1Y3QgdXNicmVk
aXJmaWx0ZXJfcnVsZSAqcnVsZXM7Cj4gQEAgLTYzMCwxMSArNjMyLDQ4IEBAIHN0YXRpYyB2b2lk
IHVzYnJlZGlyX2xvZyh2b2lkICp1c2VyX2RhdGEsIGludCBsZXZlbCwKPiBjb25zdCBjaGFyICpt
c2cpCj4gICAgICB9Cj4gIH0KPiAgCj4gK3N0YXRpYyBzdHJ1Y3QgdXNicmVkaXJwYXJzZXIgKmNy
ZWF0ZV9wYXJzZXIoU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCAqY2gpOwo+ICsKPiAgc3RhdGljIGlu
dCB1c2JyZWRpcl93cml0ZV9jYWxsYmFjayh2b2lkICp1c2VyX2RhdGEsIHVpbnQ4X3QgKmRhdGEs
IGludAo+ICBjb3VudCkKPiAgewo+ICAgICAgU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCAqY2ggPSB1
c2VyX2RhdGE7Cj4gICAgICBpbnQgcmVzOwo+ICAgICAgU1BJQ0VfREVCVUcoIiVzIGNoICVwLCAl
ZCBieXRlcyIsIF9fRlVOQ1RJT05fXywgY2gsIGNvdW50KTsKPiArCj4gKyAgICAvLyBoYW5kbGUg
Zmlyc3QgcGFja2V0IChIRUxMTykgY3JlYXRpbmcgcGFyc2VyIGZyb20gY2FwYWJpbGl0aWVzCj4g
KyAgICBpZiAoU1BJQ0VfVU5MSUtFTFkoY2gtPnBhcnNlciA9PSBOVUxMKSkgewo+ICsgICAgICAg
IC8vIEhlcmUgd2UgcmV0dXJuIDAgZnJvbSB0aGlzIGZ1bmN0aW9uIHRvIGtlZXAgdGhlIHBhY2tl
dCBpbgo+ICsgICAgICAgIC8vIHRoZSBxdWV1ZS4gVGhlIHBhY2tldCB3aWxsIHRoZW4gYmUgc2Vu
dCB0byB0aGUgZ3Vlc3QuCj4gKyAgICAgICAgLy8gV2UgYXJlIGluaXRpYWxpemluZyBTcGljZVVz
YkJhY2tlbmRDaGFubmVsLCB0aGUKPiArICAgICAgICAvLyBTcGljZVVzYnJlZGlyQ2hhbm5lbCBp
cyBub3QgcmVhZHkgdG8gcmVjZWl2ZSBwYWNrZXRzLgo+ICsKPiArICAgICAgICAvLyB3ZSBhcmUg
c3RpbGwgaW5pdGlhbGl6aW5nIHRoZSBob3N0Cj4gKyAgICAgICAgaWYgKGNoLT51c2JyZWRpcmhv
c3QgPT0gTlVMTCkgewo+ICsgICAgICAgICAgICByZXR1cm4gMDsKPiArICAgICAgICB9Cj4gKwo+
ICsgICAgICAgIGNoLT5wYXJzZXIgPSBjcmVhdGVfcGFyc2VyKGNoKTsKPiArICAgICAgICBpZiAo
IWNoLT5wYXJzZXIpIHsKPiArICAgICAgICAgICAgcmV0dXJuIDA7Cj4gKyAgICAgICAgfQo+ICsK
PiArICAgICAgICAvKiBoZWxsbyBpcyBzaG9ydCBoZWFkZXIgKDEyKSArIGhlbGxvIHN0cnVjdCAo
NjQpICovCj4gKyAgICAgICAgY29uc3QgaW50IGhlbGxvX3NpemUgPSAxMiArIHNpemVvZihzdHJ1
Y3QgdXNiX3JlZGlyX2hlbGxvX2hlYWRlcik7Cj4gKyAgICAgICAgZ19hc3NlcnQoY291bnQgPj0g
aGVsbG9fc2l6ZSArIDQpOwo+ICsgICAgICAgIGdfYXNzZXJ0KFNQSUNFX0FMSUdORURfQ0FTVChz
dHJ1Y3QgdXNiX3JlZGlyX2hlYWRlciAqLCBkYXRhKS0+dHlwZQo+ID09IHVzYl9yZWRpcl9oZWxs
byk7Cj4gKwo+ICsgICAgICAgIGNvbnN0IHVpbnQzMl90IGZsYWdzID0KPiArICAgICAgICAgICAg
dXNicmVkaXJwYXJzZXJfZmxfd3JpdGVfY2Jfb3duc19idWZmZXIgfAo+IHVzYnJlZGlycGFyc2Vy
X2ZsX3VzYl9ob3N0IHwKPiArICAgICAgICAgICAgdXNicmVkaXJwYXJzZXJfZmxfbm9faGVsbG87
Cj4gKwo+ICsgICAgICAgIHVzYnJlZGlycGFyc2VyX2luaXQoY2gtPnBhcnNlciwKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIFBBQ0tBR0VfU1RSSU5HLAo+ICsgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgU1BJQ0VfQUxJR05FRF9DQVNUKHVpbnQzMl90ICosIGRhdGEgKwo+IGhlbGxv
X3NpemUpLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvdW50IC0gaGVsbG9fc2l6
ZSkgLyBzaXplb2YodWludDMyX3QpLAo+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxh
Z3MpOwo+ICsKPiArICAgICAgICByZXR1cm4gMDsKPiArICAgIH0KPiAgICAgIHJlcyA9IHNwaWNl
X3VzYnJlZGlyX3dyaXRlKGNoLT51c2JyZWRpcl9jaGFubmVsLCBkYXRhLCBjb3VudCk7Cj4gICAg
ICByZXR1cm4gcmVzOwo+ICB9Cj4gQEAgLTcwMSw2ICs3NDAsMTY1IEBAIEdFcnJvciAqc3BpY2Vf
dXNiX2JhY2tlbmRfZ2V0X2Vycm9yX2RldGFpbHMoaW50Cj4gZXJyb3JfY29kZSwgZ2NoYXIgKmRl
c2MpCj4gICAgICByZXR1cm4gZXJyOwo+ICB9Cj4gIAo+ICtzdGF0aWMgdm9pZAo+ICt1c2JyZWRp
cl9jb250cm9sX3BhY2tldCh2b2lkICpwcml2LCB1aW50NjRfdCBpZCwgc3RydWN0Cj4gdXNiX3Jl
ZGlyX2NvbnRyb2xfcGFja2V0X2hlYWRlciAqaCwKPiArICAgICAgICAgICAgICAgICAgICAgICAg
dWludDhfdCAqZGF0YSwgaW50IGRhdGFfbGVuKQo+ICt7Cj4gKyAgICBVU0JSRURJUl9DQUxMQkFD
S19OT1RfSU1QTEVNRU5URUQoKTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiArdXNicmVkaXJf
YnVsa19wYWNrZXQodm9pZCAqcHJpdiwgdWludDY0X3QgaWQsIHN0cnVjdAo+IHVzYl9yZWRpcl9i
dWxrX3BhY2tldF9oZWFkZXIgKmgsCj4gKyAgICAgICAgICAgICAgICAgICAgIHVpbnQ4X3QgKmRh
dGEsIGludCBkYXRhX2xlbikKPiArewo+ICsgICAgVVNCUkVESVJfQ0FMTEJBQ0tfTk9UX0lNUExF
TUVOVEVEKCk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIHVzYnJlZGlyX2RldmljZV9yZXNldCh2
b2lkICpwcml2KQo+ICt7Cj4gKyAgICBVU0JSRURJUl9DQUxMQkFDS19OT1RfSU1QTEVNRU5URUQo
KTsKPiArfQo+ICsKPiArc3RhdGljIHZvaWQKPiArdXNicmVkaXJfaW50ZXJmYWNlX2luZm8odm9p
ZCAqcHJpdiwgc3RydWN0IHVzYl9yZWRpcl9pbnRlcmZhY2VfaW5mb19oZWFkZXIKPiAqaW50ZXJm
YWNlX2luZm8pCj4gK3sKPiArICAgIFVTQlJFRElSX0NBTExCQUNLX05PVF9JTVBMRU1FTlRFRCgp
Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZAo+ICt1c2JyZWRpcl9pbnRlcmZhY2VfZXBfaW5mbyh2
b2lkICpwcml2LCBzdHJ1Y3QgdXNiX3JlZGlyX2VwX2luZm9faGVhZGVyCj4gKmVwX2luZm8pCj4g
K3sKPiArICAgIFVTQlJFRElSX0NBTExCQUNLX05PVF9JTVBMRU1FTlRFRCgpOwo+ICt9Cj4gKwo+
ICtzdGF0aWMgdm9pZAo+ICt1c2JyZWRpcl9zZXRfY29uZmlndXJhdGlvbih2b2lkICpwcml2LCB1
aW50NjRfdCBpZCwKPiArICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RydWN0IHVzYl9yZWRp
cl9zZXRfY29uZmlndXJhdGlvbl9oZWFkZXIKPiAqc2V0X2NvbmZpZ3VyYXRpb24pCj4gK3sKPiAr
ICAgIFVTQlJFRElSX0NBTExCQUNLX05PVF9JTVBMRU1FTlRFRCgpOwo+ICt9Cj4gKwo+ICtzdGF0
aWMgdm9pZCB1c2JyZWRpcl9nZXRfY29uZmlndXJhdGlvbih2b2lkICpwcml2LCB1aW50NjRfdCBp
ZCkKPiArewo+ICsgICAgVVNCUkVESVJfQ0FMTEJBQ0tfTk9UX0lNUExFTUVOVEVEKCk7Cj4gK30K
PiArCj4gK3N0YXRpYyB2b2lkCj4gK3VzYnJlZGlyX3NldF9hbHRfc2V0dGluZyh2b2lkICpwcml2
LCB1aW50NjRfdCBpZCwgc3RydWN0Cj4gdXNiX3JlZGlyX3NldF9hbHRfc2V0dGluZ19oZWFkZXIg
KnMpCj4gK3sKPiArICAgIFVTQlJFRElSX0NBTExCQUNLX05PVF9JTVBMRU1FTlRFRCgpOwo+ICt9
Cj4gKwo+ICtzdGF0aWMgdm9pZAo+ICt1c2JyZWRpcl9nZXRfYWx0X3NldHRpbmcodm9pZCAqcHJp
diwgdWludDY0X3QgaWQsIHN0cnVjdAo+IHVzYl9yZWRpcl9nZXRfYWx0X3NldHRpbmdfaGVhZGVy
ICpzKQo+ICt7Cj4gKyAgICBVU0JSRURJUl9DQUxMQkFDS19OT1RfSU1QTEVNRU5URUQoKTsKPiAr
fQo+ICsKPiArc3RhdGljIHZvaWQgdXNicmVkaXJfY2FuY2VsX2RhdGEodm9pZCAqcHJpdiwgdWlu
dDY0X3QgaWQpCj4gK3sKPiArICAgIFVTQlJFRElSX0NBTExCQUNLX05PVF9JTVBMRU1FTlRFRCgp
Owo+ICt9Cj4gKwo+ICtzdGF0aWMgdm9pZCB1c2JyZWRpcl9maWx0ZXJfcmVqZWN0KHZvaWQgKnBy
aXYpCj4gK3sKPiArICAgIFVTQlJFRElSX0NBTExCQUNLX05PVF9JTVBMRU1FTlRFRCgpOwo+ICt9
Cj4gKwo+ICsvKiBOb3RlIHRoYXQgdGhlIG93bmVyc2hpcCBvZiB0aGUgcnVsZXMgYXJyYXkgaXMg
cGFzc2VkIG9uIHRvIHRoZSBjYWxsYmFjay4KPiAqLwo+ICtzdGF0aWMgdm9pZAo+ICt1c2JyZWRp
cl9maWx0ZXJfZmlsdGVyKHZvaWQgKnByaXYsIHN0cnVjdCB1c2JyZWRpcmZpbHRlcl9ydWxlICpy
LCBpbnQgY291bnQpCj4gK3sKPiArICAgIFNwaWNlVXNiQmFja2VuZENoYW5uZWwgKmNoID0gcHJp
djsKPiArICAgIFNQSUNFX0RFQlVHKCIlcyBjaCAlcCAlZCBmaWx0ZXJzIiwgX19GVU5DVElPTl9f
LCBjaCwgY291bnQpOwo+ICsKPiArICAgIGZyZWUoY2gtPnJ1bGVzKTsKPiArICAgIGNoLT5ydWxl
cyA9IHI7Cj4gKyAgICBjaC0+cnVsZXNfY291bnQgPSBjb3VudDsKPiArICAgIGlmIChjb3VudCkg
ewo+ICsgICAgICAgIGludCBpOwo+ICsgICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb3VudDsgaSsr
KSB7Cj4gKyAgICAgICAgICAgIFNQSUNFX0RFQlVHKCIlcyBjbGFzcyAlZCwgJVg6JVgiLAo+ICsg
ICAgICAgICAgICAgICAgcltpXS5hbGxvdyA/ICJhbGxvd2VkIiA6ICJkZW5pZWQiLCByW2ldLmRl
dmljZV9jbGFzcywKPiArICAgICAgICAgICAgICAgICh1aW50MzJfdClyW2ldLnZlbmRvcl9pZCwg
KHVpbnQzMl90KXJbaV0ucHJvZHVjdF9pZCk7Cj4gKyAgICAgICAgfQo+ICsgICAgfQo+ICt9Cj4g
Kwo+ICtzdGF0aWMgdm9pZCB1c2JyZWRpcl9kZXZpY2VfZGlzY29ubmVjdF9hY2sodm9pZCAqcHJp
dikKPiArewo+ICsgICAgVVNCUkVESVJfQ0FMTEJBQ0tfTk9UX0lNUExFTUVOVEVEKCk7Cj4gK30K
PiArCj4gK3N0YXRpYyB2b2lkCj4gK3VzYnJlZGlyX2hlbGxvKHZvaWQgKnByaXYsIHN0cnVjdCB1
c2JfcmVkaXJfaGVsbG9faGVhZGVyICpoZWxsbykKPiArewo+ICsgICAgVVNCUkVESVJfQ0FMTEJB
Q0tfTk9UX0lNUExFTUVOVEVEKCk7Cj4gK30KPiArCj4gK3N0YXRpYyB2b2lkIGluaXRpYWxpemVf
cGFyc2VyKFNwaWNlVXNiQmFja2VuZENoYW5uZWwgKmNoKQo+ICt7Cj4gKyAgICB1aW50MzJfdCBm
bGFncywgY2Fwc1tVU0JfUkVESVJfQ0FQU19TSVpFXSA9IHsgMCB9Owo+ICsKPiArICAgIGdfYXNz
ZXJ0KGNoLT51c2JyZWRpcmhvc3QgPT0gTlVMTCk7Cj4gKwo+ICsgICAgZmxhZ3MgPSB1c2JyZWRp
cnBhcnNlcl9mbF93cml0ZV9jYl9vd25zX2J1ZmZlciB8Cj4gdXNicmVkaXJwYXJzZXJfZmxfdXNi
X2hvc3Q7Cj4gKwo+ICsgICAgdXNicmVkaXJwYXJzZXJfY2Fwc19zZXRfY2FwKGNhcHMsIHVzYl9y
ZWRpcl9jYXBfY29ubmVjdF9kZXZpY2VfdmVyc2lvbik7Cj4gKyAgICB1c2JyZWRpcnBhcnNlcl9j
YXBzX3NldF9jYXAoY2FwcywgdXNiX3JlZGlyX2NhcF9maWx0ZXIpOwo+ICsgICAgdXNicmVkaXJw
YXJzZXJfY2Fwc19zZXRfY2FwKGNhcHMsIHVzYl9yZWRpcl9jYXBfZGV2aWNlX2Rpc2Nvbm5lY3Rf
YWNrKTsKPiArICAgIHVzYnJlZGlycGFyc2VyX2NhcHNfc2V0X2NhcChjYXBzLAo+IHVzYl9yZWRp
cl9jYXBfZXBfaW5mb19tYXhfcGFja2V0X3NpemUpOwo+ICsgICAgdXNicmVkaXJwYXJzZXJfY2Fw
c19zZXRfY2FwKGNhcHMsIHVzYl9yZWRpcl9jYXBfNjRiaXRzX2lkcyk7Cj4gKyAgICB1c2JyZWRp
cnBhcnNlcl9jYXBzX3NldF9jYXAoY2FwcywgdXNiX3JlZGlyX2NhcF8zMmJpdHNfYnVsa19sZW5n
dGgpOwo+ICsgICAgdXNicmVkaXJwYXJzZXJfY2Fwc19zZXRfY2FwKGNhcHMsIHVzYl9yZWRpcl9j
YXBfYnVsa19yZWNlaXZpbmcpOwo+ICsgICAgdXNicmVkaXJwYXJzZXJfY2Fwc19zZXRfY2FwKGNh
cHMsIHVzYl9yZWRpcl9jYXBfYnVsa19zdHJlYW1zKTsKPiArCj4gKyAgICB1c2JyZWRpcnBhcnNl
cl9pbml0KGNoLT5wYXJzZXIsIFBBQ0tBR0VfU1RSSU5HLCBjYXBzLAo+IFVTQl9SRURJUl9DQVBT
X1NJWkUsIGZsYWdzKTsKPiArfQo+ICsKPiArLyoKPiArICAgIFdlIGNhbiBpbml0aWFsaXplIHRo
ZSB1c2JyZWRpcnBhcnNlciB3aXRoIEhFTExPIGVuYWJsZWQgb25seSBpbiBjYXNlCj4gKyAgICB0
aGUgbGlidXNiIGlzIG5vdCBhY3RpdmUgYW5kIHRoZSB1c2JyZWRpcmhvc3QgZG9lcyBub3QgZnVu
Y3Rpb24uCj4gKyAgICBUaGVuIHRoZSBwYXJzZXIgc2VuZHMgc2Vzc2lvbiBIRUxMTyBhbmQgcmVj
ZWl2ZXMgc2VydmVyJ3MgcmVzcG9uc2UuCj4gKyAgICBPdGhlcndpc2UgKHVzYnJlZGlycGFyc2Vy
IGluaXRpYWxpemVkIHdpdGggSEVMTE8gZGlzYWJsZWQpOgo+ICsgICAgLSB0aGUgdXNicmVkaXJo
b3N0IHNlbmRzIHNlc3Npb24gSEVMTE8KPiArICAgIC0gd2UgbG9vayBpbnRvIGl0IHRvIGtub3cg
c2V0IG9mIGNhcGFiaWxpdGllcyB3ZSBzaGFsbCBpbml0aWFsaXplCj4gKyAgICAgIHRoZSBwYXJz
ZXIgd2l0aAo+ICsgICAgLSB3aGVuIHdlIHJlY2VpdmUgc2VydmVyJ3MgcmVzcG9uc2UgdG8gSEVM
TE8gd2UgcHJvdmlkZSBpdCBhbHNvIHRvCj4gKyAgICAgIHBhcnNlciB0byBsZXQgaXQgc3luY2hy
b25pemUgd2l0aCBzZXJ2ZXIncyBjYXBhYmlsaXRpZXMKPiArKi8KPiArc3RhdGljIHN0cnVjdCB1
c2JyZWRpcnBhcnNlciAqY3JlYXRlX3BhcnNlcihTcGljZVVzYkJhY2tlbmRDaGFubmVsICpjaCkK
PiArewo+ICsgICAgc3RydWN0IHVzYnJlZGlycGFyc2VyICpwYXJzZXIgPSB1c2JyZWRpcnBhcnNl
cl9jcmVhdGUoKTsKPiArCj4gKyAgICBnX3JldHVybl92YWxfaWZfZmFpbChwYXJzZXIgIT0gTlVM
TCwgTlVMTCk7Cj4gKwo+ICsgICAgcGFyc2VyLT5wcml2ID0gY2g7Cj4gKyAgICBwYXJzZXItPmxv
Z19mdW5jID0gdXNicmVkaXJfbG9nOwo+ICsgICAgcGFyc2VyLT5yZWFkX2Z1bmMgPSB1c2JyZWRp
cl9yZWFkX2NhbGxiYWNrOwo+ICsgICAgcGFyc2VyLT53cml0ZV9mdW5jID0gdXNicmVkaXJfd3Jp
dGVfY2FsbGJhY2s7Cj4gKyAgICBwYXJzZXItPnJlc2V0X2Z1bmMgPSB1c2JyZWRpcl9kZXZpY2Vf
cmVzZXQ7Cj4gKyAgICBwYXJzZXItPnNldF9jb25maWd1cmF0aW9uX2Z1bmMgPSB1c2JyZWRpcl9z
ZXRfY29uZmlndXJhdGlvbjsKPiArICAgIHBhcnNlci0+Z2V0X2NvbmZpZ3VyYXRpb25fZnVuYyA9
IHVzYnJlZGlyX2dldF9jb25maWd1cmF0aW9uOwo+ICsgICAgcGFyc2VyLT5zZXRfYWx0X3NldHRp
bmdfZnVuYyA9IHVzYnJlZGlyX3NldF9hbHRfc2V0dGluZzsKPiArICAgIHBhcnNlci0+Z2V0X2Fs
dF9zZXR0aW5nX2Z1bmMgPSB1c2JyZWRpcl9nZXRfYWx0X3NldHRpbmc7Cj4gKyAgICBwYXJzZXIt
PmNhbmNlbF9kYXRhX3BhY2tldF9mdW5jID0gdXNicmVkaXJfY2FuY2VsX2RhdGE7Cj4gKyAgICBw
YXJzZXItPmNvbnRyb2xfcGFja2V0X2Z1bmMgPSB1c2JyZWRpcl9jb250cm9sX3BhY2tldDsKPiAr
ICAgIHBhcnNlci0+YnVsa19wYWNrZXRfZnVuYyA9IHVzYnJlZGlyX2J1bGtfcGFja2V0Owo+ICsg
ICAgcGFyc2VyLT5hbGxvY19sb2NrX2Z1bmMgPSB1c2JyZWRpcl9hbGxvY19sb2NrOwo+ICsgICAg
cGFyc2VyLT5sb2NrX2Z1bmMgPSB1c2JyZWRpcl9sb2NrX2xvY2s7Cj4gKyAgICBwYXJzZXItPnVu
bG9ja19mdW5jID0gdXNicmVkaXJfdW5sb2NrX2xvY2s7Cj4gKyAgICBwYXJzZXItPmZyZWVfbG9j
a19mdW5jID0gdXNicmVkaXJfZnJlZV9sb2NrOwo+ICsgICAgcGFyc2VyLT5oZWxsb19mdW5jID0g
dXNicmVkaXJfaGVsbG87Cj4gKyAgICBwYXJzZXItPmZpbHRlcl9yZWplY3RfZnVuYyA9IHVzYnJl
ZGlyX2ZpbHRlcl9yZWplY3Q7Cj4gKyAgICBwYXJzZXItPmRldmljZV9kaXNjb25uZWN0X2Fja19m
dW5jID0gdXNicmVkaXJfZGV2aWNlX2Rpc2Nvbm5lY3RfYWNrOwo+ICsgICAgcGFyc2VyLT5pbnRl
cmZhY2VfaW5mb19mdW5jID0gdXNicmVkaXJfaW50ZXJmYWNlX2luZm87Cj4gKyAgICBwYXJzZXIt
PmVwX2luZm9fZnVuYyA9IHVzYnJlZGlyX2ludGVyZmFjZV9lcF9pbmZvOwo+ICsgICAgcGFyc2Vy
LT5maWx0ZXJfZmlsdGVyX2Z1bmMgPSB1c2JyZWRpcl9maWx0ZXJfZmlsdGVyOwo+ICsKPiArICAg
IHJldHVybiBwYXJzZXI7Cj4gK30KPiArCj4gIHZvaWQgc3BpY2VfdXNiX2JhY2tlbmRfcmV0dXJu
X3dyaXRlX2RhdGEoU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCAqY2gsIHZvaWQKPiAgKmRhdGEpCj4g
IHsKPiAgICAgIGlmIChjaC0+dXNicmVkaXJob3N0KSB7Cj4gQEAgLTc5OSwxMSArOTk3LDIyIEBA
IHNwaWNlX3VzYl9iYWNrZW5kX2NoYW5uZWxfbmV3KFNwaWNlVXNiQmFja2VuZCAqYmUsCj4gICAg
ICAgICAgICAgIHNwaWNlX3V0aWxfZ2V0X2RlYnVnKCkgPyB1c2JyZWRpcnBhcnNlcl9kZWJ1ZyA6
Cj4gICAgICAgICAgICAgIHVzYnJlZGlycGFyc2VyX3dhcm5pbmcsCj4gICAgICAgICAgICAgIHVz
YnJlZGlyaG9zdF9mbF93cml0ZV9jYl9vd25zX2J1ZmZlcik7Cj4gICAgICAgICAgZ193YXJuX2lm
X2ZhaWwoY2gtPnVzYnJlZGlyaG9zdCAhPSBOVUxMKTsKPiAtICAgIH0KPiAtICAgIGlmIChjaC0+
dXNicmVkaXJob3N0KSB7Cj4gLSAgICAgICAgdXNicmVkaXJob3N0X3NldF9idWZmZXJlZF9vdXRw
dXRfc2l6ZV9jYihjaC0+dXNicmVkaXJob3N0LAo+IHVzYnJlZGlyX2J1ZmZlcmVkX291dHB1dF9z
aXplX2NhbGxiYWNrKTsKPiArICAgICAgICBpZiAoY2gtPnVzYnJlZGlyaG9zdCkgewo+ICsgICAg
ICAgICAgICB1c2JyZWRpcmhvc3Rfc2V0X2J1ZmZlcmVkX291dHB1dF9zaXplX2NiKGNoLT51c2Jy
ZWRpcmhvc3QsCj4gdXNicmVkaXJfYnVmZmVyZWRfb3V0cHV0X3NpemVfY2FsbGJhY2spOwo+ICsg
ICAgICAgICAgICAvLyBmb3JjZSBmbHVzaCBvZiBIRUxMTyBwYWNrZXQgYW5kIGNyZWF0aW9uIG9m
IHBhcnNlcgo+ICsgICAgICAgICAgICB1c2JyZWRpcmhvc3Rfd3JpdGVfZ3Vlc3RfZGF0YShjaC0+
dXNicmVkaXJob3N0KTsKPiArICAgICAgICB9Cj4gICAgICB9IGVsc2Ugewo+IC0gICAgICAgIGdf
ZnJlZShjaCk7Cj4gKyAgICAgICAgLy8gbm8gcGh5c2ljYWwgZGV2aWNlIHN1cHBvcnQsIG9ubHkg
ZW11bGF0ZWQsIGNyZWF0ZSB0aGUKPiArICAgICAgICAvLyBwYXJzZXIKPiArICAgICAgICBjaC0+
cGFyc2VyID0gY3JlYXRlX3BhcnNlcihjaCk7Cj4gKyAgICAgICAgaWYgKGNoLT5wYXJzZXIgIT0g
TlVMTCkgewo+ICsgICAgICAgICAgICBpbml0aWFsaXplX3BhcnNlcihjaCk7Cj4gKyAgICAgICAg
fQo+ICsgICAgfQo+ICsKPiArICAgIGlmICghY2gtPnBhcnNlcikgewo+ICsgICAgICAgIHNwaWNl
X3VzYl9iYWNrZW5kX2NoYW5uZWxfZGVsZXRlKGNoKTsKPiAgICAgICAgICBjaCA9IE5VTEw7Cj4g
ICAgICB9Cj4gIAo+IEBAIC04MjgsOSArMTAzNywxMyBAQCB2b2lkCj4gc3BpY2VfdXNiX2JhY2tl
bmRfY2hhbm5lbF9kZWxldGUoU3BpY2VVc2JCYWNrZW5kQ2hhbm5lbCAqY2gpCj4gICAgICBpZiAo
Y2gtPnVzYnJlZGlyaG9zdCkgewo+ICAgICAgICAgIHVzYnJlZGlyaG9zdF9jbG9zZShjaC0+dXNi
cmVkaXJob3N0KTsKPiAgICAgIH0KPiArICAgIGlmIChjaC0+cGFyc2VyKSB7Cj4gKyAgICAgICAg
dXNicmVkaXJwYXJzZXJfZGVzdHJveShjaC0+cGFyc2VyKTsKPiArICAgIH0KPiAgCj4gICAgICBp
ZiAoY2gtPnJ1bGVzKSB7Cj4gLSAgICAgICAgZ19mcmVlKGNoLT5ydWxlcyk7Cj4gKyAgICAgICAg
LyogcnVsZXMgd2VyZSBhbGxvY2F0ZWQgYnkgdXNicmVkaXJwYXJzZXIgKi8KPiArICAgICAgICBm
cmVlKGNoLT5ydWxlcyk7Cj4gICAgICB9Cj4gIAo+ICAgICAgZ19mcmVlKGNoKTsKCkZpbmUgZm9y
IG1lLCBJIHdvdWxkIHdhaXQgWXVyaSBvcGluaW9uIChvbiBtZXJnaW5nIG15IGNoYW5nZXMgYW5k
CnNwbGl0IHRoaXMgcGF0Y2gsIHNhbWUgY29tbWVudCBmb3IgbmV4dCBwYXRjaCkuCgpGcmVkaWFu
bwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpTcGljZS1k
ZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBz
Oi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
