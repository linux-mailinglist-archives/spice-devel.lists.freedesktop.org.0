Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id AB7526E492
	for <lists+spice-devel@lfdr.de>; Fri, 19 Jul 2019 12:54:57 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 25AB46E7FD;
	Fri, 19 Jul 2019 10:54:56 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 34DD76E7FD
 for <spice-devel@lists.freedesktop.org>; Fri, 19 Jul 2019 10:54:54 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx07.intmail.prod.int.phx2.redhat.com
 [10.5.11.22])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 7456C88319;
 Fri, 19 Jul 2019 10:54:53 +0000 (UTC)
Received: from fziglio.remote.csb (unknown [10.33.32.14])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 5267010190D5;
 Fri, 19 Jul 2019 10:54:49 +0000 (UTC)
From: Frediano Ziglio <fziglio@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Fri, 19 Jul 2019 11:54:44 +0100
Message-Id: <20190719105444.7537-1-fziglio@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.84 on 10.5.11.22
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.28]); Fri, 19 Jul 2019 10:54:53 +0000 (UTC)
Subject: [Spice-devel] [PATCH vd_agent_linux] device-info: remove
 g_list_length() on compare_addresses()
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Victor Toso <me@victortoso.com>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

RnJvbTogVmljdG9yIFRvc28gPG1lQHZpY3RvcnRvc28uY29tPgoKVGhlIGdfbGlzdF9sZW5ndGgo
KSBmdW5jdGlvbiBkb2VzIGl0ZXJhdGUgb3ZlciBib3RoIGxpc3RzIHRvIGNvbXBhcmUKaXRzIGxl
bmd0aC4gQ29uc2lkZXJpbmcgdGhhdCB3ZSB1c2UgdGhpcyB0byBjaGVjayBmb3IgdHJ1ZS9mYWxz
ZSBhbmQKd2Ugd2lsbCBpdGVyYXRlIGFnYWluIG9uIGJvdGggbGlzdHMsIHdlIGNhbiBkbyBzbyBv
bmNlLgoKVGhpcyBzaG91bGQgYWxzbyBhdm9pZCBjb3ZzY2FuL2NsYW5nIHdhcm5pbmdzOgoKIHwg
c3BpY2UtdmRhZ2VudC0wLjE5LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzoyMTY6Mjc6IHdh
cm5pbmc6IEFjY2VzcyB0byBmaWVsZCAnZGF0YScgcmVzdWx0cyBpbiBhIGRlcmVmZXJlbmNlIG9m
IGEgbnVsbCBwb2ludGVyIChsb2FkZWQgZnJvbSB2YXJpYWJsZSAnbGInKQogfCAjICAgICAgICBQ
Y2lEZXZpY2UgKmRldmIgPSBsYi0+ZGF0YTsKIHwgIyAgICAgICAgICAgICAgICAgICAgICAgICAg
XgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjM5Nzo1
OiBub3RlOiBUYWtpbmcgZmFsc2UgYnJhbmNoCiB8ICMgICAgaWYgKCF1c2VyX3BjaV9hZGRyKSB7
CiB8ICMgICAgXgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5m
by5jOjQwNzoyMjogbm90ZTogQ2FsbGluZyAnZmluZF9kZXZpY2VfYXRfcGNpX2FkZHJlc3MnCiB8
ICMgICAgY2hhciAqZGV2X3BhdGggPSBmaW5kX2RldmljZV9hdF9wY2lfYWRkcmVzcyh1c2VyX3Bj
aV9hZGRyLCAmdmVuZG9yX2lkLCAmZGV2aWNlX2lkKTsKIHwgIyAgICAgICAgICAgICAgICAgICAg
IF5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+
fn5+fn5+fn5+CiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZv
LmM6MzI5OjU6IG5vdGU6IFRha2luZyB0cnVlIGJyYW5jaAogfCAjICAgIGdfcmV0dXJuX3ZhbF9p
Zl9mYWlsKHBjaV9hZGRyICE9IE5VTEwsIE5VTEwpOwogfCAjICAgIF4KIHwgL3Vzci9pbmNsdWRl
L2dsaWItMi4wL2dsaWIvZ21lc3NhZ2VzLmg6NTk0Ojk6IG5vdGU6IGV4cGFuZGVkIGZyb20gbWFj
cm8gJ2dfcmV0dXJuX3ZhbF9pZl9mYWlsJwogfCAjICAgICBpZiBHX0xJS0VMWShleHByKSB7IH0g
ZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXAogfCAjICAgICAg
ICBeCiB8IC91c3IvaW5jbHVkZS9nbGliLTIuMC9nbGliL2dtYWNyb3MuaDozODU6NDM6IG5vdGU6
IGV4cGFuZGVkIGZyb20gbWFjcm8gJ0dfTElLRUxZJwogfCAjI2RlZmluZSBHX0xJS0VMWShleHBy
KSAoX19idWlsdGluX2V4cGVjdCAoX0dfQk9PTEVBTl9FWFBSKChleHByKSksIDEpKQogfCAjICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXgogfCAvdXNyL2luY2x1ZGUv
Z2xpYi0yLjAvZ2xpYi9nbWFjcm9zLmg6Mzc5OjQ6IG5vdGU6IGV4cGFuZGVkIGZyb20gbWFjcm8g
J19HX0JPT0xFQU5fRVhQUicKIHwgIyAgIGlmIChleHByKSAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIFwKIHwgIyAgIF4KIHwgc3BpY2UtdmRhZ2VudC0wLjE5LjAvc3JjL3ZkYWdl
bnQvZGV2aWNlLWluZm8uYzozMjk6NTogbm90ZTogVGFraW5nIHRydWUgYnJhbmNoCiB8IC91c3Iv
aW5jbHVkZS9nbGliLTIuMC9nbGliL2dtZXNzYWdlcy5oOjU5NDo2OiBub3RlOiBleHBhbmRlZCBm
cm9tIG1hY3JvICdnX3JldHVybl92YWxfaWZfZmFpbCcKIHwgIyAgICAgaWYgR19MSUtFTFkoZXhw
cikgeyB9IGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKIHwg
IyAgICAgXgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5j
OjMyOTo1OiBub3RlOiBMb29wIGNvbmRpdGlvbiBpcyBmYWxzZS4gIEV4aXRpbmcgbG9vcAogfCAv
dXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVzc2FnZXMuaDo1OTM6NDA6IG5vdGU6IGV4cGFu
ZGVkIGZyb20gbWFjcm8gJ2dfcmV0dXJuX3ZhbF9pZl9mYWlsJwogfCAjI2RlZmluZSBnX3JldHVy
bl92YWxfaWZfZmFpbChleHByLHZhbCkgIEdfU1RNVF9TVEFSVHsgICAgICAgICAgICAgICAgICAg
XAogfCAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF4KIHwgL3Vzci9p
bmNsdWRlL2dsaWItMi4wL2dsaWIvZ21hY3Jvcy5oOjM0NjoyMzogbm90ZTogZXhwYW5kZWQgZnJv
bSBtYWNybyAnR19TVE1UX1NUQVJUJwogfCAjI2RlZmluZSBHX1NUTVRfU1RBUlQgIGRvCiB8ICMg
ICAgICAgICAgICAgICAgICAgICAgXgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2Vu
dC9kZXZpY2UtaW5mby5jOjMzMDo1OiBub3RlOiBUYWtpbmcgdHJ1ZSBicmFuY2gKIHwgIyAgICBn
X3JldHVybl92YWxfaWZfZmFpbChkZXZpY2VfaWQgIT0gTlVMTCwgTlVMTCk7CiB8ICMgICAgXgog
fCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVzc2FnZXMuaDo1OTQ6OTogbm90ZTogZXhw
YW5kZWQgZnJvbSBtYWNybyAnZ19yZXR1cm5fdmFsX2lmX2ZhaWwnCiB8ICMgICAgIGlmIEdfTElL
RUxZKGV4cHIpIHsgfSBlbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBcCiB8ICMgICAgICAgIF4KIHwgL3Vzci9pbmNsdWRlL2dsaWItMi4wL2dsaWIvZ21hY3Jvcy5o
OjM4NTo0Mzogbm90ZTogZXhwYW5kZWQgZnJvbSBtYWNybyAnR19MSUtFTFknCiB8ICMjZGVmaW5l
IEdfTElLRUxZKGV4cHIpIChfX2J1aWx0aW5fZXhwZWN0IChfR19CT09MRUFOX0VYUFIoKGV4cHIp
KSwgMSkpCiB8ICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBeCiB8
IC91c3IvaW5jbHVkZS9nbGliLTIuMC9nbGliL2dtYWNyb3MuaDozNzk6NDogbm90ZTogZXhwYW5k
ZWQgZnJvbSBtYWNybyAnX0dfQk9PTEVBTl9FWFBSJwogfCAjICAgaWYgKGV4cHIpICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgXAogfCAjICAgXgogfCBzcGljZS12ZGFnZW50LTAu
MTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjMzMDo1OiBub3RlOiBUYWtpbmcgdHJ1ZSBi
cmFuY2gKIHwgL3Vzci9pbmNsdWRlL2dsaWItMi4wL2dsaWIvZ21lc3NhZ2VzLmg6NTk0OjY6IG5v
dGU6IGV4cGFuZGVkIGZyb20gbWFjcm8gJ2dfcmV0dXJuX3ZhbF9pZl9mYWlsJwogfCAjICAgICBp
ZiBHX0xJS0VMWShleHByKSB7IH0gZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgXAogfCAjICAgICBeCiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50
L2RldmljZS1pbmZvLmM6MzMwOjU6IG5vdGU6IExvb3AgY29uZGl0aW9uIGlzIGZhbHNlLiAgRXhp
dGluZyBsb29wCiB8IC91c3IvaW5jbHVkZS9nbGliLTIuMC9nbGliL2dtZXNzYWdlcy5oOjU5Mzo0
MDogbm90ZTogZXhwYW5kZWQgZnJvbSBtYWNybyAnZ19yZXR1cm5fdmFsX2lmX2ZhaWwnCiB8ICMj
ZGVmaW5lIGdfcmV0dXJuX3ZhbF9pZl9mYWlsKGV4cHIsdmFsKSAgR19TVE1UX1NUQVJUeyAgICAg
ICAgICAgICAgICAgICBcCiB8ICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgXgogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWFjcm9zLmg6MzQ2OjIzOiBub3Rl
OiBleHBhbmRlZCBmcm9tIG1hY3JvICdHX1NUTVRfU1RBUlQnCiB8ICMjZGVmaW5lIEdfU1RNVF9T
VEFSVCAgZG8KIHwgIyAgICAgICAgICAgICAgICAgICAgICBeCiB8IHNwaWNlLXZkYWdlbnQtMC4x
OS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MzMxOjU6IG5vdGU6IFRha2luZyB0cnVlIGJy
YW5jaAogfCAjICAgIGdfcmV0dXJuX3ZhbF9pZl9mYWlsKHZlbmRvcl9pZCAhPSBOVUxMLCBOVUxM
KTsKIHwgIyAgICBeCiB8IC91c3IvaW5jbHVkZS9nbGliLTIuMC9nbGliL2dtZXNzYWdlcy5oOjU5
NDo5OiBub3RlOiBleHBhbmRlZCBmcm9tIG1hY3JvICdnX3JldHVybl92YWxfaWZfZmFpbCcKIHwg
IyAgICAgaWYgR19MSUtFTFkoZXhwcikgeyB9IGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFwKIHwgIyAgICAgICAgXgogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAv
Z2xpYi9nbWFjcm9zLmg6Mzg1OjQzOiBub3RlOiBleHBhbmRlZCBmcm9tIG1hY3JvICdHX0xJS0VM
WScKIHwgIyNkZWZpbmUgR19MSUtFTFkoZXhwcikgKF9fYnVpbHRpbl9leHBlY3QgKF9HX0JPT0xF
QU5fRVhQUigoZXhwcikpLCAxKSkKIHwgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIF4KIHwgL3Vzci9pbmNsdWRlL2dsaWItMi4wL2dsaWIvZ21hY3Jvcy5oOjM3OTo0
OiBub3RlOiBleHBhbmRlZCBmcm9tIG1hY3JvICdfR19CT09MRUFOX0VYUFInCiB8ICMgICBpZiAo
ZXhwcikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiB8ICMgICBeCiB8IHNw
aWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MzMxOjU6IG5vdGU6
IFRha2luZyB0cnVlIGJyYW5jaAogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVzc2Fn
ZXMuaDo1OTQ6Njogbm90ZTogZXhwYW5kZWQgZnJvbSBtYWNybyAnZ19yZXR1cm5fdmFsX2lmX2Zh
aWwnCiB8ICMgICAgIGlmIEdfTElLRUxZKGV4cHIpIHsgfSBlbHNlICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBcCiB8ICMgICAgIF4KIHwgc3BpY2UtdmRhZ2VudC0wLjE5
LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzozMzE6NTogbm90ZTogTG9vcCBjb25kaXRpb24g
aXMgZmFsc2UuICBFeGl0aW5nIGxvb3AKIHwgL3Vzci9pbmNsdWRlL2dsaWItMi4wL2dsaWIvZ21l
c3NhZ2VzLmg6NTkzOjQwOiBub3RlOiBleHBhbmRlZCBmcm9tIG1hY3JvICdnX3JldHVybl92YWxf
aWZfZmFpbCcKIHwgIyNkZWZpbmUgZ19yZXR1cm5fdmFsX2lmX2ZhaWwoZXhwcix2YWwpICBHX1NU
TVRfU1RBUlR7ICAgICAgICAgICAgICAgICAgIFwKIHwgIyAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBeCiB8IC91c3IvaW5jbHVkZS9nbGliLTIuMC9nbGliL2dtYWNyb3Mu
aDozNDY6MjM6IG5vdGU6IGV4cGFuZGVkIGZyb20gbWFjcm8gJ0dfU1RNVF9TVEFSVCcKIHwgIyNk
ZWZpbmUgR19TVE1UX1NUQVJUICBkbwogfCAjICAgICAgICAgICAgICAgICAgICAgIF4KIHwgc3Bp
Y2UtdmRhZ2VudC0wLjE5LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzozMzQ6NTogbm90ZTog
TG9vcCBjb25kaXRpb24gaXMgdHJ1ZS4gIEVudGVyaW5nIGxvb3AgYm9keQogfCAjICAgIGZvciAo
aW50IGkgPSAwOyBpIDwgMTA7ICsraSkgewogfCAjICAgIF4KIHwgc3BpY2UtdmRhZ2VudC0wLjE5
LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzozNDA6MTM6IG5vdGU6IEFzc3VtaW5nIHRoZSBj
b25kaXRpb24gaXMgZmFsc2UKIHwgIyAgICAgICAgaWYgKHN0YXQoZGV2X3BhdGgsICZidWYpICE9
IDApIHsKIHwgIyAgICAgICAgICAgIF5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4KIHwgc3BpY2Ut
dmRhZ2VudC0wLjE5LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzozNDA6OTogbm90ZTogVGFr
aW5nIGZhbHNlIGJyYW5jaAogfCAjICAgICAgICBpZiAoc3RhdChkZXZfcGF0aCwgJmJ1ZikgIT0g
MCkgewogfCAjICAgICAgICBeCiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2Rl
dmljZS1pbmZvLmM6MzU1OjEzOiBub3RlOiBBc3N1bWluZyB0aGUgY29uZGl0aW9uIGlzIGZhbHNl
CiB8ICMgICAgICAgIGlmIChyZWFscGF0aChzeXNfcGF0aCwgZGV2aWNlX2xpbmspID09IE5VTEwp
IHsKIHwgIyAgICAgICAgICAgIF5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+
fgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjM1NTo5
OiBub3RlOiBUYWtpbmcgZmFsc2UgYnJhbmNoCiB8ICMgICAgICAgIGlmIChyZWFscGF0aChzeXNf
cGF0aCwgZGV2aWNlX2xpbmspID09IE5VTEwpIHsKIHwgIyAgICAgICAgXgogfCBzcGljZS12ZGFn
ZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjM2MTozNjogbm90ZTogQ2FsbGlu
ZyAncGFyc2VfcGNpX2FkZHJlc3NfZnJvbV9zeXNmc19wYXRoJwogfCAjICAgICAgICBQY2lBZGRy
ZXNzICpkcm1fcGNpX2FkZHIgPSBwYXJzZV9wY2lfYWRkcmVzc19mcm9tX3N5c2ZzX3BhdGgoZGV2
aWNlX2xpbmspOwogfCAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBefn5+fn5+
fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+CiB8IHNwaWNlLXZkYWdlbnQt
MC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MTI5Ojk6IG5vdGU6IEFzc3VtaW5nICdw
b3MnIGlzIG5vbi1udWxsCiB8ICMgICAgaWYgKCFwb3MpIHsKIHwgIyAgICAgICAgXn5+fgogfCBz
cGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjEyOTo1OiBub3Rl
OiBUYWtpbmcgZmFsc2UgYnJhbmNoCiB8ICMgICAgaWYgKCFwb3MpIHsKIHwgIyAgICBeCiB8IHNw
aWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MTM2Ojk6IG5vdGU6
IEFzc3VtaW5nICdwb3MnIGlzIG5vbi1udWxsCiB8ICMgICAgaWYgKCFwb3MpIHsKIHwgIyAgICAg
ICAgXn5+fgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5j
OjEzNjo1OiBub3RlOiBUYWtpbmcgZmFsc2UgYnJhbmNoCiB8ICMgICAgaWYgKCFwb3MpIHsKIHwg
IyAgICBeCiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6
MTQyOjk6IG5vdGU6IEFzc3VtaW5nICdwb3MnIGlzIG5vbi1udWxsCiB8ICMgICAgaWYgKCFwb3Mp
IHsKIHwgIyAgICAgICAgXn5+fgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9k
ZXZpY2UtaW5mby5jOjE0Mjo1OiBub3RlOiBUYWtpbmcgZmFsc2UgYnJhbmNoCiB8ICMgICAgaWYg
KCFwb3MpIHsKIHwgIyAgICBeCiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2Rl
dmljZS1pbmZvLmM6MTQ2OjI3OiBub3RlOiBDYWxsaW5nICdwY2lfYWRkcmVzc19uZXcnCiB8ICMg
ICAgUGNpQWRkcmVzcyAqYWRkcmVzcyA9IHBjaV9hZGRyZXNzX25ldygpOwogfCAjICAgICAgICAg
ICAgICAgICAgICAgICAgICBefn5+fn5+fn5+fn5+fn5+fgogfCBzcGljZS12ZGFnZW50LTAuMTku
MC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjYxOjEyOiBub3RlOiBUYWtpbmcgZmFsc2UgYnJh
bmNoCiB8ICMgICAgcmV0dXJuIGdfbmV3MChQY2lBZGRyZXNzLCAxKTsKIHwgIyAgICAgICAgICAg
XgogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVtLmg6Mjc5OjQyOiBub3RlOiBleHBh
bmRlZCBmcm9tIG1hY3JvICdnX25ldzAnCiB8ICMjZGVmaW5lIGdfbmV3MChzdHJ1Y3RfdHlwZSwg
bl9zdHJ1Y3RzKSAgICAgICAgICAgICAgICAgIF9HX05FVyAoc3RydWN0X3R5cGUsIG5fc3RydWN0
cywgbWFsbG9jMCkKIHwgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgXgogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVtLmg6MjEx
OjQ6IG5vdGU6IGV4cGFuZGVkIGZyb20gbWFjcm8gJ19HX05FVycKIHwgIyAgICAgICAgICBpZiAo
X19zID09IDEpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCiB8ICMg
ICAgICAgICAgXgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5m
by5jOjYxOjEyOiBub3RlOiBMZWZ0IHNpZGUgb2YgJyYmJyBpcyBmYWxzZQogfCAvdXNyL2luY2x1
ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVtLmg6Mjc5OjQyOiBub3RlOiBleHBhbmRlZCBmcm9tIG1hY3Jv
ICdnX25ldzAnCiB8ICMjZGVmaW5lIGdfbmV3MChzdHJ1Y3RfdHlwZSwgbl9zdHJ1Y3RzKSAgICAg
ICAgICAgICAgICAgIF9HX05FVyAoc3RydWN0X3R5cGUsIG5fc3RydWN0cywgbWFsbG9jMCkKIHwg
IyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
XgogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVtLmg6MjEzOjQwOiBub3RlOiBleHBh
bmRlZCBmcm9tIG1hY3JvICdfR19ORVcnCiB8ICMgICAgICAgICAgZWxzZSBpZiAoX19idWlsdGlu
X2NvbnN0YW50X3AgKF9fbikgJiYgICAgICAgICAgICAgICAgXAogfCAjICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF4KIHwgc3BpY2UtdmRhZ2VudC0wLjE5LjAv
c3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzo2MToxMjogbm90ZTogTnVsbCBwb2ludGVyIHZhbHVl
IHN0b3JlZCB0byBmaWVsZCAnZGV2aWNlcycKIHwgIyAgICByZXR1cm4gZ19uZXcwKFBjaUFkZHJl
c3MsIDEpOwogfCAjICAgICAgICAgICBefn5+fn5+fn5+fn5+fn5+fn5+fn4KIHwgL3Vzci9pbmNs
dWRlL2dsaWItMi4wL2dsaWIvZ21lbS5oOjI3OTo0Mjogbm90ZTogZXhwYW5kZWQgZnJvbSBtYWNy
byAnZ19uZXcwJwogfCAjI2RlZmluZSBnX25ldzAoc3RydWN0X3R5cGUsIG5fc3RydWN0cykgICAg
ICAgICAgICAgICAgICBfR19ORVcgKHN0cnVjdF90eXBlLCBuX3N0cnVjdHMsIG1hbGxvYzApCiB8
ICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
IF5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn4KIHwgL3Vzci9pbmNsdWRl
L2dsaWItMi4wL2dsaWIvZ21lbS5oOjIxNzoxMjogbm90ZTogZXhwYW5kZWQgZnJvbSBtYWNybyAn
X0dfTkVXJwogfCAjICAgICAgICAgICAgX19wID0gZ18jI2Z1bmMjI19uIChfX24sIF9fcyk7ICAg
ICAgICAgICAgICAgICAgICAgIFwKIHwgIyAgICAgICAgICAgICAgICAgIF5+fn5+fn5+fn5+fn5+
fn5+fn5+fn5+CiB8IDxzY3JhdGNoIHNwYWNlPjo3NjoxOiBub3RlOiBleHBhbmRlZCBmcm9tIGhl
cmUKIHwgI2dfbWFsbG9jMF9uCiB8ICNeCiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFn
ZW50L2RldmljZS1pbmZvLmM6MTQ2OjI3OiBub3RlOiBSZXR1cm5pbmcgZnJvbSAncGNpX2FkZHJl
c3NfbmV3JwogfCAjICAgIFBjaUFkZHJlc3MgKmFkZHJlc3MgPSBwY2lfYWRkcmVzc19uZXcoKTsK
IHwgIyAgICAgICAgICAgICAgICAgICAgICAgICAgXn5+fn5+fn5+fn5+fn5+fn4KIHwgc3BpY2Ut
dmRhZ2VudC0wLjE5LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzoxNDk6NTogbm90ZTogTG9v
cCBjb25kaXRpb24gaXMgdHJ1ZS4gIEVudGVyaW5nIGxvb3AgYm9keQogfCAjICAgIHdoaWxlIChw
b3MpIHsKIHwgIyAgICBeCiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2Rldmlj
ZS1pbmZvLmM6MTUwOjI2OiBub3RlOiBUYWtpbmcgZmFsc2UgYnJhbmNoCiB8ICMgICAgICAgIFBj
aURldmljZSAqZGV2ID0gZ19uZXcwKFBjaURldmljZSwgMSk7CiB8ICMgICAgICAgICAgICAgICAg
ICAgICAgICAgXgogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9nbWVtLmg6Mjc5OjQyOiBu
b3RlOiBleHBhbmRlZCBmcm9tIG1hY3JvICdnX25ldzAnCiB8ICMjZGVmaW5lIGdfbmV3MChzdHJ1
Y3RfdHlwZSwgbl9zdHJ1Y3RzKSAgICAgICAgICAgICAgICAgIF9HX05FVyAoc3RydWN0X3R5cGUs
IG5fc3RydWN0cywgbWFsbG9jMCkKIHwgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgXgogfCAvdXNyL2luY2x1ZGUvZ2xpYi0yLjAvZ2xpYi9n
bWVtLmg6MjExOjQ6IG5vdGU6IGV4cGFuZGVkIGZyb20gbWFjcm8gJ19HX05FVycKIHwgIyAgICAg
ICAgICBpZiAoX19zID09IDEpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBcCiB8ICMgICAgICAgICAgXgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9k
ZXZpY2UtaW5mby5jOjE1MDoyNjogbm90ZTogTGVmdCBzaWRlIG9mICcmJicgaXMgZmFsc2UKIHwg
L3Vzci9pbmNsdWRlL2dsaWItMi4wL2dsaWIvZ21lbS5oOjI3OTo0Mjogbm90ZTogZXhwYW5kZWQg
ZnJvbSBtYWNybyAnZ19uZXcwJwogfCAjI2RlZmluZSBnX25ldzAoc3RydWN0X3R5cGUsIG5fc3Ry
dWN0cykgICAgICAgICAgICAgICAgICBfR19ORVcgKHN0cnVjdF90eXBlLCBuX3N0cnVjdHMsIG1h
bGxvYzApCiB8ICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIF4KIHwgL3Vzci9pbmNsdWRlL2dsaWItMi4wL2dsaWIvZ21lbS5oOjIxMzo0MDog
bm90ZTogZXhwYW5kZWQgZnJvbSBtYWNybyAnX0dfTkVXJwogfCAjICAgICAgICAgIGVsc2UgaWYg
KF9fYnVpbHRpbl9jb25zdGFudF9wIChfX24pICYmICAgICAgICAgICAgICAgIFwKIHwgIyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBeCiB8IHNwaWNlLXZkYWdl
bnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MTUyOjk6IG5vdGU6IFRha2luZyB0
cnVlIGJyYW5jaAogfCAjICAgICAgICBpZiAoIXBhcnNlX3BjaV9kZXZpY2UocG9zICsgMSwgbmV4
dCwgZGV2KSkgewogfCAjICAgICAgICBeCiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFn
ZW50L2RldmljZS1pbmZvLmM6MTU0OjEzOiBub3RlOiAgRXhlY3V0aW9uIGNvbnRpbnVlcyBvbiBs
aW5lIDE1OQogfCAjICAgICAgICAgICAgYnJlYWs7CiB8ICMgICAgICAgICAgICBeCiB8IHNwaWNl
LXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MzYxOjM2OiBub3RlOiBS
ZXR1cm5pbmcgZnJvbSAncGFyc2VfcGNpX2FkZHJlc3NfZnJvbV9zeXNmc19wYXRoJwogfCAjICAg
ICAgICBQY2lBZGRyZXNzICpkcm1fcGNpX2FkZHIgPSBwYXJzZV9wY2lfYWRkcmVzc19mcm9tX3N5
c2ZzX3BhdGgoZGV2aWNlX2xpbmspOwogfCAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBefn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+CiB8IHNw
aWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MzYyOjk6IG5vdGU6
IFRha2luZyBmYWxzZSBicmFuY2gKIHwgIyAgICAgICAgaWYgKCFkcm1fcGNpX2FkZHIpIHsKIHwg
IyAgICAgICAgXgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5m
by5jOjM2NzoxNDogbm90ZTogQ2FsbGluZyAnY29tcGFyZV9hZGRyZXNzZXMnCiB8ICMgICAgICAg
IGlmICghY29tcGFyZV9hZGRyZXNzZXMocGNpX2FkZHIsIGRybV9wY2lfYWRkcikpIHsKIHwgIyAg
ICAgICAgICAgICBefn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fgogfCBz
cGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjIwNzoxMTogbm90
ZTogQXNzdW1pbmcgdGhlIGNvbmRpdGlvbiBpcyB0cnVlCiB8ICMgICAgaWYgKCEoYS0+ZG9tYWlu
ID09IGItPmRvbWFpbgogfCAjICAgICAgICAgIF5+fn5+fn5+fn5+fn5+fn5+fn5+fn4KIHwgc3Bp
Y2UtdmRhZ2VudC0wLjE5LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzoyMDc6MTE6IG5vdGU6
IExlZnQgc2lkZSBvZiAnJiYnIGlzIHRydWUKIHwgc3BpY2UtdmRhZ2VudC0wLjE5LjAvc3JjL3Zk
YWdlbnQvZGV2aWNlLWluZm8uYzoyMDg6MTI6IG5vdGU6IEFzc3VtaW5nIHRoZSBjb25kaXRpb24g
aXMgdHJ1ZQogfCAjICAgICAgICAmJiBnX2xpc3RfbGVuZ3RoKGEtPmRldmljZXMpID09IGdfbGlz
dF9sZW5ndGgoYi0+ZGV2aWNlcykpKSB7CiB8ICMgICAgICAgICAgIF5+fn5+fn5+fn5+fn5+fn5+
fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fgogfCBzcGljZS12ZGFnZW50LTAu
MTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjIwNzo1OiBub3RlOiBUYWtpbmcgZmFsc2Ug
YnJhbmNoCiB8ICMgICAgaWYgKCEoYS0+ZG9tYWluID09IGItPmRvbWFpbgogfCAjICAgIF4KIHwg
c3BpY2UtdmRhZ2VudC0wLjE5LjAvc3JjL3ZkYWdlbnQvZGV2aWNlLWluZm8uYzoyMTI6MzU6IG5v
dGU6ICdsYicgaW5pdGlhbGl6ZWQgdG8gYSBudWxsIHBvaW50ZXIgdmFsdWUKIHwgIyAgICBmb3Ig
KEdMaXN0ICpsYSA9IGEtPmRldmljZXMsICpsYiA9IGItPmRldmljZXM7CiB8ICMgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgXn4KIHwgc3BpY2UtdmRhZ2VudC0wLjE5LjAvc3JjL3Zk
YWdlbnQvZGV2aWNlLWluZm8uYzoyMTM6MTA6IG5vdGU6IEFzc3VtaW5nICdsYScgaXMgbm90IGVx
dWFsIHRvIE5VTEwKIHwgIyAgICAgICAgIGxhICE9IE5VTEw7CiB8ICMgICAgICAgICBefn5+fn5+
fn5+CiB8IHNwaWNlLXZkYWdlbnQtMC4xOS4wL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmM6MjEy
OjU6IG5vdGU6IExvb3AgY29uZGl0aW9uIGlzIHRydWUuICBFbnRlcmluZyBsb29wIGJvZHkKIHwg
IyAgICBmb3IgKEdMaXN0ICpsYSA9IGEtPmRldmljZXMsICpsYiA9IGItPmRldmljZXM7CiB8ICMg
ICAgXgogfCBzcGljZS12ZGFnZW50LTAuMTkuMC9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jOjIx
NjoyNzogbm90ZTogQWNjZXNzIHRvIGZpZWxkICdkYXRhJyByZXN1bHRzIGluIGEgZGVyZWZlcmVu
Y2Ugb2YgYSBudWxsIHBvaW50ZXIgKGxvYWRlZCBmcm9tIHZhcmlhYmxlICdsYicpCiB8ICMgICAg
ICAgIFBjaURldmljZSAqZGV2YiA9IGxiLT5kYXRhOwogfCAjICAgICAgICAgICAgICAgICAgICAg
ICAgICBefgogfCAjICAyMTR8ICAgICAgICAgICAgbGEgPSBsYS0+bmV4dCwgbGIgPSBsYi0+bmV4
dCkgewogfCAjICAyMTV8ICAgICAgICAgICBQY2lEZXZpY2UgKmRldmEgPSBsYS0+ZGF0YTsKIHwg
IyAgMjE2fC0+ICAgICAgICAgUGNpRGV2aWNlICpkZXZiID0gbGItPmRhdGE7CiB8ICMgIDIxN3wK
IHwgIyAgMjE4fCAgICAgICAgICAgaWYgKGRldmEtPnNsb3QgIT0gZGV2Yi0+c2xvdAoKU2lnbmVk
LW9mZi1ieTogVmljdG9yIFRvc28gPHZpY3RvcnRvc29AcmVkaGF0LmNvbT4KLS0tCiBzcmMvdmRh
Z2VudC9kZXZpY2UtaW5mby5jIHwgMTIgKysrKysrKy0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgNyBp
bnNlcnRpb25zKCspLCA1IGRlbGV0aW9ucygtKQoKZGlmZiAtLWdpdCBhL3NyYy92ZGFnZW50L2Rl
dmljZS1pbmZvLmMgYi9zcmMvdmRhZ2VudC9kZXZpY2UtaW5mby5jCmluZGV4IDQ5ODM1NDMuLjZi
MGUyOGYgMTAwNjQ0Ci0tLSBhL3NyYy92ZGFnZW50L2RldmljZS1pbmZvLmMKKysrIGIvc3JjL3Zk
YWdlbnQvZGV2aWNlLWluZm8uYwpAQCAtMjA0LDEzICsyMDQsMTMgQEAgc3RhdGljIFBjaUFkZHJl
c3MqIHBhcnNlX3BjaV9hZGRyZXNzX2Zyb21fc3BpY2UoY2hhciAqaW5wdXQpCiBzdGF0aWMgYm9v
bCBjb21wYXJlX2FkZHJlc3NlcyhQY2lBZGRyZXNzICphLCBQY2lBZGRyZXNzICpiKQogewogICAg
IC8vIG9ubHkgY2hlY2sgZG9tYWluLCBzbG90LCBhbmQgZnVuY3Rpb24KLSAgICBpZiAoIShhLT5k
b21haW4gPT0gYi0+ZG9tYWluCi0gICAgICAgICYmIGdfbGlzdF9sZW5ndGgoYS0+ZGV2aWNlcykg
PT0gZ19saXN0X2xlbmd0aChiLT5kZXZpY2VzKSkpIHsKKyAgICBpZiAoYS0+ZG9tYWluICE9IGIt
PmRvbWFpbikgewogICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgfQogCi0gICAgZm9yIChHTGlz
dCAqbGEgPSBhLT5kZXZpY2VzLCAqbGIgPSBiLT5kZXZpY2VzOwotICAgICAgICAgbGEgIT0gTlVM
TDsKKyAgICBjb25zdCBHTGlzdCAqbGEsICpsYjsKKyAgICBmb3IgKGxhID0gYS0+ZGV2aWNlcywg
bGIgPSBiLT5kZXZpY2VzOworICAgICAgICAgbGEgIT0gTlVMTCAmJiBsYiAhPSBOVUxMOwogICAg
ICAgICAgbGEgPSBsYS0+bmV4dCwgbGIgPSBsYi0+bmV4dCkgewogICAgICAgICBQY2lEZXZpY2Ug
KmRldmEgPSBsYS0+ZGF0YTsKICAgICAgICAgUGNpRGV2aWNlICpkZXZiID0gbGItPmRhdGE7CkBA
IC0yMjAsNyArMjIwLDkgQEAgc3RhdGljIGJvb2wgY29tcGFyZV9hZGRyZXNzZXMoUGNpQWRkcmVz
cyAqYSwgUGNpQWRkcmVzcyAqYikKICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAg
fQogICAgIH0KLSAgICByZXR1cm4gdHJ1ZTsKKworICAgIC8qIFRydWUgb25seSBpZiBib3RoIGhh
dmUgdGhlIHNhbWUgbGVuZ3RoICovCisgICAgcmV0dXJuIChsYSA9PSBOVUxMICYmIGxiID09IE5V
TEwpOwogfQogCiAvLyBDb25uZWN0b3IgdHlwZSBuYW1lcyBmcm9tIHhvcmcgbW9kZXNldHRpbmcg
ZHJpdmVyCi0tIAoyLjIwLjEKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVl
ZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5m
by9zcGljZS1kZXZlbA==
