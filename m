Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 725B74E111
	for <lists+spice-devel@lfdr.de>; Fri, 21 Jun 2019 09:17:01 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id EAD0A6E816;
	Fri, 21 Jun 2019 07:16:59 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 0CA376E816
 for <spice-devel@lists.freedesktop.org>; Fri, 21 Jun 2019 07:16:59 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx02.intmail.prod.int.phx2.redhat.com
 [10.5.11.12])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id AB9726EB8A;
 Fri, 21 Jun 2019 07:16:52 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx02.intmail.prod.int.phx2.redhat.com [10.5.11.21])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 8DBE060BEC;
 Fri, 21 Jun 2019 07:16:52 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 995E924F19;
 Fri, 21 Jun 2019 07:16:50 +0000 (UTC)
Date: Fri, 21 Jun 2019 03:16:48 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Kevin Pouget <kpouget@redhat.com>
Message-ID: <2139720774.23871724.1561101408712.JavaMail.zimbra@redhat.com>
In-Reply-To: <CADJ1XR3fh0cyOerSM8VQkpde6cHLb8WccP05Rwr7xWMOK59rog@mail.gmail.com>
References: <20190619123042.4822-1-kpouget@redhat.com>
 <e9fcdbfd-cde2-fc91-ce1d-6bfe06d39c4f@redhat.com>
 <CADJ1XR3fh0cyOerSM8VQkpde6cHLb8WccP05Rwr7xWMOK59rog@mail.gmail.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.12, 10.4.195.28]
Thread-Topic: spice-core: allow setting properties from QMP
Thread-Index: JcZm5h4xS1Mxjqqfp/uZaSyKbIHTxQ==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.12
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.25]); Fri, 21 Jun 2019 07:16:57 +0000 (UTC)
Subject: Re: [Spice-devel] [Qemu-devel] [RFC] spice-core: allow setting
 properties from QMP
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org, Eric Blake <eblake@redhat.com>,
 qemu-devel@nongnu.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBIZWxsbyBFcmljLAo+IAo+ID4gQSBuZXcgY29tbWFuZCBtYXkgYmUgb2theSwgaG93ZXZl
ciwKPiAKPiB0aGFua3MsIEkndmUgZml4IHRoZSB0eXBvcyBhbmQgdXBkYXRlZCB0aGUgcGF0Y2gg
dG8gdXNlIGFuIEVudW0sIHdoaWNoCj4gaW5kZWVkIG1ha2VzIG1vcmUgc2Vuc2UuCj4gCj4gSSd2
ZSBhbHNvIHVwZGF0ZWQgInNwaWNlLXF1ZXJ5IiBjb21tYW5kIHRvIHByb3ZpZGUgdGhlIGN1cnJl
bnQgdmFsdWUKPiBvZiB0aGUgInZpZGVvLWNvZGVjIiBwcm9wZXJ0eSwKPiBidXQgaXQgbWFkZSBt
ZSB3b25kZXIgaWYgSSBzaG91bGQgaW1wcm92ZSB0aGlzIFFNUCBpbnRlcmZhY2Ugd2l0aCBhCj4g
anNvbiBsaXN0LCBvciBrZWVwIHRoZSBjdXJyZW50IHN0cmluZy1iYXNlZCBsaXN0Cj4gKCJlbmMx
OmNvZGVjMTtlbmMyOmNvZGVjMiIpLgo+IAo+IEkgQ0MgdGhlIHNwaWNlLWRldmVsIGxpc3QgdG8g
Z2V0IHRoZWlyIHBvaW50IG9mIHZpZXcKPiAKPiBUaGUgY3VycmVudCBiZWhhdmlvciBpczoKPiAK
PiAtLT4geyAiZXhlY3V0ZSI6ICJzZXQtc3BpY2UiLCAiYXJndW1lbnRzIjogeyAicHJvcGVydHki
Ogo+ICJ2aWRlby1jb2RlY3MiLCAidmFsdWUiOiAic3BpY2U6bWpwZWc7Z3N0cmVhbWVyOmgyNjQi
IH0gfQo+IDwtLSB7InJldHVybiI6e30sImlkIjoibGlidmlydC0yMyJ9CgpJdCBsb29rcyBjb21w
bGljYXRlZCBmcm9tIHRoZSB1c2VyLiBXaHkgbm90IGp1c3QKCi0tPiB7ICJleGVjdXRlIjogInNl
dC1zcGljZSIsICJhcmd1bWVudHMiOiB7ICJ2aWRlby1jb2RlY3MiOiAic3BpY2U6bWpwZWc7Z3N0
cmVhbWVyOmgyNjQiIH0gfQoKPiAKPiAtLT4geyAiZXhlY3V0ZSI6ICJxdWVyeS1zcGljZSIgfQo+
IDwtLSB7Li4uLiAidmlkZW8tY29kZWNzIjogInNwaWNlOm1qcGVnO2dzdHJlYW1lcjpoMjY0OyIg
Li4uLn0KPiAKPiAKPiBJIHB1dCB0aGUgbmV3IHZlcnNpb24gb2YgdGhlIFJGQyBwYXRjaCBiZWxv
dwo+IAo+IGJlc3QgcmVnYXJkcywKPiAKPiBLZXZpbgo+IAo+IC0tLQo+IAo+IFRoaXMgcGF0Y2gg
YWxsb3dzIHNldHRpbmcgc3BpY2UgcHJvcGVydGllcyBmcm9tIHRoZSBRTVAgaW50ZXJmYWNlLgo+
IAo+IEF0IHRoZSBtb21lbnQsIG9ubHkgdGhlICd2aWRlby1jb2RlY3MnIHByb3BlcnR5IGlzIHN1
cHBvcnRlZC4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBLZXZpbiBQb3VnZXQgPGtwb3VnZXRAcmVkaGF0
LmNvbT4KPiAtLS0KPiAgcWFwaS91aS5qc29uICAgIHwgNDIgKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrKy0tCj4gIHVpL3NwaWNlLWNvcmUuYyB8IDIxICsrKysrKysrKysr
KysrKysrKysrKwo+ICAyIGZpbGVzIGNoYW5nZWQsIDYxIGluc2VydGlvbnMoKyksIDIgZGVsZXRp
b25zKC0pCj4gCj4gZGlmZiAtLWdpdCBhL3FhcGkvdWkuanNvbiBiL3FhcGkvdWkuanNvbgo+IGlu
ZGV4IDU5ZTQxMjEzOWEuLjVmNjcwOTZiY2IgMTAwNjQ0Cj4gLS0tIGEvcWFwaS91aS5qc29uCj4g
KysrIGIvcWFwaS91aS5qc29uCj4gQEAgLTIxMSwxMiArMjExLDE2IEBACj4gICMKPiAgIyBAY2hh
bm5lbHM6IGEgbGlzdCBvZiBAU3BpY2VDaGFubmVsIGZvciBlYWNoIGFjdGl2ZSBzcGljZSBjaGFu
bmVsCj4gICMKPiArIyBAdmlkZW8tY29kZWNzOiBUaGUgbGlzdCBvZiBlbmNvZGVyczpjb2RlY3Mg
Y3VycmVudGx5IGFsbG93ZWQgZm9yCj4gKyMgICAgICAgICAgICAgICAgdmlkZW8gc3RyZWFtaW5n
IChzaW5jZTogLi4uKQo+ICsjCj4gICMgU2luY2U6IDAuMTQuMAo+ICAjIwo+ICB7ICdzdHJ1Y3Qn
OiAnU3BpY2VJbmZvJywKPiAgICAnZGF0YSc6IHsnZW5hYmxlZCc6ICdib29sJywgJ21pZ3JhdGVk
JzogJ2Jvb2wnLCAnKmhvc3QnOiAnc3RyJywKPiAnKnBvcnQnOiAnaW50JywKPiAgICAgICAgICAg
ICAnKnRscy1wb3J0JzogJ2ludCcsICcqYXV0aCc6ICdzdHInLCAnKmNvbXBpbGVkLXZlcnNpb24n
OiAnc3RyJywKPiAtICAgICAgICAgICAnbW91c2UtbW9kZSc6ICdTcGljZVF1ZXJ5TW91c2VNb2Rl
JywgJypjaGFubmVscyc6Cj4gWydTcGljZUNoYW5uZWwnXX0sCj4gKyAgICAgICAgICAgJ21vdXNl
LW1vZGUnOiAnU3BpY2VRdWVyeU1vdXNlTW9kZScsICcqY2hhbm5lbHMnOgo+IFsnU3BpY2VDaGFu
bmVsJ10sCj4gKyAgICAgICAgICAgJ3ZpZGVvLWNvZGVjcyc6ICdzdHInfSwKPiAgICAnaWYnOiAn
ZGVmaW5lZChDT05GSUdfU1BJQ0UpJyB9Cj4gCj4gICMjCj4gQEAgLTI1Nyw3ICsyNjEsOCBAQAo+
ICAjICAgICAgICAgICAgICAgICJ0bHMiOiBmYWxzZQo+ICAjICAgICAgICAgICAgIH0sCj4gICMg
ICAgICAgICAgICAgWyAuLi4gbW9yZSBjaGFubmVscyBmb2xsb3cgLi4uIF0KPiAtIyAgICAgICAg
ICBdCj4gKyMgICAgICAgICAgXSwKPiArIyAgICAgICAgICAidmlkZW8tY29kZWNzIjogInNwaWNl
Om1qcGVnO2dzdHJlYW1lcjpoMjY0OyIKPiAgIyAgICAgICB9Cj4gICMgICAgfQo+ICAjCj4gQEAg
LTI2NSw2ICsyNzAsMzkgQEAKPiAgeyAnY29tbWFuZCc6ICdxdWVyeS1zcGljZScsICdyZXR1cm5z
JzogJ1NwaWNlSW5mbycsCj4gICAgJ2lmJzogJ2RlZmluZWQoQ09ORklHX1NQSUNFKScgfQo+IAo+
ICsjIwo+ICsjIEBTcGljZVByb3BlcnR5Ogo+ICsjCj4gKyMgQW4gZW51bWVyYXRpb24gb2YgU3Bp
Y2UgcHJvcGVydGllcyB0aGF0IGNhbiBiZSBzZXQgYXQgcnVudGltZS4KPiArIwo+ICsjIEB2aWRl
by1jb2RlY3M6IHRoZSA7LXNlcGFyYXRlZCBsaXN0IG9mIHZpZGVvLWNvZGVjcyBhbGxvd2VkIGZv
cgo+ICsjIHNwaWNlLXNlcnZlciB2aWRlbyBzdHJlYW1pbmcuCj4gKyMKPiArIyBTaW5jZTogLi4u
Cj4gKyMjCj4gK3sgJ2VudW0nOiAnU3BpY2VQcm9wZXJ0eScsCj4gKyAgJ2RhdGEnOiBbICd2aWRl
by1jb2RlY3MnXSwKPiArICAnaWYnOiAnZGVmaW5lZChDT05GSUdfU1BJQ0UpJyB9Cj4gKwo+ICsj
Iwo+ICsjIEBzZXQtc3BpY2U6Cj4gKyMKPiArIyBTZXQgU3BpY2UgcHJvcGVydGllcy4KPiArIyBA
cHJvcGVydHk6IHRoZSBTUElDRSBwcm9wZXJ0eSB0byBtb2RpZnkKPiArIyBAdmFsdWU6IHRoZSBu
ZXcgdmFsdWUgdG8gYWZmZWN0IHRvIHRoaXMgcHJvcGVydHkKPiArIwo+ICsjIFNpbmNlOiAuLi4K
PiArIwo+ICsjIEV4YW1wbGU6Cj4gKyMKPiArIyAtPiB7ICJleGVjdXRlIjogInNldC1zcGljZSIs
ICJhcmd1bWVudHMiOiB7ICJwcm9wZXJ0eSI6ICJ2aWRlby1jb2RlY3MiLAo+ICsjICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgInZhbHVlIjogInNwaWNlOm1qcGVn
OyIgfSB9Cj4gKyMgPC0geyAicmV0dXJucyI6IHt9IH0KPiArIyMKPiAreyAnY29tbWFuZCc6ICdz
ZXQtc3BpY2UnLAo+ICsgICdkYXRhJzogeydwcm9wZXJ0eSc6ICdTcGljZVByb3BlcnR5JywgJ3Zh
bHVlJzogJ3N0cid9LAo+ICsgICdpZic6ICdkZWZpbmVkKENPTkZJR19TUElDRSknIH0KPiArCj4g
ICMjCj4gICMgQFNQSUNFX0NPTk5FQ1RFRDoKPiAgIwo+IGRpZmYgLS1naXQgYS91aS9zcGljZS1j
b3JlLmMgYi91aS9zcGljZS1jb3JlLmMKPiBpbmRleCA2M2U4Njk0ZGY4Li4xNjYwZjQ5ZjE1IDEw
MDY0NAo+IC0tLSBhL3VpL3NwaWNlLWNvcmUuYwo+ICsrKyBiL3VpL3NwaWNlLWNvcmUuYwo+IEBA
IC01MDYsNiArNTA2LDI1IEBAIHN0YXRpYyBRZW11T3B0c0xpc3QgcWVtdV9zcGljZV9vcHRzID0g
ewo+ICAgICAgfSwKPiAgfTsKPiAKPiArdm9pZCBxbXBfc2V0X3NwaWNlKFNwaWNlUHJvcGVydHkg
cHJvcGVydHksIGNvbnN0IGNoYXIgKnZhbHVlLCBFcnJvciAqKmVycnApCj4gK3sKPiArICAgIGlu
dCBpbnZhbGlkX2NvZGVjczsKPiArCj4gKyAgICBzd2l0Y2gocHJvcGVydHkpIHsKPiArICAgIGNh
c2UgU1BJQ0VfUFJPUEVSVFlfVklERU9fQ09ERUNTOgo+ICsgICAgICAgIGludmFsaWRfY29kZWNz
ID0gc3BpY2Vfc2VydmVyX3NldF92aWRlb19jb2RlY3Moc3BpY2Vfc2VydmVyLCB2YWx1ZSk7Cj4g
Kwo+ICsgICAgICAgIGlmIChpbnZhbGlkX2NvZGVjcykgewo+ICsgICAgICAgICAgICBlcnJvcl9z
ZXRnKGVycnAsICJGb3VuZCAlZCBpbnZhbGlkIHZpZGVvLWNvZGVjcyB3aGlsZQo+IHNldHRpbmcg
c3BpY2UiCj4gKyAgICAgICAgICAgICAgICAgICAgICAgIiBwcm9wZXJ0eSAndmlkZW8tY29kZWM9
JXMnIiwgaW52YWxpZF9jb2RlY3MsIHZhbHVlKTsKPiArICAgICAgICB9Cj4gKyAgICAgICAgYnJl
YWs7Cj4gKyAgICBkZWZhdWx0Ogo+ICsgICAgICAgIC8qIG9ubHkgcmVhY2hlZCBpbiBjYXNlIG9m
IHZlcnNpb24gbWlzbWF0Y2hlZCAqLwo+ICsgICAgICAgIGVycm9yX3NldGcoZXJycCwgIlByb3Bl
cnR5ICMlZCBub3Qgc3VwcG9ydGVkLiIsIHByb3BlcnR5KTsKPiArICAgIH0KPiArfQo+ICsKPiAg
U3BpY2VJbmZvICpxbXBfcXVlcnlfc3BpY2UoRXJyb3IgKiplcnJwKQo+ICB7Cj4gICAgICBRZW11
T3B0cyAqb3B0cyA9IFFUQUlMUV9GSVJTVCgmcWVtdV9zcGljZV9vcHRzLmhlYWQpOwo+IEBAIC01
NTUsNiArNTc0LDggQEAgU3BpY2VJbmZvICpxbXBfcXVlcnlfc3BpY2UoRXJyb3IgKiplcnJwKQo+
ICAgICAgICAgICAgICAgICAgICAgICAgIFNQSUNFX1FVRVJZX01PVVNFX01PREVfU0VSVkVSIDoK
PiAgICAgICAgICAgICAgICAgICAgICAgICBTUElDRV9RVUVSWV9NT1VTRV9NT0RFX0NMSUVOVDsK
PiAKPiArICAgIGluZm8tPnZpZGVvX2NvZGVjcyA9IHNwaWNlX3NlcnZlcl9nZXRfdmlkZW9fY29k
ZWNzKHNwaWNlX3NlcnZlcik7Cj4gKwo+ICAgICAgLyogZm9yIGNvbXBhdGliaWxpdHkgd2l0aCB0
aGUgb3JpZ2luYWwgY29tbWFuZCAqLwo+ICAgICAgaW5mby0+aGFzX2NoYW5uZWxzID0gdHJ1ZTsK
PiAgICAgIGluZm8tPmNoYW5uZWxzID0gcW1wX3F1ZXJ5X3NwaWNlX2NoYW5uZWxzKCk7Cj4gLS0K
PiAyLjIxLjAKPiAKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0ClNwaWNlLWRldmVsQGxpc3RzLmZyZWVkZXNr
dG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3Nw
aWNlLWRldmVs
