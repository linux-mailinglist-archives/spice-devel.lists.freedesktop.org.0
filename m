Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 09E35119B7
	for <lists+spice-devel@lfdr.de>; Thu,  2 May 2019 15:06:25 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id A0814894D4;
	Thu,  2 May 2019 13:06:23 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 31003894D4
 for <spice-devel@lists.freedesktop.org>; Thu,  2 May 2019 13:06:22 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx04.intmail.prod.int.phx2.redhat.com
 [10.5.11.14])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id CDC58307D98D
 for <spice-devel@lists.freedesktop.org>; Thu,  2 May 2019 13:06:21 +0000 (UTC)
Received: from lub.tlv (dhcp-4-231.tlv.redhat.com [10.35.4.231])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 0C7735DA34;
 Thu,  2 May 2019 13:06:20 +0000 (UTC)
To: Frediano Ziglio <fziglio@redhat.com>, spice-devel@lists.freedesktop.org
References: <20190502111339.27405-1-fziglio@redhat.com>
 <20190502111339.27405-3-fziglio@redhat.com>
From: Uri Lublin <uril@redhat.com>
Organization: Red Hat
Message-ID: <c4838ec9-4f50-2509-f5b9-803ca3a38312@redhat.com>
Date: Thu, 2 May 2019 16:06:19 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190502111339.27405-3-fziglio@redhat.com>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.14
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.48]); Thu, 02 May 2019 13:06:21 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-streaming-agent v3 2/2] Add support
 log logging statistics from plugins
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: uril@redhat.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gNS8yLzE5IDI6MTMgUE0sIEZyZWRpYW5vIFppZ2xpbyB3cm90ZToKPiBBbGxvd3MgdGhlIHBs
dWdpbnMgdG8gYWRkIGluZm9ybWF0aW9uIHRvIHRoZSBsb2cuCj4gCj4gU2lnbmVkLW9mZi1ieTog
RnJlZGlhbm8gWmlnbGlvIDxmemlnbGlvQHJlZGhhdC5jb20+CgpBY2tlZC1ieTogVXJpIEx1Ymxp
biA8dXJpbEByZWRoYXQuY29tPgoKVXJpLgoKPiAtLS0KPiAgIGluY2x1ZGUvc3BpY2Utc3RyZWFt
aW5nLWFnZW50L3BsdWdpbi5ocHAgfCAgNyArKysrKystCj4gICBzcmMvY29uY3JldGUtYWdlbnQu
Y3BwICAgICAgICAgICAgICAgICAgIHwgMjEgKysrKysrKysrKysrKysrKystLS0tCj4gICBzcmMv
Y29uY3JldGUtYWdlbnQuaHBwICAgICAgICAgICAgICAgICAgIHwgIDggKysrKysrKy0KPiAgIHNy
Yy9mcmFtZS1sb2cuY3BwICAgICAgICAgICAgICAgICAgICAgICAgfCAxMSArKysrKysrKy0tLQo+
ICAgc3JjL2ZyYW1lLWxvZy5ocHAgICAgICAgICAgICAgICAgICAgICAgICB8ICAyICsrCj4gICBz
cmMvc3BpY2Utc3RyZWFtaW5nLWFnZW50LmNwcCAgICAgICAgICAgIHwgIDYgKysrLS0tCj4gICA2
IGZpbGVzIGNoYW5nZWQsIDQzIGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9ucygtKQo+IAo+IGRp
ZmYgLS1naXQgYS9pbmNsdWRlL3NwaWNlLXN0cmVhbWluZy1hZ2VudC9wbHVnaW4uaHBwIGIvaW5j
bHVkZS9zcGljZS1zdHJlYW1pbmctYWdlbnQvcGx1Z2luLmhwcAo+IGluZGV4IDNiMjY1ZDkuLjg4
Y2I3ZjIgMTAwNjQ0Cj4gLS0tIGEvaW5jbHVkZS9zcGljZS1zdHJlYW1pbmctYWdlbnQvcGx1Z2lu
LmhwcAo+ICsrKyBiL2luY2x1ZGUvc3BpY2Utc3RyZWFtaW5nLWFnZW50L3BsdWdpbi5ocHAKPiBA
QCAtMjgsNyArMjgsNyBAQCBjbGFzcyBGcmFtZUNhcHR1cmU7Cj4gICAgKiB3aGVyZSBNTSBpcyBt
YWpvciBhbmQgbW0gaXMgdGhlIG1pbm9yLCBjYW4gYmUgZWFzaWx5IGV4cGFuZGVkCj4gICAgKiB1
c2luZyBtb3JlIGJpdHMgaW4gdGhlIGZ1dHVyZQo+ICAgICovCj4gLWVudW0gQ29uc3RhbnRzIDog
dW5zaWduZWQgeyBQbHVnaW5WZXJzaW9uID0gMHgxMDB1IH07Cj4gK2VudW0gQ29uc3RhbnRzIDog
dW5zaWduZWQgeyBQbHVnaW5WZXJzaW9uID0gMHgxMDF1IH07Cj4gICAKPiAgIGVudW0gUmFua3Mg
OiB1bnNpZ25lZCB7Cj4gICAgICAgLy8vIHRoaXMgcGx1Z2luIHNob3VsZCBub3QgYmUgdXNlZAo+
IEBAIC0xMTYsNiArMTE2LDExIEBAIHB1YmxpYzoKPiAgICAgICAgKiBcdG9kbyBwYXNzaW5nIG9w
dGlvbnMgdG8gZW50cnkgcG9pbnQgaW5zdGVhZD8KPiAgICAgICAgKi8KPiAgICAgICB2aXJ0dWFs
IGNvbnN0IENvbmZpZ3VyZU9wdGlvbiogT3B0aW9ucygpIGNvbnN0ID0gMDsKPiArICAgIC8qIQo+
ICsgICAgICogV3JpdGUgc29tZXRoaW5nIGluIHRoZSBsb2cuCj4gKyAgICAgKi8KPiArICAgIF9f
YXR0cmlidXRlX18gKChmb3JtYXQgKHByaW50ZiwgMiwgMykpKQo+ICsgICAgdmlydHVhbCB2b2lk
IExvZ1N0YXQoY29uc3QgY2hhciogZm9ybWF0LCAuLi4pID0gMDsKPiAgIH07Cj4gICAKPiAgIHR5
cGVkZWYgYm9vbCBQbHVnaW5Jbml0RnVuYyhzcGljZTo6c3RyZWFtaW5nX2FnZW50OjpBZ2VudCog
YWdlbnQpOwo+IGRpZmYgLS1naXQgYS9zcmMvY29uY3JldGUtYWdlbnQuY3BwIGIvc3JjL2NvbmNy
ZXRlLWFnZW50LmNwcAo+IGluZGV4IGZiMTQxMmIuLjMzNmJkMDkgMTAwNjQ0Cj4gLS0tIGEvc3Jj
L2NvbmNyZXRlLWFnZW50LmNwcAo+ICsrKyBiL3NyYy9jb25jcmV0ZS1hZ2VudC5jcHAKPiBAQCAt
NSwxMyArNSwxNSBAQAo+ICAgICovCj4gICAKPiAgICNpbmNsdWRlIDxjb25maWcuaD4KPiArI2lu
Y2x1ZGUgImNvbmNyZXRlLWFnZW50LmhwcCIKPiArI2luY2x1ZGUgImZyYW1lLWxvZy5ocHAiCj4g
Kwo+ICAgI2luY2x1ZGUgPGFsZ29yaXRobT4KPiAgICNpbmNsdWRlIDxzeXNsb2cuaD4KPiAgICNp
bmNsdWRlIDxnbG9iLmg+Cj4gICAjaW5jbHVkZSA8ZGxmY24uaD4KPiAgICNpbmNsdWRlIDxzdHJp
bmc+Cj4gLQo+IC0jaW5jbHVkZSAiY29uY3JldGUtYWdlbnQuaHBwIgo+ICsjaW5jbHVkZSA8Y3N0
ZGFyZz4KPiAgIAo+ICAgdXNpbmcgbmFtZXNwYWNlIHNwaWNlOjpzdHJlYW1pbmdfYWdlbnQ7Cj4g
ICAKPiBAQCAtMjUsOCArMjcsOSBAQCBzdGF0aWMgaW5saW5lIHVuc2lnbmVkIE1pbm9yVmVyc2lv
bih1bnNpZ25lZCB2ZXJzaW9uKQo+ICAgICAgIHJldHVybiB2ZXJzaW9uICYgMHhmZnU7Cj4gICB9
Cj4gICAKPiAtQ29uY3JldGVBZ2VudDo6Q29uY3JldGVBZ2VudChjb25zdCBzdGQ6OnZlY3RvcjxD
b25jcmV0ZUNvbmZpZ3VyZU9wdGlvbj4gJm9wdGlvbnMpOgo+IC0gICAgb3B0aW9ucyhvcHRpb25z
KQo+ICtDb25jcmV0ZUFnZW50OjpDb25jcmV0ZUFnZW50KGNvbnN0IHN0ZDo6dmVjdG9yPENvbmNy
ZXRlQ29uZmlndXJlT3B0aW9uPiAmb3B0aW9ucywgRnJhbWVMb2cgKmxvZ2dlcik6Cj4gKyAgICBv
cHRpb25zKG9wdGlvbnMpLAo+ICsgICAgbG9nZ2VyKGxvZ2dlcikKPiAgIHsKPiAgICAgICB0aGlz
LT5vcHRpb25zLnB1c2hfYmFjayhDb25jcmV0ZUNvbmZpZ3VyZU9wdGlvbihudWxscHRyLCBudWxs
cHRyKSk7Cj4gICB9Cj4gQEAgLTE0MCwzICsxNDMsMTMgQEAgRnJhbWVDYXB0dXJlICpDb25jcmV0
ZUFnZW50OjpHZXRCZXN0RnJhbWVDYXB0dXJlKGNvbnN0IHN0ZDo6c2V0PFNwaWNlVmlkZW9Db2Rl
Y1QKPiAgICAgICB9Cj4gICAgICAgcmV0dXJuIG51bGxwdHI7Cj4gICB9Cj4gKwo+ICt2b2lkIENv
bmNyZXRlQWdlbnQ6OkxvZ1N0YXQoY29uc3QgY2hhciogZm9ybWF0LCAuLi4pCj4gK3sKPiArICAg
IGlmIChsb2dnZXIpIHsKPiArICAgICAgICB2YV9saXN0IGFwOwo+ICsgICAgICAgIHZhX3N0YXJ0
KGFwLCBmb3JtYXQpOwo+ICsgICAgICAgIGxvZ2dlci0+bG9nX3N0YXR2KGZvcm1hdCwgYXApOwo+
ICsgICAgICAgIHZhX2VuZChhcCk7Cj4gKyAgICB9Cj4gK30KPiBkaWZmIC0tZ2l0IGEvc3JjL2Nv
bmNyZXRlLWFnZW50LmhwcCBiL3NyYy9jb25jcmV0ZS1hZ2VudC5ocHAKPiBpbmRleCAyYzJlYmM4
Li42ZDFiZTM1IDEwMDY0NAo+IC0tLSBhL3NyYy9jb25jcmV0ZS1hZ2VudC5ocHAKPiArKysgYi9z
cmMvY29uY3JldGUtYWdlbnQuaHBwCj4gQEAgLTE0LDYgKzE0LDggQEAKPiAgIG5hbWVzcGFjZSBz
cGljZSB7Cj4gICBuYW1lc3BhY2Ugc3RyZWFtaW5nX2FnZW50IHsKPiAgIAo+ICtjbGFzcyBGcmFt
ZUxvZzsKPiArCj4gICBzdHJ1Y3QgQ29uY3JldGVDb25maWd1cmVPcHRpb246IENvbmZpZ3VyZU9w
dGlvbgo+ICAgewo+ICAgICAgIENvbmNyZXRlQ29uZmlndXJlT3B0aW9uKGNvbnN0IGNoYXIgKm5h
bWUsIGNvbnN0IGNoYXIgKnZhbHVlKQo+IEBAIC0yNiwxNiArMjgsMjAgQEAgc3RydWN0IENvbmNy
ZXRlQ29uZmlndXJlT3B0aW9uOiBDb25maWd1cmVPcHRpb24KPiAgIGNsYXNzIENvbmNyZXRlQWdl
bnQgZmluYWwgOiBwdWJsaWMgQWdlbnQKPiAgIHsKPiAgIHB1YmxpYzoKPiAtICAgIENvbmNyZXRl
QWdlbnQoY29uc3Qgc3RkOjp2ZWN0b3I8Q29uY3JldGVDb25maWd1cmVPcHRpb24+ICZvcHRpb25z
KTsKPiArICAgIENvbmNyZXRlQWdlbnQoY29uc3Qgc3RkOjp2ZWN0b3I8Q29uY3JldGVDb25maWd1
cmVPcHRpb24+ICZvcHRpb25zLAo+ICsgICAgICAgICAgICAgICAgICBGcmFtZUxvZyAqbG9nZ2Vy
PW51bGxwdHIpOwo+ICAgICAgIHZvaWQgUmVnaXN0ZXIoY29uc3Qgc3RkOjpzaGFyZWRfcHRyPFBs
dWdpbj4mIHBsdWdpbikgb3ZlcnJpZGU7Cj4gICAgICAgY29uc3QgQ29uZmlndXJlT3B0aW9uKiBP
cHRpb25zKCkgY29uc3Qgb3ZlcnJpZGU7Cj4gICAgICAgdm9pZCBMb2FkUGx1Z2lucyhjb25zdCBz
dGQ6OnN0cmluZyAmZGlyZWN0b3J5KTsKPiAgICAgICBGcmFtZUNhcHR1cmUgKkdldEJlc3RGcmFt
ZUNhcHR1cmUoY29uc3Qgc3RkOjpzZXQ8U3BpY2VWaWRlb0NvZGVjVHlwZT4mIGNvZGVjcyk7Cj4g
KyAgICBfX2F0dHJpYnV0ZV9fICgoZm9ybWF0IChwcmludGYsIDIsIDMpKSkKPiArICAgIHZvaWQg
TG9nU3RhdChjb25zdCBjaGFyKiBmb3JtYXQsIC4uLikgb3ZlcnJpZGU7Cj4gICBwcml2YXRlOgo+
ICAgICAgIGJvb2wgUGx1Z2luVmVyc2lvbklzQ29tcGF0aWJsZSh1bnNpZ25lZCBwbHVnaW5WZXJz
aW9uKSBjb25zdDsKPiAgICAgICB2b2lkIExvYWRQbHVnaW4oY29uc3Qgc3RkOjpzdHJpbmcgJnBs
dWdpbl9maWxlbmFtZSk7Cj4gICAgICAgc3RkOjp2ZWN0b3I8c3RkOjpzaGFyZWRfcHRyPFBsdWdp
bj4+IHBsdWdpbnM7Cj4gICAgICAgc3RkOjp2ZWN0b3I8Q29uY3JldGVDb25maWd1cmVPcHRpb24+
IG9wdGlvbnM7Cj4gKyAgICBGcmFtZUxvZyAqY29uc3QgbG9nZ2VyID0gbnVsbHB0cjsKPiAgIH07
Cj4gICAKPiAgIH19IC8vIG5hbWVzcGFjZSBzcGljZTo6c3RyZWFtaW5nX2FnZW50Cj4gZGlmZiAt
LWdpdCBhL3NyYy9mcmFtZS1sb2cuY3BwIGIvc3JjL2ZyYW1lLWxvZy5jcHAKPiBpbmRleCA2MmZm
ZmMzLi5mNDE2Y2RlIDEwMDY0NAo+IC0tLSBhL3NyYy9mcmFtZS1sb2cuY3BwCj4gKysrIGIvc3Jj
L2ZyYW1lLWxvZy5jcHAKPiBAQCAtNDEsMTMgKzQxLDE4IEBAIEZyYW1lTG9nOjp+RnJhbWVMb2co
KQo+ICAgfQo+ICAgCj4gICB2b2lkIEZyYW1lTG9nOjpsb2dfc3RhdChjb25zdCBjaGFyKiBmb3Jt
YXQsIC4uLikKPiArewo+ICsgICAgdmFfbGlzdCBhcDsKPiArICAgIHZhX3N0YXJ0KGFwLCBmb3Jt
YXQpOwo+ICsgICAgbG9nX3N0YXR2KGZvcm1hdCwgYXApOwo+ICsgICAgdmFfZW5kKGFwKTsKPiAr
fQo+ICsKPiArdm9pZCBGcmFtZUxvZzo6bG9nX3N0YXR2KGNvbnN0IGNoYXIqIGZvcm1hdCwgdmFf
bGlzdCBhcCkKPiAgIHsKPiAgICAgICBpZiAobG9nX2ZpbGUgJiYgIWxvZ19iaW5hcnkpIHsKPiAg
ICAgICAgICAgZnByaW50Zihsb2dfZmlsZSwgIiUiIFBSSXU2NCAiOiAiLCBnZXRfdGltZSgpKTsK
PiAtICAgICAgICB2YV9saXN0IGFwOwo+IC0gICAgICAgIHZhX3N0YXJ0KGFwLCBmb3JtYXQpOwo+
ICAgICAgICAgICB2ZnByaW50Zihsb2dfZmlsZSwgZm9ybWF0LCBhcCk7Cj4gLSAgICAgICAgdmFf
ZW5kKGFwKTsKPiAgICAgICAgICAgZnB1dGMoJ1xuJywgbG9nX2ZpbGUpOwo+ICAgICAgIH0KPiAg
IH0KPiBkaWZmIC0tZ2l0IGEvc3JjL2ZyYW1lLWxvZy5ocHAgYi9zcmMvZnJhbWUtbG9nLmhwcAo+
IGluZGV4IDg1MDMzNDUuLmExMDQ3MjMgMTAwNjQ0Cj4gLS0tIGEvc3JjL2ZyYW1lLWxvZy5ocHAK
PiArKysgYi9zcmMvZnJhbWUtbG9nLmhwcAo+IEBAIC0yNCw2ICsyNCw4IEBAIHB1YmxpYzoKPiAg
IAo+ICAgICAgIF9fYXR0cmlidXRlX18gKChmb3JtYXQgKHByaW50ZiwgMiwgMykpKQo+ICAgICAg
IHZvaWQgbG9nX3N0YXQoY29uc3QgY2hhciogZm9ybWF0LCAuLi4pOwo+ICsgICAgX19hdHRyaWJ1
dGVfXyAoKGZvcm1hdCAocHJpbnRmLCAyLCAwKSkpCj4gKyAgICB2b2lkIGxvZ19zdGF0dihjb25z
dCBjaGFyKiBmb3JtYXQsIHZhX2xpc3QgYXApOwo+ICAgICAgIHZvaWQgbG9nX2ZyYW1lKGNvbnN0
IHZvaWQqIGJ1ZmZlciwgc2l6ZV90IGJ1ZmZlcl9zaXplKTsKPiAgIAo+ICAgICAgIHN0YXRpYyB1
aW50NjRfdCBnZXRfdGltZSgpOwo+IGRpZmYgLS1naXQgYS9zcmMvc3BpY2Utc3RyZWFtaW5nLWFn
ZW50LmNwcCBiL3NyYy9zcGljZS1zdHJlYW1pbmctYWdlbnQuY3BwCj4gaW5kZXggMDM5ZDYyOC4u
NDlmNWRjNCAxMDA2NDQKPiAtLS0gYS9zcmMvc3BpY2Utc3RyZWFtaW5nLWFnZW50LmNwcAo+ICsr
KyBiL3NyYy9zcGljZS1zdHJlYW1pbmctYWdlbnQuY3BwCj4gQEAgLTQwMSwxNSArNDAxLDE1IEBA
IGludCBtYWluKGludCBhcmdjLCBjaGFyKiBhcmd2W10pCj4gICAgICAgcmVnaXN0ZXJfaW50ZXJy
dXB0cygpOwo+ICAgCj4gICAgICAgdHJ5IHsKPiAtICAgICAgICBDb25jcmV0ZUFnZW50IGFnZW50
KG9wdGlvbnMpOwo+ICsgICAgICAgIEZyYW1lTG9nIGZyYW1lX2xvZyhsb2dfZmlsZW5hbWUsIGxv
Z19iaW5hcnksIGxvZ19mcmFtZXMpOwo+ICsKPiArICAgICAgICBDb25jcmV0ZUFnZW50IGFnZW50
KG9wdGlvbnMsICZmcmFtZV9sb2cpOwo+ICAgCj4gICAgICAgICAgIC8vIHJlZ2lzdGVyIGJ1aWx0
LWluIHBsdWdpbnMKPiAgICAgICAgICAgTWpwZWdQbHVnaW46OlJlZ2lzdGVyKCZhZ2VudCk7Cj4g
ICAKPiAgICAgICAgICAgYWdlbnQuTG9hZFBsdWdpbnMocGx1Z2luc2Rpcik7Cj4gICAKPiAtICAg
ICAgICBGcmFtZUxvZyBmcmFtZV9sb2cobG9nX2ZpbGVuYW1lLCBsb2dfYmluYXJ5LCBsb2dfZnJh
bWVzKTsKPiAtCj4gICAgICAgICAgIGZvciAoY29uc3Qgc3RkOjpzdHJpbmcmIGFyZzogb2xkX2Fy
Z3MpIHsKPiAgICAgICAgICAgICAgIGZyYW1lX2xvZy5sb2dfc3RhdCgiQXJnczogJXMiLCBhcmcu
Y19zdHIoKSk7Cj4gICAgICAgICAgIH0KPiAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9zcGljZS1kZXZlbA==
