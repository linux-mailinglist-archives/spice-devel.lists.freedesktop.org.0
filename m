Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 92647115BB
	for <lists+spice-devel@lfdr.de>; Thu,  2 May 2019 10:50:27 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 780D9892D7;
	Thu,  2 May 2019 08:50:25 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 3AFDD892D7
 for <spice-devel@lists.freedesktop.org>; Thu,  2 May 2019 08:50:24 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx05.intmail.prod.int.phx2.redhat.com
 [10.5.11.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id CA6B5301A3B6
 for <spice-devel@lists.freedesktop.org>; Thu,  2 May 2019 08:50:23 +0000 (UTC)
Received: from lub.tlv (dhcp-4-231.tlv.redhat.com [10.35.4.231])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 08EEB174B1;
 Thu,  2 May 2019 08:50:22 +0000 (UTC)
To: Frediano Ziglio <fziglio@redhat.com>, spice-devel@lists.freedesktop.org
References: <20190501135311.21109-1-fziglio@redhat.com>
 <20190501135311.21109-2-fziglio@redhat.com>
From: Uri Lublin <uril@redhat.com>
Organization: Red Hat
Message-ID: <00a28cf7-6782-4145-c95e-fbfbdfdc7589@redhat.com>
Date: Thu, 2 May 2019 11:50:21 +0300
User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:60.0) Gecko/20100101
 Thunderbird/60.6.1
MIME-Version: 1.0
In-Reply-To: <20190501135311.21109-2-fziglio@redhat.com>
Content-Language: en-US
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.15
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.41]); Thu, 02 May 2019 08:50:23 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-streaming-agent v2 2/2] Add support
 log logging statistics from plugins
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Reply-To: uril@redhat.com
Content-Transfer-Encoding: base64
Content-Type: text/plain; charset="utf-8"; Format="flowed"
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gNS8xLzE5IDQ6NTMgUE0sIEZyZWRpYW5vIFppZ2xpbyB3cm90ZToKPiBBbGxvd3MgdGhlIHBs
dWdpbnMgdG8gYWRkIGluZm9ybWF0aW9uIHRvIHRoZSBsb2cuCgpIaSwKCkxvb2tzIGdvb2QuCgpE
b24ndCB5b3UgbmVlZCB0byBidW1wIHRoZSB2ZXJzaW9uID8KClNvbWUgY29tbWVudHMgYmVsb3cu
Cgo+IAo+IFNpZ25lZC1vZmYtYnk6IEZyZWRpYW5vIFppZ2xpbyA8ZnppZ2xpb0ByZWRoYXQuY29t
Pgo+IC0tLQo+ICAgaW5jbHVkZS9zcGljZS1zdHJlYW1pbmctYWdlbnQvcGx1Z2luLmhwcCB8ICA1
ICsrKysrCj4gICBzcmMvY29uY3JldGUtYWdlbnQuY3BwICAgICAgICAgICAgICAgICAgIHwgMjEg
KysrKysrKysrKysrKysrKystLS0tCj4gICBzcmMvY29uY3JldGUtYWdlbnQuaHBwICAgICAgICAg
ICAgICAgICAgIHwgIDggKysrKysrKy0KPiAgIHNyYy9mcmFtZS1sb2cuY3BwICAgICAgICAgICAg
ICAgICAgICAgICAgfCAgOSArKysrKysrKysKPiAgIHNyYy9mcmFtZS1sb2cuaHBwICAgICAgICAg
ICAgICAgICAgICAgICAgfCAgMiArKwo+ICAgc3JjL3NwaWNlLXN0cmVhbWluZy1hZ2VudC5jcHAg
ICAgICAgICAgICB8ICA2ICsrKy0tLQo+ICAgNiBmaWxlcyBjaGFuZ2VkLCA0MyBpbnNlcnRpb25z
KCspLCA4IGRlbGV0aW9ucygtKQo+IAo+IENoYW5nZSBzaW5jZSB2MToKPiAtIGJldHRlciBDb25j
cmV0ZUFnZW50IGludGVyZmFjZSwgcmVtb3ZlZCB1Z2x5IFNldEZyYW1lTG9nCj4gCj4gZGlmZiAt
LWdpdCBhL2luY2x1ZGUvc3BpY2Utc3RyZWFtaW5nLWFnZW50L3BsdWdpbi5ocHAgYi9pbmNsdWRl
L3NwaWNlLXN0cmVhbWluZy1hZ2VudC9wbHVnaW4uaHBwCj4gaW5kZXggM2IyNjVkOS4uYTUxZjA2
MCAxMDA2NDQKPiAtLS0gYS9pbmNsdWRlL3NwaWNlLXN0cmVhbWluZy1hZ2VudC9wbHVnaW4uaHBw
Cj4gKysrIGIvaW5jbHVkZS9zcGljZS1zdHJlYW1pbmctYWdlbnQvcGx1Z2luLmhwcAo+IEBAIC0x
MTYsNiArMTE2LDExIEBAIHB1YmxpYzoKPiAgICAgICAgKiBcdG9kbyBwYXNzaW5nIG9wdGlvbnMg
dG8gZW50cnkgcG9pbnQgaW5zdGVhZD8KPiAgICAgICAgKi8KPiAgICAgICB2aXJ0dWFsIGNvbnN0
IENvbmZpZ3VyZU9wdGlvbiogT3B0aW9ucygpIGNvbnN0ID0gMDsKPiArICAgIC8qIQo+ICsgICAg
ICogV3JpdGUgc29tZXRoaW5nIGluIHRoZSBsb2cuCj4gKyAgICAgKi8KPiArICAgIF9fYXR0cmli
dXRlX18gKChmb3JtYXQgKHByaW50ZiwgMiwgMykpKQo+ICsgICAgdmlydHVhbCB2b2lkIExvZ1N0
YXQoY29uc3QgY2hhciogZm9ybWF0LCAuLi4pID0gMDsKPiAgIH07Cj4gICAKPiAgIHR5cGVkZWYg
Ym9vbCBQbHVnaW5Jbml0RnVuYyhzcGljZTo6c3RyZWFtaW5nX2FnZW50OjpBZ2VudCogYWdlbnQp
Owo+IGRpZmYgLS1naXQgYS9zcmMvY29uY3JldGUtYWdlbnQuY3BwIGIvc3JjL2NvbmNyZXRlLWFn
ZW50LmNwcAo+IGluZGV4IGZiMTQxMmIuLjMzNmJkMDkgMTAwNjQ0Cj4gLS0tIGEvc3JjL2NvbmNy
ZXRlLWFnZW50LmNwcAo+ICsrKyBiL3NyYy9jb25jcmV0ZS1hZ2VudC5jcHAKPiBAQCAtNSwxMyAr
NSwxNSBAQAo+ICAgICovCj4gICAKPiAgICNpbmNsdWRlIDxjb25maWcuaD4KPiArI2luY2x1ZGUg
ImNvbmNyZXRlLWFnZW50LmhwcCIKPiArI2luY2x1ZGUgImZyYW1lLWxvZy5ocHAiCgpXaHkgbW92
ZSBsb2NhbCAuaCBmaWxlcyB0byB0aGUgdG9wID8KCj4gKwo+ICAgI2luY2x1ZGUgPGFsZ29yaXRo
bT4KPiAgICNpbmNsdWRlIDxzeXNsb2cuaD4KPiAgICNpbmNsdWRlIDxnbG9iLmg+Cj4gICAjaW5j
bHVkZSA8ZGxmY24uaD4KPiAgICNpbmNsdWRlIDxzdHJpbmc+Cj4gLQo+IC0jaW5jbHVkZSAiY29u
Y3JldGUtYWdlbnQuaHBwIgo+ICsjaW5jbHVkZSA8Y3N0ZGFyZz4KPiAgIAo+ICAgdXNpbmcgbmFt
ZXNwYWNlIHNwaWNlOjpzdHJlYW1pbmdfYWdlbnQ7Cj4gICAKPiBAQCAtMjUsOCArMjcsOSBAQCBz
dGF0aWMgaW5saW5lIHVuc2lnbmVkIE1pbm9yVmVyc2lvbih1bnNpZ25lZCB2ZXJzaW9uKQo+ICAg
ICAgIHJldHVybiB2ZXJzaW9uICYgMHhmZnU7Cj4gICB9Cj4gICAKPiAtQ29uY3JldGVBZ2VudDo6
Q29uY3JldGVBZ2VudChjb25zdCBzdGQ6OnZlY3RvcjxDb25jcmV0ZUNvbmZpZ3VyZU9wdGlvbj4g
Jm9wdGlvbnMpOgo+IC0gICAgb3B0aW9ucyhvcHRpb25zKQo+ICtDb25jcmV0ZUFnZW50OjpDb25j
cmV0ZUFnZW50KGNvbnN0IHN0ZDo6dmVjdG9yPENvbmNyZXRlQ29uZmlndXJlT3B0aW9uPiAmb3B0
aW9ucywgRnJhbWVMb2cgKmxvZ2dlcik6Cj4gKyAgICBvcHRpb25zKG9wdGlvbnMpLAo+ICsgICAg
bG9nZ2VyKGxvZ2dlcikKPiAgIHsKPiAgICAgICB0aGlzLT5vcHRpb25zLnB1c2hfYmFjayhDb25j
cmV0ZUNvbmZpZ3VyZU9wdGlvbihudWxscHRyLCBudWxscHRyKSk7Cj4gICB9Cj4gQEAgLTE0MCwz
ICsxNDMsMTMgQEAgRnJhbWVDYXB0dXJlICpDb25jcmV0ZUFnZW50OjpHZXRCZXN0RnJhbWVDYXB0
dXJlKGNvbnN0IHN0ZDo6c2V0PFNwaWNlVmlkZW9Db2RlY1QKPiAgICAgICB9Cj4gICAgICAgcmV0
dXJuIG51bGxwdHI7Cj4gICB9Cj4gKwo+ICt2b2lkIENvbmNyZXRlQWdlbnQ6OkxvZ1N0YXQoY29u
c3QgY2hhciogZm9ybWF0LCAuLi4pCj4gK3sKPiArICAgIGlmIChsb2dnZXIpIHsKPiArICAgICAg
ICB2YV9saXN0IGFwOwo+ICsgICAgICAgIHZhX3N0YXJ0KGFwLCBmb3JtYXQpOwo+ICsgICAgICAg
IGxvZ2dlci0+bG9nX3N0YXR2KGZvcm1hdCwgYXApOwo+ICsgICAgICAgIHZhX2VuZChhcCk7Cj4g
KyAgICB9Cj4gK30KPiBkaWZmIC0tZ2l0IGEvc3JjL2NvbmNyZXRlLWFnZW50LmhwcCBiL3NyYy9j
b25jcmV0ZS1hZ2VudC5ocHAKPiBpbmRleCAyYzJlYmM4Li42ZDFiZTM1IDEwMDY0NAo+IC0tLSBh
L3NyYy9jb25jcmV0ZS1hZ2VudC5ocHAKPiArKysgYi9zcmMvY29uY3JldGUtYWdlbnQuaHBwCj4g
QEAgLTE0LDYgKzE0LDggQEAKPiAgIG5hbWVzcGFjZSBzcGljZSB7Cj4gICBuYW1lc3BhY2Ugc3Ry
ZWFtaW5nX2FnZW50IHsKPiAgIAo+ICtjbGFzcyBGcmFtZUxvZzsKPiArCj4gICBzdHJ1Y3QgQ29u
Y3JldGVDb25maWd1cmVPcHRpb246IENvbmZpZ3VyZU9wdGlvbgo+ICAgewo+ICAgICAgIENvbmNy
ZXRlQ29uZmlndXJlT3B0aW9uKGNvbnN0IGNoYXIgKm5hbWUsIGNvbnN0IGNoYXIgKnZhbHVlKQo+
IEBAIC0yNiwxNiArMjgsMjAgQEAgc3RydWN0IENvbmNyZXRlQ29uZmlndXJlT3B0aW9uOiBDb25m
aWd1cmVPcHRpb24KPiAgIGNsYXNzIENvbmNyZXRlQWdlbnQgZmluYWwgOiBwdWJsaWMgQWdlbnQK
PiAgIHsKPiAgIHB1YmxpYzoKPiAtICAgIENvbmNyZXRlQWdlbnQoY29uc3Qgc3RkOjp2ZWN0b3I8
Q29uY3JldGVDb25maWd1cmVPcHRpb24+ICZvcHRpb25zKTsKPiArICAgIENvbmNyZXRlQWdlbnQo
Y29uc3Qgc3RkOjp2ZWN0b3I8Q29uY3JldGVDb25maWd1cmVPcHRpb24+ICZvcHRpb25zLAo+ICsg
ICAgICAgICAgICAgICAgICBGcmFtZUxvZyAqbG9nZ2VyPW51bGxwdHIpOwo+ICAgICAgIHZvaWQg
UmVnaXN0ZXIoY29uc3Qgc3RkOjpzaGFyZWRfcHRyPFBsdWdpbj4mIHBsdWdpbikgb3ZlcnJpZGU7
Cj4gICAgICAgY29uc3QgQ29uZmlndXJlT3B0aW9uKiBPcHRpb25zKCkgY29uc3Qgb3ZlcnJpZGU7
Cj4gICAgICAgdm9pZCBMb2FkUGx1Z2lucyhjb25zdCBzdGQ6OnN0cmluZyAmZGlyZWN0b3J5KTsK
PiAgICAgICBGcmFtZUNhcHR1cmUgKkdldEJlc3RGcmFtZUNhcHR1cmUoY29uc3Qgc3RkOjpzZXQ8
U3BpY2VWaWRlb0NvZGVjVHlwZT4mIGNvZGVjcyk7Cj4gKyAgICBfX2F0dHJpYnV0ZV9fICgoZm9y
bWF0IChwcmludGYsIDIsIDMpKSkKPiArICAgIHZvaWQgTG9nU3RhdChjb25zdCBjaGFyKiBmb3Jt
YXQsIC4uLikgb3ZlcnJpZGU7Cj4gICBwcml2YXRlOgo+ICAgICAgIGJvb2wgUGx1Z2luVmVyc2lv
bklzQ29tcGF0aWJsZSh1bnNpZ25lZCBwbHVnaW5WZXJzaW9uKSBjb25zdDsKPiAgICAgICB2b2lk
IExvYWRQbHVnaW4oY29uc3Qgc3RkOjpzdHJpbmcgJnBsdWdpbl9maWxlbmFtZSk7Cj4gICAgICAg
c3RkOjp2ZWN0b3I8c3RkOjpzaGFyZWRfcHRyPFBsdWdpbj4+IHBsdWdpbnM7Cj4gICAgICAgc3Rk
Ojp2ZWN0b3I8Q29uY3JldGVDb25maWd1cmVPcHRpb24+IG9wdGlvbnM7Cj4gKyAgICBGcmFtZUxv
ZyAqY29uc3QgbG9nZ2VyID0gbnVsbHB0cjsKPiAgIH07Cj4gICAKPiAgIH19IC8vIG5hbWVzcGFj
ZSBzcGljZTo6c3RyZWFtaW5nX2FnZW50Cj4gZGlmZiAtLWdpdCBhL3NyYy9mcmFtZS1sb2cuY3Bw
IGIvc3JjL2ZyYW1lLWxvZy5jcHAKPiBpbmRleCA2MmZmZmMzLi5kYjZiNjUyIDEwMDY0NAo+IC0t
LSBhL3NyYy9mcmFtZS1sb2cuY3BwCj4gKysrIGIvc3JjL2ZyYW1lLWxvZy5jcHAKPiBAQCAtNTIs
NiArNTIsMTUgQEAgdm9pZCBGcmFtZUxvZzo6bG9nX3N0YXQoY29uc3QgY2hhciogZm9ybWF0LCAu
Li4pCj4gICAgICAgfQo+ICAgfQo+ICAgCj4gK3ZvaWQgRnJhbWVMb2c6OmxvZ19zdGF0dihjb25z
dCBjaGFyKiBmb3JtYXQsIHZhX2xpc3QgYXApCj4gK3sKPiArICAgIGlmIChsb2dfZmlsZSkgewoK
QmV0dGVyIGFsc28gY2hlY2sgdGhhdCBpdCdzIG5vdCBiaW5hcnkgbGlrZSBpbiBsb2dfc3RhdCBh
Ym92ZS4KCkFsc28gYXMgYSBmb2xsb3d1cCBsb2dfc3RhdCBjYW4gY2FsbCBsb2dfc3RhdHYuCgpV
cmkuCgo+ICsgICAgICAgIGZwcmludGYobG9nX2ZpbGUsICIlIiBQUkl1NjQgIjogIiwgZ2V0X3Rp
bWUoKSk7Cj4gKyAgICAgICAgdmZwcmludGYobG9nX2ZpbGUsIGZvcm1hdCwgYXApOwo+ICsgICAg
ICAgIGZwdXRjKCdcbicsIGxvZ19maWxlKTsKPiArICAgIH0KPiArfQo+ICsKPiAgIHZvaWQgRnJh
bWVMb2c6OmxvZ19mcmFtZShjb25zdCB2b2lkKiBidWZmZXIsIHNpemVfdCBidWZmZXJfc2l6ZSkK
PiAgIHsKPiAgICAgICBpZiAobG9nX2ZpbGUpIHsKPiBkaWZmIC0tZ2l0IGEvc3JjL2ZyYW1lLWxv
Zy5ocHAgYi9zcmMvZnJhbWUtbG9nLmhwcAo+IGluZGV4IDg1MDMzNDUuLmExMDQ3MjMgMTAwNjQ0
Cj4gLS0tIGEvc3JjL2ZyYW1lLWxvZy5ocHAKPiArKysgYi9zcmMvZnJhbWUtbG9nLmhwcAo+IEBA
IC0yNCw2ICsyNCw4IEBAIHB1YmxpYzoKPiAgIAo+ICAgICAgIF9fYXR0cmlidXRlX18gKChmb3Jt
YXQgKHByaW50ZiwgMiwgMykpKQo+ICAgICAgIHZvaWQgbG9nX3N0YXQoY29uc3QgY2hhciogZm9y
bWF0LCAuLi4pOwo+ICsgICAgX19hdHRyaWJ1dGVfXyAoKGZvcm1hdCAocHJpbnRmLCAyLCAwKSkp
Cj4gKyAgICB2b2lkIGxvZ19zdGF0dihjb25zdCBjaGFyKiBmb3JtYXQsIHZhX2xpc3QgYXApOwo+
ICAgICAgIHZvaWQgbG9nX2ZyYW1lKGNvbnN0IHZvaWQqIGJ1ZmZlciwgc2l6ZV90IGJ1ZmZlcl9z
aXplKTsKPiAgIAo+ICAgICAgIHN0YXRpYyB1aW50NjRfdCBnZXRfdGltZSgpOwo+IGRpZmYgLS1n
aXQgYS9zcmMvc3BpY2Utc3RyZWFtaW5nLWFnZW50LmNwcCBiL3NyYy9zcGljZS1zdHJlYW1pbmct
YWdlbnQuY3BwCj4gaW5kZXggMDM5ZDYyOC4uNDlmNWRjNCAxMDA2NDQKPiAtLS0gYS9zcmMvc3Bp
Y2Utc3RyZWFtaW5nLWFnZW50LmNwcAo+ICsrKyBiL3NyYy9zcGljZS1zdHJlYW1pbmctYWdlbnQu
Y3BwCj4gQEAgLTQwMSwxNSArNDAxLDE1IEBAIGludCBtYWluKGludCBhcmdjLCBjaGFyKiBhcmd2
W10pCj4gICAgICAgcmVnaXN0ZXJfaW50ZXJydXB0cygpOwo+ICAgCj4gICAgICAgdHJ5IHsKPiAt
ICAgICAgICBDb25jcmV0ZUFnZW50IGFnZW50KG9wdGlvbnMpOwo+ICsgICAgICAgIEZyYW1lTG9n
IGZyYW1lX2xvZyhsb2dfZmlsZW5hbWUsIGxvZ19iaW5hcnksIGxvZ19mcmFtZXMpOwo+ICsKPiAr
ICAgICAgICBDb25jcmV0ZUFnZW50IGFnZW50KG9wdGlvbnMsICZmcmFtZV9sb2cpOwo+ICAgCj4g
ICAgICAgICAgIC8vIHJlZ2lzdGVyIGJ1aWx0LWluIHBsdWdpbnMKPiAgICAgICAgICAgTWpwZWdQ
bHVnaW46OlJlZ2lzdGVyKCZhZ2VudCk7Cj4gICAKPiAgICAgICAgICAgYWdlbnQuTG9hZFBsdWdp
bnMocGx1Z2luc2Rpcik7Cj4gICAKPiAtICAgICAgICBGcmFtZUxvZyBmcmFtZV9sb2cobG9nX2Zp
bGVuYW1lLCBsb2dfYmluYXJ5LCBsb2dfZnJhbWVzKTsKPiAtCj4gICAgICAgICAgIGZvciAoY29u
c3Qgc3RkOjpzdHJpbmcmIGFyZzogb2xkX2FyZ3MpIHsKPiAgICAgICAgICAgICAgIGZyYW1lX2xv
Zy5sb2dfc3RhdCgiQXJnczogJXMiLCBhcmcuY19zdHIoKSk7Cj4gICAgICAgICAgIH0KPiAKCl9f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVs
IG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9s
aXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
