Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 47782751A8
	for <lists+spice-devel@lfdr.de>; Thu, 25 Jul 2019 16:45:51 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7F7FA6E769;
	Thu, 25 Jul 2019 14:45:49 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-io1-xd32.google.com (mail-io1-xd32.google.com
 [IPv6:2607:f8b0:4864:20::d32])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 450416E765
 for <spice-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 14:45:48 +0000 (UTC)
Received: by mail-io1-xd32.google.com with SMTP id j5so93632858ioj.8
 for <spice-devel@lists.freedesktop.org>; Thu, 25 Jul 2019 07:45:48 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=8BvQwPKAFvdBNLi89TAMkuPtpO8J3PdrFO0jC+LZye0=;
 b=Qc7R+1U6cz975JNSJKv4kUlMEkiQ0+cS50YqVpdik0n9eJUjfSKN9OeeK9fWIVQItl
 53VFvaKufxB4SeMm5IuC5mxTekyXCUkXlyS8zQcpY/SUEKWD1z1Gc5EE3ABlS0pKOfaK
 VS73QPj4h48zae4EhYEHIT1aE+LU3KpW1HYbAI/+CNibQdR3W5c7e6Ie2/OKv/19mOQo
 8B/roQfpq6LEOzAW9MdWjgSpD7qukiUjH0uMns+85xvySXmew5TzXRVrqKNUEZhq92AA
 mqZnP7BbLi/jYcw1HFyIrsKU1inWhDmamuI6YbvPWkAKLUEPlNDHYvl8MZLWK64L+fVi
 DMig==
X-Gm-Message-State: APjAAAVB6KyLaJr/gQI4zcVJAG3fYUdX3oi0InZZnqXvE+ohalexORQb
 iCFUXHnSJP/ECp2wHByobi3VD8vCWjWyuGPKVZvwFQNe
X-Google-Smtp-Source: APXvYqyzQhinrfkpR4li5ZXwbk1jAaOJkFk8Eld/Az+o4EeT9lDjdNhK0PGM43F10V0oybMK/rqIVWAAZygmasy8d7k=
X-Received: by 2002:a6b:b9c2:: with SMTP id
 j185mr80577550iof.148.1564065947507; 
 Thu, 25 Jul 2019 07:45:47 -0700 (PDT)
MIME-Version: 1.0
References: <20190724105351.13753-1-yuri.benditovich@daynix.com>
 <20190724105351.13753-4-yuri.benditovich@daynix.com>
 <1657486544.2954906.1564045757376.JavaMail.zimbra@redhat.com>
In-Reply-To: <1657486544.2954906.1564045757376.JavaMail.zimbra@redhat.com>
From: Yuri Benditovich <yuri.benditovich@daynix.com>
Date: Thu, 25 Jul 2019 17:45:34 +0300
Message-ID: <CAOEp5Od=eai6wx_NYjt1tTDY9vL=LbEvVup8LR91uCNif72=tg@mail.gmail.com>
To: Frediano Ziglio <fziglio@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=8BvQwPKAFvdBNLi89TAMkuPtpO8J3PdrFO0jC+LZye0=;
 b=ZJyNx4iT80XTMpoj7u7xnu3U95nR73Mq2YQGjze15mhDtKqCBp7toZ4aTdJeLnOV2b
 spIn5+Mejbx/V1KXLRKm+y1O7zZbuP2hU39pSWjevpRb8MUS1f5cUZCa6P7cWIV5K/+7
 ly5BhhX/2Z2BeTEdxcP2BiI8LMIf7+6nAIRDAAx1Gtjus1RqnTH7w191FeVN/4PMBK9N
 JDpGDtPnE+X6ZlXOZuszkkHkJvUcBMqSH3PVtMi2Rrm65OOXwJR5qz4Qokv9ixi/Dsoy
 7hdJrkCpccyMiUIvTgFyRkrDsAN5EpVR+xykmGwXHNjY6ueSxF9U1chFMUkGoC2SzbLQ
 kcdg==
Subject: Re: [Spice-devel] [spice-gtk 3/9] usb-redir: Prepare for creation
 of emulated CD drive
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Yan Vugenfirer <yan@daynix.com>,
 Spice List <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gVGh1LCBKdWwgMjUsIDIwMTkgYXQgMTI6MDkgUE0gRnJlZGlhbm8gWmlnbGlvIDxmemlnbGlv
QHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gPgo+ID4gQWRkZWQgY29tbWFuZC1saW5lIG9wdGlvbiBm
b3Igc2hhcmVkIENEIGRldmljZXMgYW5kIHJlc3BlY3RpdmUKPiA+IHByb3BlcnR5IGluIHVzYi1k
ZXZpY2UtbWFuYWdlci4KPiA+Cj4gPiBTaWduZWQtb2ZmLWJ5OiBZdXJpIEJlbmRpdG92aWNoIDx5
dXJpLmJlbmRpdG92aWNoQGRheW5peC5jb20+Cj4gPiAtLS0KPiA+ICBzcmMvc3BpY2Utb3B0aW9u
LmMgICAgICAgfCAxNSArKysrKysrKysrKysrKysKPiA+ICBzcmMvdXNiLWRldmljZS1tYW5hZ2Vy
LmMgfCAzMyArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysKPiA+ICAyIGZpbGVzIGNo
YW5nZWQsIDQ4IGluc2VydGlvbnMoKykKPiA+Cj4gPiBkaWZmIC0tZ2l0IGEvc3JjL3NwaWNlLW9w
dGlvbi5jIGIvc3JjL3NwaWNlLW9wdGlvbi5jCj4gPiBpbmRleCBjMmIwNTllLi40ZmJjYTlmIDEw
MDY0NAo+ID4gLS0tIGEvc3JjL3NwaWNlLW9wdGlvbi5jCj4gPiArKysgYi9zcmMvc3BpY2Utb3B0
aW9uLmMKPiA+IEBAIC0zMiw2ICszMiw3IEBAIHN0YXRpYyBjaGFyICpzbWFydGNhcmRfZGIgPSBO
VUxMOwo+ID4gIHN0YXRpYyBjaGFyICpzbWFydGNhcmRfY2VydGlmaWNhdGVzID0gTlVMTDsKPiA+
ICBzdGF0aWMgY2hhciAqdXNicmVkaXJfYXV0b19yZWRpcmVjdF9maWx0ZXIgPSBOVUxMOwo+ID4g
IHN0YXRpYyBjaGFyICp1c2JyZWRpcl9yZWRpcmVjdF9vbl9jb25uZWN0ID0gTlVMTDsKPiA+ICtz
dGF0aWMgZ2NoYXIgKipjZF9zaGFyZV9maWxlcyA9IE5VTEw7Cj4gPiAgc3RhdGljIGdib29sZWFu
IHNtYXJ0Y2FyZCA9IEZBTFNFOwo+ID4gIHN0YXRpYyBnYm9vbGVhbiBkaXNhYmxlX2F1ZGlvID0g
RkFMU0U7Cj4gPiAgc3RhdGljIGdib29sZWFuIGRpc2FibGVfdXNicmVkaXIgPSBGQUxTRTsKPiA+
IEBAIC0xODMsNiArMTg0LDggQEAgR09wdGlvbkdyb3VwKiBzcGljZV9nZXRfb3B0aW9uX2dyb3Vw
KHZvaWQpCj4gPiAgICAgICAgICAgIE5fKCJGaWx0ZXIgc2VsZWN0aW5nIFVTQiBkZXZpY2VzIHRv
IGJlIGF1dG8tcmVkaXJlY3RlZCB3aGVuCj4gPiAgICAgICAgICAgIHBsdWdnZWQgaW4iKSwgTl8o
IjxmaWx0ZXItc3RyaW5nPiIpIH0sCj4gPiAgICAgICAgICB7ICJzcGljZS11c2JyZWRpci1yZWRp
cmVjdC1vbi1jb25uZWN0IiwgJ1wwJywgMCwKPiA+ICAgICAgICAgIEdfT1BUSU9OX0FSR19TVFJJ
TkcsICZ1c2JyZWRpcl9yZWRpcmVjdF9vbl9jb25uZWN0LAo+ID4gICAgICAgICAgICBOXygiRmls
dGVyIHNlbGVjdGluZyBVU0IgZGV2aWNlcyB0byByZWRpcmVjdCBvbiBjb25uZWN0IiksCj4gPiAg
ICAgICAgICAgIE5fKCI8ZmlsdGVyLXN0cmluZz4iKSB9LAo+ID4gKyAgICAgICAgeyAic3BpY2Ut
c2hhcmUtY2QiLCAnXDAnLCAwLCBHX09QVElPTl9BUkdfU1RSSU5HX0FSUkFZLAo+ID4gJmNkX3No
YXJlX2ZpbGVzLAo+ID4gKyAgICAgICAgICBOXygiTmFtZSBvZiBJU08gZmlsZSBvciBDRC9EVkQg
ZGV2aWNlIHRvIHNoYXJlIiksIE5fKCI8ZmlsZW5hbWU+Cj4gPiAocmVwZWF0IGFsbG93ZWQpIikg
fSwKPiA+ICAgICAgICAgIHsgInNwaWNlLWNhY2hlLXNpemUiLCAnXDAnLCAwLCBHX09QVElPTl9B
UkdfSU5ULCAmY2FjaGVfc2l6ZSwKPiA+ICAgICAgICAgICAgTl8oIkltYWdlIGNhY2hlIHNpemUg
KGRlcHJlY2F0ZWQpIiksIE5fKCI8Ynl0ZXM+IikgfSwKPiA+ICAgICAgICAgIHsgInNwaWNlLWds
ei13aW5kb3ctc2l6ZSIsICdcMCcsIDAsIEdfT1BUSU9OX0FSR19JTlQsCj4gPiAgICAgICAgICAm
Z2x6X3dpbmRvd19zaXplLAo+ID4gQEAgLTI3Miw2ICsyNzUsMTggQEAgdm9pZCBzcGljZV9zZXRf
c2Vzc2lvbl9vcHRpb24oU3BpY2VTZXNzaW9uICpzZXNzaW9uKQo+ID4gICAgICAgICAgICAgIGdf
b2JqZWN0X3NldChtLCAicmVkaXJlY3Qtb24tY29ubmVjdCIsCj4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHVzYnJlZGlyX3JlZGlyZWN0X29uX2Nvbm5lY3QsIE5VTEwpOwo+ID4gICAgICB9
Cj4gPiArICAgIGlmIChjZF9zaGFyZV9maWxlcykgewo+ID4gKyAgICAgICAgU3BpY2VVc2JEZXZp
Y2VNYW5hZ2VyICptID0gc3BpY2VfdXNiX2RldmljZV9tYW5hZ2VyX2dldChzZXNzaW9uLAo+ID4g
TlVMTCk7Cj4gPiArICAgICAgICBpZiAobSkgewo+ID4gKyAgICAgICAgICAgIGdjaGFyICoqbmFt
ZSA9IGNkX3NoYXJlX2ZpbGVzOwo+ID4gKyAgICAgICAgICAgIHdoaWxlIChuYW1lICYmICpuYW1l
KSB7Cj4gPiArICAgICAgICAgICAgICAgIGdfb2JqZWN0X3NldChtLCAic2hhcmUtY2QiLCAqbmFt
ZSwgTlVMTCk7Cj4gPiArICAgICAgICAgICAgICAgIG5hbWUrKzsKPiA+ICsgICAgICAgICAgICB9
Cj4gPiArICAgICAgICB9Cj4gPiArICAgICAgICBnX3N0cmZyZWV2KGNkX3NoYXJlX2ZpbGVzKTsK
PiA+ICsgICAgICAgIGNkX3NoYXJlX2ZpbGVzID0gTlVMTDsKPiA+ICsgICAgfQo+ID4gICAgICBp
ZiAoZGlzYWJsZV91c2JyZWRpcikKPiA+ICAgICAgICAgIGdfb2JqZWN0X3NldChzZXNzaW9uLCAi
ZW5hYmxlLXVzYnJlZGlyIiwgRkFMU0UsIE5VTEwpOwo+ID4gICAgICBpZiAoZGlzYWJsZV9hdWRp
bykKPiA+IGRpZmYgLS1naXQgYS9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMgYi9zcmMvdXNiLWRl
dmljZS1tYW5hZ2VyLmMKPiA+IGluZGV4IDA5NjFkMTYuLmIxMWJiMTUgMTAwNjQ0Cj4gPiAtLS0g
YS9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMKPiA+ICsrKyBiL3NyYy91c2ItZGV2aWNlLW1hbmFn
ZXIuYwo+ID4gQEAgLTc1LDYgKzc1LDcgQEAgZW51bSB7Cj4gPiAgICAgIFBST1BfQVVUT19DT05O
RUNUX0ZJTFRFUiwKPiA+ICAgICAgUFJPUF9SRURJUkVDVF9PTl9DT05ORUNULAo+ID4gICAgICBQ
Uk9QX0ZSRUVfQ0hBTk5FTFMsCj4gPiArICAgIFBST1BfU0hBUkVfQ0QKPiA+ICB9Owo+ID4KPiA+
ICBlbnVtCj4gPiBAQCAtNDMzLDYgKzQzNCwyNiBAQCBzdGF0aWMgdm9pZAo+ID4gc3BpY2VfdXNi
X2RldmljZV9tYW5hZ2VyX3NldF9wcm9wZXJ0eShHT2JqZWN0ICAgICAgICpnb2JqZWN0LAo+ID4g
ICAgICAgICAgcHJpdi0+cmVkaXJlY3Rfb25fY29ubmVjdCA9IGdfc3RyZHVwKGZpbHRlcik7Cj4g
PiAgICAgICAgICBicmVhazsKPiA+ICAgICAgfQo+ID4gKyAgICBjYXNlIFBST1BfU0hBUkVfQ0Q6
Cj4gPiArICAgIHsKPiA+ICsjaWZkZWYgVVNFX1VTQlJFRElSCj4gPiArICAgICAgICBVc2JDcmVh
dGVEZXZpY2VQYXJhbWV0ZXJzIHBhcmFtID0geyAwIH07Cj4gPiArICAgICAgICBjb25zdCBnY2hh
ciAqbmFtZSA9IGdfdmFsdWVfZ2V0X3N0cmluZyh2YWx1ZSk7Cj4gPiArICAgICAgICAvKiB0aGUg
c3RyaW5nIGlzIHRlbXBvcmFyeSwgbm8gbmVlZCB0byBrZWVwIGl0ICovCj4gPiArICAgICAgICBT
UElDRV9ERUJVRygic2hhcmVfY2Qgc2V0IHRvICVzIiwgbmFtZSk7Cj4gPiArICAgICAgICBpZiAo
bmFtZVswXSA9PSAnIScpIHsKPiA+ICsgICAgICAgICAgICBuYW1lKys7Cj4gPiArICAgICAgICAg
ICAgcGFyYW0uZGV2aWNlX3BhcmFtLmNyZWF0ZV9jZC5kZWxldGVfb25fZWplY3QgPSAxOwo+ID4g
KyAgICAgICAgfQo+Cj4gVGhpcyAiISIgc2hvdWxkIGJlIGRvY3VtZW50ZWQgaWYgdGhlIGludGVy
ZmFjZSBzaG91bGQgYmUgcHVibGljLgoKSSBkbyBub3Qga25vdyB3aGV0aGVyIHRoaXMgc2hvdWxk
IGJlIGluc2lkZS4gV2hhdCBJIHdhbnRlZCBpcyB0byBhZGQgc29tZQpmbGV4aWJpbGl0eSBldmVu
IHdoZW4gdGhlcmUgaXMgbm8gVUkuCgo+Cj4gPiArICAgICAgICBwYXJhbS5kZXZpY2VfcGFyYW0u
Y3JlYXRlX2NkLmZpbGVuYW1lID0gbmFtZTsKPiA+ICsgICAgICAgIGlmICghc3BpY2VfdXNiX2Jh
Y2tlbmRfY3JlYXRlX2RldmljZShwcml2LT5jb250ZXh0LCBVU0JfREVWX1RZUEVfQ0QsCj4gPiAm
cGFyYW0pKSB7Cj4gPiArICAgICAgICAgICAgZ193YXJuaW5nKHBhcmFtLmVycm9yLT5tZXNzYWdl
KTsKPiA+ICsgICAgICAgICAgICBzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfZGV2aWNlX2Vycm9y
KHNlbGYsIE5VTEwsIHBhcmFtLmVycm9yKTsKPiA+ICsgICAgICAgICAgICBnX2Vycm9yX2ZyZWUo
cGFyYW0uZXJyb3IpOwo+ID4gKyAgICAgICAgfQo+ID4gKyNlbmRpZgo+ID4gKyAgICAgICAgYnJl
YWs7Cj4gPiArICAgIH0KPgo+IFRoaXMgaXMgbm90IGEgcHJvcGVydHkuIFRoaXMgaXMgdGhlIHBy
b3BlcnR5IGludGVyZmFjZSB1c2VkIHRvIGFkZCBhIGRldmljZS4KClllcy4gRG8geW91IHNlZSBi
ZXR0ZXIgd2F5PwpJIGRvIG5vdCB0aGluayBpdCBpcyBhIGdvb2QgdGltZSB0byBkZWZpbmUgcHVi
bGljIGludGVyZmFjZSwgaXQgc2hvdWxkCmJlIGRpc2N1c3NlZCB0b2dldGhlciB3aXRoCmZlYXR1
cmVzIHdlIHdhbnQgb3IgZG8gbm90IHdhbnQgdG8gaGF2ZSBpbi4KCj4KPiA+ICAgICAgZGVmYXVs
dDoKPiA+ICAgICAgICAgIEdfT0JKRUNUX1dBUk5fSU5WQUxJRF9QUk9QRVJUWV9JRChnb2JqZWN0
LCBwcm9wX2lkLCBwc3BlYyk7Cj4gPiAgICAgICAgICBicmVhazsKPiA+IEBAIC01MjMsNiArNTQ0
LDE4IEBAIHN0YXRpYyB2b2lkCj4gPiBzcGljZV91c2JfZGV2aWNlX21hbmFnZXJfY2xhc3NfaW5p
dChTcGljZVVzYkRldmljZU1hbmFnZXJDbGFzcyAqa2xhcwo+ID4gICAgICBnX29iamVjdF9jbGFz
c19pbnN0YWxsX3Byb3BlcnR5KGdvYmplY3RfY2xhc3MsIFBST1BfUkVESVJFQ1RfT05fQ09OTkVD
VCwKPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwc3BlYyk7Cj4gPgo+
ID4gKyAgICAvKioKPiA+ICsgICAgKiBTcGljZVVzYkRldmljZU1hbmFnZXI6c2hhcmUtY2Q6Cj4g
PiArICAgICoKPiA+ICsgICAgKiBTZXQgYSBzdHJpbmcgc3BlY2lmeWluZyBhIGZpbGVuYW1lIChJ
U08pIG9yIHBoeXNpY2FsIENEL0RWRCBkZXZpY2UKPiA+ICsgICAgKiB0byBzaGFyZSB2aWEgVVNC
IGFmdGVyIGEgU3BpY2UgY29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZC4KPiA+ICsgICAg
Kgo+ID4gKyAgICAqLwo+ID4gKyAgICBwc3BlYyA9IGdfcGFyYW1fc3BlY19zdHJpbmcoInNoYXJl
LWNkIiwgIlNoYXJlIElTTyBmaWxlIG9yIGRldmljZSBhcwo+ID4gQ0QiLAo+ID4gKyAgICAgICAg
IkZpbGUgb3IgZGV2aWNlIG5hbWUgdG8gc2hhcmUiLCBOVUxMLAo+ID4gKyAgICAgICAgR19QQVJB
TV9SRUFEV1JJVEUgfCBHX1BBUkFNX1NUQVRJQ19TVFJJTkdTKTsKPiA+ICsgICAgZ19vYmplY3Rf
Y2xhc3NfaW5zdGFsbF9wcm9wZXJ0eShnb2JqZWN0X2NsYXNzLCBQUk9QX1NIQVJFX0NELCBwc3Bl
Yyk7Cj4gPiArCj4gPiAgICAgIC8qKgo+ID4gICAgICAgKiBTcGljZVVzYkRldmljZU1hbmFnZXI6
ZnJlZS1jaGFubmVsczoKPiA+ICAgICAgICoKPgo+IEZyZWRpYW5vCl9fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApT
cGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3Rv
cC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
