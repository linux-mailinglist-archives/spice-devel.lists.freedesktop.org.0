Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 3F57A7BDD1
	for <lists+spice-devel@lfdr.de>; Wed, 31 Jul 2019 11:59:11 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 3C56689BFD;
	Wed, 31 Jul 2019 09:59:09 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 5B25689BFD
 for <spice-devel@lists.freedesktop.org>; Wed, 31 Jul 2019 09:59:08 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 00C78308FC4B
 for <spice-devel@lists.freedesktop.org>; Wed, 31 Jul 2019 09:59:08 +0000 (UTC)
Received: from ptitpuce (ovpn-116-130.ams2.redhat.com [10.36.116.130])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 3671F5C1B5
 for <spice-devel@lists.freedesktop.org>; Wed, 31 Jul 2019 09:59:07 +0000 (UTC)
References: <20190731083337.19009-1-kpouget@redhat.com>
 <20190731083337.19009-3-kpouget@redhat.com>
User-agent: mu4e 1.3.2; emacs 26.2
From: Christophe de Dinechin <dinechin@redhat.com>
To: spice-devel@lists.freedesktop.org
In-reply-to: <20190731083337.19009-3-kpouget@redhat.com>
Date: Wed, 31 Jul 2019 11:59:05 +0200
Message-ID: <m1zhkumsnq.fsf@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.43]); Wed, 31 Jul 2019 09:59:08 +0000 (UTC)
Subject: Re: [Spice-devel] [spice-list] [RFC spice-streaming-agent 1/2]
 gst-plugin: allow the instantiation of multiple GST encoder plugins
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SSBkb24ndCByZWFsbHkgbGlrZSB0aGUgd2F5IG9wdGlvbiBwYXJzaW5nIGlzIGltcGxlbWVudGVk
LCBiZWNhdXNlIEkKdGhpbmsgaXQgbGVhZHMgdG8gc29tZXdoYXQgY291bnRlci1pbnR1aXRpdmUg
dXNlciBiZWhhdmlvcnMuCgpGb3IgZXhhbXBsZSwgaWYgSSBzYXk6CgogICAgZ3N0LmNvZGVjPW1q
cGVnIGdzdC5jb2RlYz1oMjY0IGZyYW1lcmF0ZT0yMAoKSSBnZXQgdHdvIHBsdWdpbnMgd2l0aCBm
cmFtZXJhdGU9MjAsIGJ1dCBpZiBJIGhhdmUKCiAgICBnc3QuY29kZWM9bWpwZWcgZnJhbWVyYXRl
PTIwIGdzdC5jb2RlYz1oMjY0Cgp0aGVuIHRoZSBtanBlZyBwbHVnaW4gaGFzIGZyYW1lcmF0ZSAy
MCBhbmQgdGhlIGgyNjQgcGx1Z2luIGhhcyBkZWZhdWx0CmZyYW1lcmF0ZSAoMjUpLiBJZiBJIHNw
ZWNpZnkKCiAgICBmcmFtZXJhdGU9MjAgZ3N0LmNvZGVjPW1qcGVnIGdzdC5jb2RlYz1oMjY0Cgp0
aGVuIEkgZ2V0IHR3byBwbHVnaW5zIHdpdGggZGVmYXVsdCBmcmFtZSByYXRlLgoKTm90ZSB0aGF0
IGFsbCB0aGVzZSBiZWhhdmlvcnMgYXJlIGVzcGVjaWFsbHkgcHJvYmxlbWF0aWMgYmVjYXVzZSB0
aGV5CndvdWxkIGJlIGRpZmZlcmVudCBmcm9tIHdoYXQgeW91IGdldCB3aXRoIGFub3RoZXIgcGx1
Z2luICh3aGVyZQpQYXJzZU9wdGlvbiB3aWxsIHByb2Nlc3MgYWxsIG9wdGlvbnMpLgoKCktldmlu
IFBvdWdldCB3cml0ZXM6Cgo+IFdpdGggdGhpcyBwYXRjaCwgc3BpY2Utc3RyZWFtaW5nLWFnZW50
IGNhbiBiZSBsYXVuY2hlZCB3aXRoIG11bHRpcGxlCj4gR3N0cmVhbWVyIHZpZGVvIGNvZGVjcyBl
bmFibGVkOgo+Cj4+IHNwaWNlLXN0cmVhbWluZy1hZ2VudCAtYyBnc3QuY29kZWM9dnA4IC1jIGdz
dC5jb2RlYz12cDkgLi4uCj4gLS0tCj4gIHNyYy9nc3QtcGx1Z2luLmNwcCB8IDUwICsrKysrKysr
KysrKysrKysrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tLS0KPiAgMSBmaWxlIGNoYW5nZWQs
IDMxIGluc2VydGlvbnMoKyksIDE5IGRlbGV0aW9ucygtKQo+Cj4gZGlmZiAtLWdpdCBhL3NyYy9n
c3QtcGx1Z2luLmNwcCBiL3NyYy9nc3QtcGx1Z2luLmNwcAo+IGluZGV4IDk4NThiZWIuLjYyNTJl
NDIgMTAwNjQ0Cj4gLS0tIGEvc3JjL2dzdC1wbHVnaW4uY3BwCj4gKysrIGIvc3JjL2dzdC1wbHVn
aW4uY3BwCj4gQEAgLTEwMiw3ICsxMDIsNyBAQCBjbGFzcyBHc3RyZWFtZXJQbHVnaW4gZmluYWw6
IHB1YmxpYyBQbHVnaW4KPiAgcHVibGljOgo+ICAgICAgRnJhbWVDYXB0dXJlICpDcmVhdGVDYXB0
dXJlKCkgb3ZlcnJpZGU7Cj4gICAgICB1bnNpZ25lZCBSYW5rKCkgb3ZlcnJpZGU7Cj4gLSAgICB2
b2lkIFBhcnNlT3B0aW9ucyhjb25zdCBDb25maWd1cmVPcHRpb24gKm9wdGlvbnMpOwo+ICsgICAg
dm9pZCBQYXJzZU9wdGlvbnMoY29uc3QgQ29uZmlndXJlT3B0aW9uICpvcHRpb25zLCBTcGljZVZp
ZGVvQ29kZWNUeXBlIGNvZGVjKTsKCj4gICAgICBTcGljZVZpZGVvQ29kZWNUeXBlIFZpZGVvQ29k
ZWNUeXBlKCkgY29uc3Qgb3ZlcnJpZGUgewo+ICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5jb2Rl
YzsKPiAgICAgIH0KPiBAQCAtNDE5LDggKzQxOSwxMCBAQCB1bnNpZ25lZCBHc3RyZWFtZXJQbHVn
aW46OlJhbmsoKQo+ICAgICAgcmV0dXJuIFNvZnR3YXJlTWluOwo+ICB9Cj4KPiAtdm9pZCBHc3Ry
ZWFtZXJQbHVnaW46OlBhcnNlT3B0aW9ucyhjb25zdCBDb25maWd1cmVPcHRpb24gKm9wdGlvbnMp
Cj4gK3ZvaWQgR3N0cmVhbWVyUGx1Z2luOjpQYXJzZU9wdGlvbnMoY29uc3QgQ29uZmlndXJlT3B0
aW9uICpvcHRpb25zLCAgU3BpY2VWaWRlb0NvZGVjVHlwZSBjb2RlYykKCldoeSBwYXNzIGEgY29k
ZWMgdGhhdCBpcyBzcGVjaWZpZWQgdGhyb3VnaCB0aGUgb3B0aW9ucz8KCj4gIHsKPiArICAgIHNl
dHRpbmdzLmNvZGVjID0gY29kZWM7Cj4gKwo+ICAgICAgZm9yICg7IG9wdGlvbnMtPm5hbWU7ICsr
b3B0aW9ucykgewo+ICAgICAgICAgIGNvbnN0IHN0ZDo6c3RyaW5nIG5hbWUgPSBvcHRpb25zLT5u
YW1lOwo+ICAgICAgICAgIGNvbnN0IHN0ZDo6c3RyaW5nIHZhbHVlID0gb3B0aW9ucy0+dmFsdWU7
Cj4gQEAgLTQzMSwyMCArNDMzLDYgQEAgdm9pZCBHc3RyZWFtZXJQbHVnaW46OlBhcnNlT3B0aW9u
cyhjb25zdCBDb25maWd1cmVPcHRpb24gKm9wdGlvbnMpCj4gICAgICAgICAgICAgIH0gY2F0Y2gg
KGNvbnN0IHN0ZDo6ZXhjZXB0aW9uICZlKSB7Cj4gICAgICAgICAgICAgICAgICB0aHJvdyBzdGQ6
OnJ1bnRpbWVfZXJyb3IoIkludmFsaWQgdmFsdWUgJyIgKyB2YWx1ZSArICInIGZvciBvcHRpb24g
J2ZyYW1lcmF0ZScuIik7Cj4gICAgICAgICAgICAgIH0KPiAtICAgICAgICB9IGVsc2UgaWYgKG5h
bWUgPT0gImdzdC5jb2RlYyIpIHsKPiAtICAgICAgICAgICAgaWYgKHZhbHVlID09ICJoMjY0Iikg
ewo+IC0gICAgICAgICAgICAgICAgc2V0dGluZ3MuY29kZWMgPSBTUElDRV9WSURFT19DT0RFQ19U
WVBFX0gyNjQ7Cj4gLSAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gInZwOSIpIHsKPiAt
ICAgICAgICAgICAgICAgIHNldHRpbmdzLmNvZGVjID0gU1BJQ0VfVklERU9fQ09ERUNfVFlQRV9W
UDk7Cj4gLSAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gInZwOCIpIHsKPiAtICAgICAg
ICAgICAgICAgIHNldHRpbmdzLmNvZGVjID0gU1BJQ0VfVklERU9fQ09ERUNfVFlQRV9WUDg7Cj4g
LSAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gIm1qcGVnIikgewo+IC0gICAgICAgICAg
ICAgICAgc2V0dGluZ3MuY29kZWMgPSBTUElDRV9WSURFT19DT0RFQ19UWVBFX01KUEVHOwo+IC0g
ICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICJoMjY1Iikgewo+IC0gICAgICAgICAgICAg
ICAgc2V0dGluZ3MuY29kZWMgPSBTUElDRV9WSURFT19DT0RFQ19UWVBFX0gyNjU7Cj4gLSAgICAg
ICAgICAgIH0gZWxzZSB7Cj4gLSAgICAgICAgICAgICAgICB0aHJvdyBzdGQ6OnJ1bnRpbWVfZXJy
b3IoIkludmFsaWQgdmFsdWUgJyIgKyB2YWx1ZSArICInIGZvciBvcHRpb24gJ2dzdC5jb2RlYycu
Iik7Cj4gLSAgICAgICAgICAgIH0KCkNvdWxkIHlvdSBmaW5kIGEgd2F5IHRvIGtlZXAgdGhhdCBv
cHRpb24gcGFyc2luZyB3aXRoaW4gUGFyc2VPcHRpb25zPwpNYXliZSBwYXNzIGFnZW50IGluc3Rl
YWQsIGFuZCByZWdpc3RlciBhIG5ldyBwbHVnaW4gd2hlbiB5b3Ugc2VlIGEgbmV3CmdzdC5jb2Rl
YyBvcHRpb24/IFlvdSBjb3VsZCBwcm9iYWJseSBhbHNvIGFkZCBhIGNvcHkgY29uc3RydWN0b3Is
IHdpdGgKc29tZXRoaW5nIGxpa2U6CgogICBhdXRvIHBsdWdpbiA9IHN0ZDo6bWFrZV9zaGFyZWQ8
R3N0cmVhbWVyUGx1Z2luPigqdGhpcyk7Cgp3aGVyZSB5b3UgY291bGQgcGFzcyB0aGUgYWxyZWFk
eS1wYXJzZWQgc2V0dGluZ3MgZnJvbSBvbmUgcGx1Z2luIHRvIHRoZSBuZXh0LgoKPiAgICAgICAg
ICB9IGVsc2UgaWYgKG5hbWUgPT0gImdzdC5lbmNvZGVyIikgewo+ICAgICAgICAgICAgICBzZXR0
aW5ncy5lbmNvZGVyID0gdmFsdWU7Cj4gICAgICAgICAgfQo+IEBAIC00NTksMTEgKzQ0NywzNSBA
QCBTUElDRV9TVFJFQU1JTkdfQUdFTlRfUExVR0lOKGFnZW50KQo+ICB7Cj4gICAgICBnc3RfaW5p
dChudWxscHRyLCBudWxscHRyKTsKPgo+IC0gICAgYXV0byBwbHVnaW4gPSBzdGQ6Om1ha2Vfc2hh
cmVkPEdzdHJlYW1lclBsdWdpbj4oKTsKPiArICAgIGF1dG8gb3B0aW9ucyA9IGFnZW50LT5PcHRp
b25zKCk7Cj4gKyAgICBmb3IgKDsgb3B0aW9ucy0+bmFtZTsgKytvcHRpb25zKSB7Cj4gKyAgICAg
ICAgY29uc3Qgc3RkOjpzdHJpbmcgbmFtZSA9IG9wdGlvbnMtPm5hbWU7Cj4gKyAgICAgICAgY29u
c3Qgc3RkOjpzdHJpbmcgdmFsdWUgPSBvcHRpb25zLT52YWx1ZTsKPgo+IC0gICAgcGx1Z2luLT5Q
YXJzZU9wdGlvbnMoYWdlbnQtPk9wdGlvbnMoKSk7Cj4gKyAgICAgICAgaWYgKG5hbWUgPT0gImdz
dC5jb2RlYyIpIHsKPiArICAgICAgICAgICAgU3BpY2VWaWRlb0NvZGVjVHlwZSBjb2RlY190eXBl
Owo+ICsgICAgICAgICAgICBpZiAodmFsdWUgPT0gIm1qcGVnIikgewo+ICsgICAgICAgICAgICAg
ICAgY29kZWNfdHlwZSA9IFNQSUNFX1ZJREVPX0NPREVDX1RZUEVfTUpQRUc7Cj4gKyAgICAgICAg
ICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gImgyNjQiKSB7Cj4gKyAgICAgICAgICAgICAgICBjb2Rl
Y190eXBlID0gU1BJQ0VfVklERU9fQ09ERUNfVFlQRV9IMjY0Owo+ICsgICAgICAgICAgICB9IGVs
c2UgaWYgKHZhbHVlID09ICJoMjY1Iikgewo+ICsgICAgICAgICAgICAgICAgY29kZWNfdHlwZSA9
IFNQSUNFX1ZJREVPX0NPREVDX1RZUEVfSDI2NTsKPiArICAgICAgICAgICAgfSBlbHNlIGlmICh2
YWx1ZSA9PSAidnA4Iikgewo+ICsgICAgICAgICAgICAgICAgY29kZWNfdHlwZSA9IFNQSUNFX1ZJ
REVPX0NPREVDX1RZUEVfVlA4Owo+ICsgICAgICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09ICJ2
cDkiKSB7Cj4gKyAgICAgICAgICAgICAgICBjb2RlY190eXBlID0gU1BJQ0VfVklERU9fQ09ERUNf
VFlQRV9WUDk7Cj4gKyAgICAgICAgICAgIH0gZWxzZSB7Cj4gKyAgICAgICAgICAgICAgICB0aHJv
dyBzdGQ6OnJ1bnRpbWVfZXJyb3IoIkludmFsaWQgdmFsdWUgJyIgKyB2YWx1ZSArICInIGZvciBv
cHRpb24gJ2dzdC5jb2RlYycuIik7Cj4gKyAgICAgICAgICAgIH0KPiArCj4gKyAgICAgICAgICAg
IGF1dG8gcGx1Z2luID0gc3RkOjptYWtlX3NoYXJlZDxHc3RyZWFtZXJQbHVnaW4+KCk7Cj4gKyAg
ICAgICAgICAgIHBsdWdpbi0+UGFyc2VPcHRpb25zKGFnZW50LT5PcHRpb25zKCksIGNvZGVjX3R5
cGUpOwo+ICsgICAgICAgICAgICBhZ2VudC0+UmVnaXN0ZXIocGx1Z2luKTsKPiArICAgICAgICB9
Cj4gKyAgICB9CgpCZWNhdXNlIG9mIHRoaXMgc2Vjb25kIGxvb3AsIHlvdSBwcmVzZW50bHkgbG9v
cCBtdWx0aXBsZSB0aW1lcyBvdmVyIHRoZQpzYW1lIG9wdGlvbnMuCj4KPiAtICAgIGFnZW50LT5S
ZWdpc3RlcihwbHVnaW4pOwo+ICsgICAgLy8gbm8gZGVmYXVsdCB2YWx1ZSBhdCB0aGUgbW9tZW50
Cj4gKyAgICAvLyAodXNlZCB0byBiZSBoMjY0LCBzZWUgR3N0cmVhbWVyRW5jb2RlclNldHRpbmdz
Ojpjb2RlYykKPgo+ICAgICAgcmV0dXJuIHRydWU7Cj4gIH0KCgotLQpDaGVlcnMsCkNocmlzdG9w
aGUgZGUgRGluZWNoaW4gKElSQyBjM2QpCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0
cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9s
aXN0aW5mby9zcGljZS1kZXZlbA==
