Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 33CBE89008
	for <lists+spice-devel@lfdr.de>; Sun, 11 Aug 2019 08:58:03 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 0C1856E46B;
	Sun, 11 Aug 2019 06:58:01 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 6A81E6E2D4
 for <spice-devel@lists.freedesktop.org>; Sun, 11 Aug 2019 06:57:59 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx02.intmail.prod.int.phx2.redhat.com
 [10.5.11.12])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 17DDD8BD23
 for <spice-devel@lists.freedesktop.org>; Sun, 11 Aug 2019 06:57:59 +0000 (UTC)
Received: from dhcp-4-70.tlv.redhat.com (dhcp-4-70.tlv.redhat.com [10.35.4.70])
 by smtp.corp.redhat.com (Postfix) with ESMTP id 7DE7360CD0
 for <spice-devel@lists.freedesktop.org>; Sun, 11 Aug 2019 06:57:58 +0000 (UTC)
From: Snir Sheriber <ssheribe@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Sun, 11 Aug 2019 09:57:55 +0300
Message-Id: <20190811065755.14812-2-ssheribe@redhat.com>
In-Reply-To: <20190811065755.14812-1-ssheribe@redhat.com>
References: <20190811065755.14812-1-ssheribe@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.12
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.28]); Sun, 11 Aug 2019 06:57:59 +0000 (UTC)
Subject: [Spice-devel] [PATCH v2 spice-streaming-agent 2/2] gst-plugin:
 Shorten template declarations
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

U2lnbmVkLW9mZi1ieTogU25pciBTaGVyaWJlciA8c3NoZXJpYmVAcmVkaGF0LmNvbT4KLS0tCkFu
b3RoZXIgc3VnZ2VzdGlvbiB0byBzaG90ZW4gdGhlIHRlbXBsYXRlcyArIGNoYW5naW5nIHN1Ympl
Y3QKLS0tCiBzcmMvZ3N0LXBsdWdpbi5jcHAgfCA2NCArKysrKysrKysrKysrKystLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAxIGZpbGUgY2hhbmdlZCwgMjAgaW5zZXJ0aW9ucygrKSwg
NDQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvc3JjL2dzdC1wbHVnaW4uY3BwIGIvc3JjL2dz
dC1wbHVnaW4uY3BwCmluZGV4IDRkMTdkYmMuLjcwM2Q1YjIgMTAwNjQ0Ci0tLSBhL3NyYy9nc3Qt
cGx1Z2luLmNwcAorKysgYi9zcmMvZ3N0LXBsdWdpbi5jcHAKQEAgLTM4LDQzICszOCwxOSBAQCBz
dHJ1Y3QgR3N0cmVhbWVyRW5jb2RlclNldHRpbmdzCiAgICAgc3RkOjp2ZWN0b3I8c3RkOjpwYWly
PHN0ZDo6c3RyaW5nLCBzdGQ6OnN0cmluZz4+IHByb3BfcGFpcnM7CiB9OwogCi10ZW1wbGF0ZSA8
dHlwZW5hbWUgVD4KLXN0cnVjdCBHc3RPYmplY3REZWxldGVyIHsKLSAgICB2b2lkIG9wZXJhdG9y
KCkoVCogcCkKLSAgICB7Ci0gICAgICAgIGdzdF9vYmplY3RfdW5yZWYocCk7Ci0gICAgfQotfTsK
LQotdGVtcGxhdGUgPHR5cGVuYW1lIFQ+Ci11c2luZyBHc3RPYmplY3RVUHRyID0gc3RkOjp1bmlx
dWVfcHRyPFQsIEdzdE9iamVjdERlbGV0ZXI8VD4+OwotCi1zdHJ1Y3QgR3N0Q2Fwc0RlbGV0ZXIg
ewotICAgIHZvaWQgb3BlcmF0b3IoKShHc3RDYXBzKiBwKQotICAgIHsKLSAgICAgICAgZ3N0X2Nh
cHNfdW5yZWYocCk7Ci0gICAgfQotfTsKLQotdXNpbmcgR3N0Q2Fwc1VQdHIgPSBzdGQ6OnVuaXF1
ZV9wdHI8R3N0Q2FwcywgR3N0Q2Fwc0RlbGV0ZXI+OwotCi1zdHJ1Y3QgR3N0U2FtcGxlRGVsZXRl
ciB7Ci0gICAgdm9pZCBvcGVyYXRvcigpKEdzdFNhbXBsZSogcCkKLSAgICB7Ci0gICAgICAgIGdz
dF9zYW1wbGVfdW5yZWYocCk7Ci0gICAgfQotfTsKLQotdXNpbmcgR3N0U2FtcGxlVVB0ciA9IHN0
ZDo6dW5pcXVlX3B0cjxHc3RTYW1wbGUsIEdzdFNhbXBsZURlbGV0ZXI+OwotCi1zdHJ1Y3QgR3N0
QnVmZmVyRGVsZXRlciB7Ci0gICAgdm9pZCBvcGVyYXRvcigpKEdzdEJ1ZmZlciogcCkKLSAgICB7
Ci0gICAgICAgIGdzdF9idWZmZXJfdW5yZWYocCk7Ci0gICAgfQotfTsKLQotdXNpbmcgR3N0QnVm
ZmVyVVB0ciA9IHN0ZDo6dW5pcXVlX3B0cjxHc3RCdWZmZXIsIEdzdEJ1ZmZlckRlbGV0ZXI+Owor
I2RlZmluZSBERUNMQVJFX1VQVFIodHlwZSwgZnVuYykgXAorc3RydWN0IHR5cGUjI0RlbGV0ZXIg
eyBcCisgICAgdm9pZCBvcGVyYXRvcigpKHR5cGUqIHApIFwKKyAgICB7IFwKKyAgICAgICAgZnVu
YyhwKTsgXAorICAgIH0gXAorfTsgXAordXNpbmcgdHlwZSMjVVB0ciA9IHN0ZDo6dW5pcXVlX3B0
cjx0eXBlLCB0eXBlIyNEZWxldGVyPjsgXAorCitERUNMQVJFX1VQVFIoR3N0QnVmZmVyLCBnc3Rf
YnVmZmVyX3VucmVmKQorREVDTEFSRV9VUFRSKEdzdENhcHMsIGdzdF9jYXBzX3VucmVmKQorREVD
TEFSRV9VUFRSKEdzdFNhbXBsZSwgZ3N0X3NhbXBsZV91bnJlZikKK0RFQ0xBUkVfVVBUUihHc3RF
bGVtZW50LCBnc3Rfb2JqZWN0X3VucmVmKQogCiBjbGFzcyBHc3RyZWFtZXJGcmFtZUNhcHR1cmUg
ZmluYWwgOiBwdWJsaWMgRnJhbWVDYXB0dXJlCiB7CkBAIC05Niw3ICs3Miw3IEBAIHByaXZhdGU6
CiAjaWYgWExJQl9DQVBUVVJFCiAgICAgdm9pZCB4bGliX2NhcHR1cmUoKTsKICNlbmRpZgotICAg
IEdzdE9iamVjdFVQdHI8R3N0RWxlbWVudD4gcGlwZWxpbmUsIGNhcHR1cmUsIHNpbms7CisgICAg
R3N0RWxlbWVudFVQdHIgcGlwZWxpbmUsIGNhcHR1cmUsIHNpbms7CiAgICAgR3N0U2FtcGxlVVB0
ciBzYW1wbGU7CiAgICAgR3N0TWFwSW5mbyBtYXAgPSB7fTsKICAgICB1aW50MzJfdCBsYXN0X3dp
ZHRoID0gfjB1LCBsYXN0X2hlaWdodCA9IH4wdTsKQEAgLTIxMCw3ICsxODYsNyBAQCBHc3RFbGVt
ZW50ICpHc3RyZWFtZXJGcmFtZUNhcHR1cmU6OmdldF9lbmNvZGVyX3BsdWdpbihjb25zdCBHc3Ry
ZWFtZXJFbmNvZGVyU2V0dAogCiAvLyBVdGlsaXR5IHRvIGFkZCBhbiBlbGVtZW50IHRvIGEgR3N0
QmluCiAvLyBUaGlzIGNoZWNrcyByZXR1cm4gdmFsdWUgYW5kIHVwZGF0ZSByZWZlcmVuY2UgY29y
cmVjdGx5Ci12b2lkIGdzdF9iaW5fYWRkKEdzdEJpbiAqYmluLCBjb25zdCBHc3RPYmplY3RVUHRy
PEdzdEVsZW1lbnQ+ICZlbGVtKQordm9pZCBnc3RfYmluX2FkZChHc3RCaW4gKmJpbiwgY29uc3Qg
R3N0RWxlbWVudFVQdHIgJmVsZW0pCiB7CiAgICAgaWYgKDo6Z3N0X2Jpbl9hZGQoYmluLCBlbGVt
LmdldCgpKSkgewogICAgICAgICAvLyA6OmdzdF9iaW5fYWRkIHRha2Ugb3duZXJzaGlwIHVzaW5n
IGZsb2F0aW5nIHJlZmVyZW5jZXMgYnV0CkBAIC0yMjYsMjQgKzIwMiwyNCBAQCB2b2lkIEdzdHJl
YW1lckZyYW1lQ2FwdHVyZTo6cGlwZWxpbmVfaW5pdChjb25zdCBHc3RyZWFtZXJFbmNvZGVyU2V0
dGluZ3MgJnNldHRpbgogewogICAgIGdib29sZWFuIGxpbms7CiAKLSAgICBHc3RPYmplY3RVUHRy
PEdzdEVsZW1lbnQ+IHBpcGVsaW5lKGdzdF9waXBlbGluZV9uZXcoInBpcGVsaW5lIikpOworICAg
IEdzdEVsZW1lbnRVUHRyIHBpcGVsaW5lKGdzdF9waXBlbGluZV9uZXcoInBpcGVsaW5lIikpOwog
ICAgIGlmICghcGlwZWxpbmUpIHsKICAgICAgICAgdGhyb3cgc3RkOjpydW50aW1lX2Vycm9yKCJH
c3RyZWFtZXIncyBwaXBlbGluZSBlbGVtZW50IGNhbm5vdCBiZSBjcmVhdGVkIik7CiAgICAgfQot
ICAgIEdzdE9iamVjdFVQdHI8R3N0RWxlbWVudD4gY2FwdHVyZShnZXRfY2FwdHVyZV9wbHVnaW4o
c2V0dGluZ3MpKTsKKyAgICBHc3RFbGVtZW50VVB0ciBjYXB0dXJlKGdldF9jYXB0dXJlX3BsdWdp
bihzZXR0aW5ncykpOwogICAgIGlmICghY2FwdHVyZSkgewogICAgICAgICB0aHJvdyBzdGQ6OnJ1
bnRpbWVfZXJyb3IoIkdzdHJlYW1lcidzIGNhcHR1cmUgZWxlbWVudCBjYW5ub3QgYmUgY3JlYXRl
ZCIpOwogICAgIH0KLSAgICBHc3RPYmplY3RVUHRyPEdzdEVsZW1lbnQ+IGNvbnZlcnQoZ3N0X2Vs
ZW1lbnRfZmFjdG9yeV9tYWtlKCJhdXRvdmlkZW9jb252ZXJ0IiwgImNvbnZlcnQiKSk7CisgICAg
R3N0RWxlbWVudFVQdHIgY29udmVydChnc3RfZWxlbWVudF9mYWN0b3J5X21ha2UoImF1dG92aWRl
b2NvbnZlcnQiLCAiY29udmVydCIpKTsKICAgICBpZiAoIWNvbnZlcnQpIHsKICAgICAgICAgdGhy
b3cgc3RkOjpydW50aW1lX2Vycm9yKCJHc3RyZWFtZXIncyAnYXV0b3ZpZGVvY29udmVydCcgZWxl
bWVudCBjYW5ub3QgYmUgY3JlYXRlZCIpOwogICAgIH0KICAgICBHc3RDYXBzVVB0ciBzaW5rX2Nh
cHM7Ci0gICAgR3N0T2JqZWN0VVB0cjxHc3RFbGVtZW50PiBlbmNvZGVyKGdldF9lbmNvZGVyX3Bs
dWdpbihzZXR0aW5ncywgc2lua19jYXBzKSk7CisgICAgR3N0RWxlbWVudFVQdHIgZW5jb2Rlcihn
ZXRfZW5jb2Rlcl9wbHVnaW4oc2V0dGluZ3MsIHNpbmtfY2FwcykpOwogICAgIGlmICghZW5jb2Rl
cikgewogICAgICAgICB0aHJvdyBzdGQ6OnJ1bnRpbWVfZXJyb3IoIkdzdHJlYW1lcidzIGVuY29k
ZXIgZWxlbWVudCBjYW5ub3QgYmUgY3JlYXRlZCIpOwogICAgIH0KLSAgICBHc3RPYmplY3RVUHRy
PEdzdEVsZW1lbnQ+IHNpbmsoZ3N0X2VsZW1lbnRfZmFjdG9yeV9tYWtlKCJhcHBzaW5rIiwgInNp
bmsiKSk7CisgICAgR3N0RWxlbWVudFVQdHIgc2luayhnc3RfZWxlbWVudF9mYWN0b3J5X21ha2Uo
ImFwcHNpbmsiLCAic2luayIpKTsKICAgICBpZiAoIXNpbmspIHsKICAgICAgICAgdGhyb3cgc3Rk
OjpydW50aW1lX2Vycm9yKCJHc3RyZWFtZXIncyBhcHBzaW5rIGVsZW1lbnQgY2Fubm90IGJlIGNy
ZWF0ZWQiKTsKICAgICB9Ci0tIAoyLjIxLjAKCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBs
aXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1h
bi9saXN0aW5mby9zcGljZS1kZXZlbA==
