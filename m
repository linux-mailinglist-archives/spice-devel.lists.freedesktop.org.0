Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 978385DF4A
	for <lists+spice-devel@lfdr.de>; Wed,  3 Jul 2019 10:07:23 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7CCE96E0B8;
	Wed,  3 Jul 2019 08:07:21 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-io1-f68.google.com (mail-io1-f68.google.com
 [209.85.166.68])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 234C76E0B8
 for <spice-devel@lists.freedesktop.org>; Wed,  3 Jul 2019 08:07:20 +0000 (UTC)
Received: by mail-io1-f68.google.com with SMTP id u19so2625717ior.9
 for <spice-devel@lists.freedesktop.org>; Wed, 03 Jul 2019 01:07:20 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=Vhpx6GfsgRRmGTJUQSYLQW/38xDGM2Jg9gLV1wA52W0=;
 b=ucZH3szw3+JsVr4rxlgoCzQOjkxq5avy9SyIqexUyYTARJAPGMMXLWSOKqZ3ABHBI1
 WTFuxSnzdGu6IrI4qts6RIN54N5lqfipPcRHMNWLn55HwkJQa9EuqREj7m08MCfR29ES
 aWDaQmHjKpz9MF3FMagoaoq00y6Xy900NFCvJcmqxDZs9WKV8YCF3leFkZGl3IPe0fzc
 rsIwu6nQQbw3Tj2+JO2k9Wqqamx0Ug/uJq/XoiqoYb4RjoLyV80VscnY+6qitmgLYNGJ
 FkyNuBIxXzloUWMWnnx7XgrMcTs/ynsmfZuAKaywOyghUNwn8KQ2Kg0XrkdaP/+jv/Js
 +6og==
X-Gm-Message-State: APjAAAUIBIUS1DMsAWpTCTr3E6TSSUim2XoNEZUWK6pcWW5BkPK3elED
 ssKS/vwmQxHCZAprVzDJg6ZDKsol+U5xlx90sS6eyw==
X-Google-Smtp-Source: APXvYqwSa0XBc14g7cQITHHawY+DstPhcjA/q/n2pzGzQAeS36+GSyFMLRJMEjYizcTyZTJvF2lTYSTJ0dXEALWvwyI=
X-Received: by 2002:a6b:f711:: with SMTP id k17mr5446141iog.273.1562141239448; 
 Wed, 03 Jul 2019 01:07:19 -0700 (PDT)
MIME-Version: 1.0
References: <20190701094744.18558-1-jjanku@redhat.com>
 <1029094810.25942857.1561978920203.JavaMail.zimbra@redhat.com>
 <CAH=CeiA8nhMS5+64jK=VJu4-FumvsbnrFCW3ePXs7CcsEwO02A@mail.gmail.com>
In-Reply-To: <CAH=CeiA8nhMS5+64jK=VJu4-FumvsbnrFCW3ePXs7CcsEwO02A@mail.gmail.com>
From: Jakub Janku <jjanku@redhat.com>
Date: Wed, 3 Jul 2019 10:07:08 +0200
Message-ID: <CAH=CeiCxCsKX0H2qUpH2OaPY_1=1q=GYqOynxqY=382Dt8u+NQ@mail.gmail.com>
To: Frediano Ziglio <fziglio@redhat.com>
Subject: Re: [Spice-devel] [PATCH spice-gtk] webdav: don't buffer input from
 phodav
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SGkgYWdhaW4sCgpPbiBNb24sIEp1bCAxLCAyMDE5IGF0IDM6MTYgUE0gSmFrdWIgSmFua3UgPGpq
YW5rdUByZWRoYXQuY29tPiB3cm90ZToKPgo+IEhpLAo+Cj4gT24gTW9uLCBKdWwgMSwgMjAxOSBh
dCAxOjAyIFBNIEZyZWRpYW5vIFppZ2xpbyA8ZnppZ2xpb0ByZWRoYXQuY29tPiB3cm90ZToKPiA+
Cj4gPiA+Cj4gPiA+IFRoZSBjdXJyZW50IGFwcHJvYWNoIHdpdGggT3V0cHV0UXVldWUgaW4gd2Vi
ZGF2IGhhcyBzZXZlcmFsIHByb2JsZW1zOgo+ID4gPgo+ID4gPiAqIGlmIHRoZSBjb25uZWN0aW9u
IGlzIHNsb3csIHdlYmRhdiBrZWVwcyByZWFkaW5nIGZyb20gcGhvZGF2Cj4gPiA+IGFuZCBwdXNo
aW5nIG1lc3NhZ2VzIHRvIHRoZSBpbnRlcm5hbCBjaGFubmVsIHhtaXRfcXVldWUuCj4gPiA+IFRo
aXMgd2F5LCB0aGUgcXVldWUgY2FuIGdyb3cgdmVyeSBxdWlja2x5IGFuZCB0aGUgd2hvbGUgZmls
ZQo+ID4gPiB0aGF0IGlzIGJlaW5nIHRyYW5zZmVycmVkIHVzaW5nIHdlYmRhdiBlc3NlbnRpYWxs
eSBnZXRzIGxvYWRlZCBpbnRvIG1lbW9yeS4KPiA+ID4KPiA+ID4gKiBzcGljZSBjaGFubmVsIGZp
cnN0IGZsdXNoZXMgYWxsIG1lc3NhZ2VzIGluIHRoZSB4bWl0X3F1ZXVlIGFuZAo+ID4gPiB0aGVu
IHByb2NlZWRzIHRvIHJlYWRpbmcuIElmIHdlYmRhdiBmbG9vZHMgdGhlIHhtaXRfcXVldWUgd2l0
aAo+ID4gPiBhIHRvbiBvZiBtZXNzYWdlcywgc3BpY2UgY2hhbm5lbCBkb2VzIG5vdCBsZWF2ZSBp
dGVyYXRlX3dyaXRlIHVudGlsCj4gPiA+IHRoZSBxdWV1ZSBnZXRzIGVtcHR5LiBUaGlzIHdheSwg
cmVhZGluZyBmcm9tIHRoZSBjaGFubmVsIGlzIGJsb2NrZWQKPiA+ID4gdGlsbCB0aGUgd2hvbGUg
ZmlsZSBpcyB0cmFuc2ZlcnJlZC4KPiA+ID4KPiA+ID4gKiBPdXRwdXRRdWV1ZSB1c2VzIGdfb3V0
cHV0X3N0cmVhbV9mbHVzaF9hc3luYygpIG9uIFNwaWNlVm1jT3V0cHV0U3RyZWFtCj4gPiA+IHRo
YXQgZG9lcyBub3QgaW1wbGVtZW50IGZsdXNoCj4gPiA+Cj4gPiA+IFRvIHNvbHZlIHRoZXNlIGlz
c3VlcywgZG9uJ3QgcmVhZCBmcm9tIHBob2RhdiB1bnRpbCB0aGUgbGFzdCBtZXNzYWdlCj4gPiA+
IGZvciBhIGdpdmVuIGNsaWVudCBpcyB3cml0dGVuIG91dCB0byB0aGUgc29ja2V0Lgo+ID4gPiAo
bWFpbiBjaGFubmVsIGN1cnJlbnRseSB1c2VzIHRoZSBzYW1lIGFwcHJvYWNoIHdoZW4gdHJhbnNm
ZXJyaW5nIGZpbGVzKQo+ID4gPgo+ID4gPiBPdXRwdXRRdWV1ZSB1c2VkIGFuIGlkbGUgZnVuY3Rp
b24gdG8gc2NoZWR1bGUgdGhlIHdyaXRlIGFuZCB0aGVuCj4gPiA+IGNhbGxlZCBtdXhfcHVzaGVk
X2NiIHdoaWNoIHN0YXJ0ZWQgcmVhZGluZyBmcm9tIHBob2RhdiB3aXRoIHByaW9yaXR5Cj4gPiA+
IEdfUFJJT1JJVFlfREVGQVVMVC4KPiA+ID4gU2luY2UgdGhpcyBuZXcgYXBwcm9hY2ggZG9lcyBu
b3QgdXRpbGl6ZSB0aGUgaWRsZSBzY2hlZHVsaW5nLAo+ID4gPiBsb3dlciB0aGUgcHJpb3JpdHkg
aW4gY2xpZW50X3N0YXJ0X3JlYWQoKSB0byBHX1BSSU9SSVRZX0RFRkFVTFRfSURMRQo+ID4gPiB0
byBtYWtlIHN1cmUgd2ViZGF2IGRvZXMgbm90IGJsb2NrIG90aGVyIGNoYW5uZWxzLgo+ID4gPgo+
ID4KPiA+IFRoaXMgc291bmRzIGEgYml0IHdvcnJ5aW5nLiBXaHkgd2l0aCBhbGwgY29yb3V0aW5l
L2FzeW5jIGNvZGUgd2UKPiA+IGhhdmUgd2Ugc2hvdWxkIGhhdmUgYSBibG9ja2FnZT8gVGhpcyBz
b3VuZHMgd3JvbmcuCj4KPiBUbyBiZSBob25lc3QsIEkgZGlkIG5vdCBzcGVudCBtdWNoIHRpbWUg
bG9va2luZyBhdCB3aHkgdGhpcyBibG9ja3MuCj4gTG93ZXJpbmcgdGhlIHByaW9yaXR5IG9mIHdl
YmRhdiBtYWtlcyBzZW5zZSB0byBtZSByZWdhcmRsZXNzIG9mIHRoaXMgaXNzdWUuCj4gQW5vdGhl
ciB0aGluZyBpcyB0aGF0IHdpdGggeW91ciBzcGljZS1zZXJ2ZXIgc2VyaWVzIGNvbmNlcm5pbmcK
PiBzcGljZXZtYyBhbmQgRG9TLCB0aGlzIGlzbid0IGFuIGlzc3VlLgoKSSBkaWQgc29tZSBtb3Jl
IHRlc3RpbmcgYW5kIGhlcmUncyB3aGF0IEkndmUgZm91bmQgb3V0OgoKQ2hhbm5lbCBkaXNwbGF5
IHVzZXMgZ19jb3JvdXRpbmVfc2lnbmFsX2VtaXQoKSB0byBlbWl0IHRoZQoiZGlzcGxheS1pbnZh
bGlkYXRlIiBzaWduYWwuClRoaXMgZnVuY3Rpb24gdXNlcyBhbiBpZGxlIGZ1bmN0aW9uIChHX1BS
SU9SSVRZX0RFRkFVTFRfSURMRSA9IDIwMCkgdG8KZW1pdCB0aGUgc2lnbmFsIGluIHRoZSBtYWlu
IGNvbnRleHQuCgpGcm9tIEd0ayBkb2NzIChHX1BSSU9SSVRZX0hJR0hfSURMRSA9IDEwMDsgbGFy
Z2VyIG51bWJlciBtZWFucyBsb3dlciBwcmlvcml0eSk6CiJHVEsrIHVzZXMgR19QUklPUklUWV9I
SUdIX0lETEUgKyAxMCBmb3IgcmVzaXppbmcgb3BlcmF0aW9ucywgYW5kCkdfUFJJT1JJVFlfSElH
SF9JRExFICsgMjAgZm9yIHJlZHJhd2luZyBvcGVyYXRpb25zLiIKClRoaXMgbWVhbnMgdGhhdCBp
ZiB0aGUgY2xpZW50X3N0YXJ0X3JlYWQoKSBpbiB3ZWJkYXYgdXNlcwpHX1BSSU9SSVRZX0RFRkFV
TFQ9IDAsIGl0IGNhbiBibG9jayB0aGVzZSB0d28gb3BlcmF0aW9ucyByYXRoZXIgZWFzaWx5CmNh
dXNpbmcgdGhlIHdpZGdldCBub3QgdG8gcmVkcmF3LiBCdXQgYXMgSSBzYWlkLCB0aGlzIHNob3Vs
ZG4ndCBiZSBhbgppc3N1ZSBpZiB0aGUgY2hhbm5lbCB3YXMgdGhyb3R0bGVkIGRvd24gYnkgdGhl
IHNlcnZlci4KClNvIGlzIGl0IG9rIHRvIGxvd2VyIHRoZSBwcmlvcml0eSBpbiB3ZWJkYXYgdG8g
R19QUklPUklUWV9ERUZBVUxUX0lETEU/CgpDaGVlcnMsCkpha3ViCj4gPgo+ID4gPiBBbHNvIGlt
cGxlbWVudCBzcGljZV93ZWJkYXZfY2hhbm5lbF9yZXNldCgpLiBUaGlzIGlzIG5lY2Vzc2FyeSBi
ZWNhdXNlCj4gPiA+IHNwaWNlX3ZtY193cml0ZV9hc3luYygpIHJlZmVyZW5jZXMgdGhlIGNoYW5u
ZWwuIElmIHRoZSBjaGFubmVsIGlzIHRvIGJlCj4gPiA+IGRpc2Nvbm5lY3RlZCwgdGhlIHdyaXRl
IG9wZXJhdGlvbnMgbmVlZCB0byBiZSBjYW5jZWxsZWQgc28gdGhhdAo+ID4gPiB0aGUgcmVmZXJl
bmNlcyB0byB0aGUgY2hhbm5lbCBhcmUgcmVsZWFzZWQgYXNhcC4gT3RoZXJ3aXNlLAo+ID4gPiBz
cGljZSBzZXNzaW9uIHdvdWxkIGJlIHN0dWNrIHdhaXRpbmcgZm9yIHRoZSBjaGFubmVsIHRvIGZp
bmFsaXplLgo+ID4gPgo+ID4gPiBTaWduZWQtb2ZmLWJ5OiBKYWt1YiBKYW5rxa8gPGpqYW5rdUBy
ZWRoYXQuY29tPgo+ID4gPiAtLS0KPiA+ID4KPiA+ID4gTm90ZTogSSBsZWZ0IHRoZSBPdXRwdXRR
dWV1ZSBjb2RlIHN0aWxsIGluIHBsYWNlIHNpbmNlIEknbSBjb25zaWRlcmluZwo+ID4gPiB1c2lu
ZyBpdCBmb3IgdGhlIGRyYWcmZHJvcCBmdW5jdGlvbmFsaXR5Lgo+ID4gPgo+ID4gPiAgc3JjL2No
YW5uZWwtd2ViZGF2LmMgfCA0OSArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKy0tLS0t
LS0tLS0tLQo+ID4gPiAgMSBmaWxlIGNoYW5nZWQsIDM2IGluc2VydGlvbnMoKyksIDEzIGRlbGV0
aW9ucygtKQo+ID4gPgo+ID4gPiBkaWZmIC0tZ2l0IGEvc3JjL2NoYW5uZWwtd2ViZGF2LmMgYi9z
cmMvY2hhbm5lbC13ZWJkYXYuYwo+ID4gPiBpbmRleCBmNWEzOGFkLi42NmY4YTViIDEwMDY0NAo+
ID4gPiAtLS0gYS9zcmMvY2hhbm5lbC13ZWJkYXYuYwo+ID4gPiArKysgYi9zcmMvY2hhbm5lbC13
ZWJkYXYuYwo+ID4gPiBAQCAtNDUsMTMgKzQ1LDEyIEBACj4gPiA+ICAgKiBTaW5jZTogMC4yNAo+
ID4gPiAgICovCj4gPiA+Cj4gPiA+IC10eXBlZGVmIHN0cnVjdCBfT3V0cHV0UXVldWUgT3V0cHV0
UXVldWU7Cj4gPiA+ICsvKiB0eXBlZGVmIHN0cnVjdCBfT3V0cHV0UXVldWUgT3V0cHV0UXVldWU7
ICovCj4gPiA+Cj4gPiA+ICBzdHJ1Y3QgX1NwaWNlV2ViZGF2Q2hhbm5lbFByaXZhdGUgewo+ID4g
PiAgICAgIFNwaWNlVm1jU3RyZWFtICpzdHJlYW07Cj4gPiA+ICAgICAgR0NhbmNlbGxhYmxlICpj
YW5jZWxsYWJsZTsKPiA+ID4gICAgICBHSGFzaFRhYmxlICpjbGllbnRzOwo+ID4gPiAtICAgIE91
dHB1dFF1ZXVlICpxdWV1ZTsKPiA+ID4KPiA+ID4gICAgICBnYm9vbGVhbiBkZW11eGluZzsKPiA+
ID4gICAgICBzdHJ1Y3QgX2RlbXV4IHsKPiA+ID4gQEAgLTY1LDYgKzY0LDcgQEAgR19ERUZJTkVf
VFlQRV9XSVRIX1BSSVZBVEUoU3BpY2VXZWJkYXZDaGFubmVsLAo+ID4gPiBzcGljZV93ZWJkYXZf
Y2hhbm5lbCwgU1BJQ0VfVFlQRV8KPiA+ID4KPiA+ID4gIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRh
dl9oYW5kbGVfbXNnKFNwaWNlQ2hhbm5lbCAqY2hhbm5lbCwgU3BpY2VNc2dJbiAqbXNnKTsKPiA+
ID4KPiA+ID4gKyNpZiAwCj4gPiA+ICBzdHJ1Y3QgX091dHB1dFF1ZXVlIHsKPiA+ID4gICAgICBH
T3V0cHV0U3RyZWFtICpvdXRwdXQ7Cj4gPiA+ICAgICAgZ2Jvb2xlYW4gZmx1c2hpbmc7Cj4gPiA+
IEBAIC0xNzksNiArMTc5LDggQEAgc3RhdGljIHZvaWQgb3V0cHV0X3F1ZXVlX3B1c2goT3V0cHV0
UXVldWUgKnEsIGNvbnN0Cj4gPiA+IGd1aW50OCAqYnVmLCBnc2l6ZSBzaXplLAo+ID4gPiAgICAg
ICAgICBxLT5pZGxlX2lkID0gZ19pZGxlX2FkZChvdXRwdXRfcXVldWVfaWRsZSwgcSk7Cj4gPiA+
ICB9Cj4gPiA+Cj4gPiA+ICsjZW5kaWYKPiA+ID4gKwo+ID4gPiAgdHlwZWRlZiBzdHJ1Y3QgQ2xp
ZW50Cj4gPiA+ICB7Cj4gPiA+ICAgICAgZ3VpbnQgcmVmczsKPiA+ID4gQEAgLTIyNywxMCArMjI5
LDE3IEBAIHN0YXRpYyB2b2lkIHJlbW92ZV9jbGllbnQoQ2xpZW50ICpjbGllbnQpCj4gPiA+ICAg
ICAgZ19oYXNoX3RhYmxlX3JlbW92ZShjbGllbnQtPnNlbGYtPnByaXYtPmNsaWVudHMsICZjbGll
bnQtPmlkKTsKPiA+ID4gIH0KPiA+ID4KPiA+ID4gLXN0YXRpYyB2b2lkIG11eF9wdXNoZWRfY2Io
T3V0cHV0UXVldWUgKnEsIGdwb2ludGVyIHVzZXJfZGF0YSkKPiA+ID4gKyNkZWZpbmUgTUFYX01V
WF9TSVpFIEdfTUFYVUlOVDE2Cj4gPiA+ICsKPiA+ID4gK3N0YXRpYyB2b2lkCj4gPiA+ICttdXhf
bXNnX2ZsdXNoZWRfY2IoR09iamVjdCAqc291cmNlX29iamVjdCwKPiA+ID4gKyAgICAgICAgICAg
ICAgICAgICBHQXN5bmNSZXN1bHQgKnJlc3VsdCwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICBn
cG9pbnRlciB1c2VyX2RhdGEpCj4gPiA+ICB7Cj4gPiA+ICAgICAgQ2xpZW50ICpjbGllbnQgPSB1
c2VyX2RhdGE7Cj4gPiA+Cj4gPiA+ICsgICAgZ19vdXRwdXRfc3RyZWFtX3dyaXRlX2ZpbmlzaChH
X09VVFBVVF9TVFJFQU0oc291cmNlX29iamVjdCksIHJlc3VsdCwKPiA+ID4gTlVMTCk7Cj4gPiA+
ICsKPiA+ID4gICAgICBpZiAoY2xpZW50LT5tdXguc2l6ZSA9PSAwIHx8Cj4gPiA+ICAgICAgICAg
ICFjbGllbnRfc3RhcnRfcmVhZChjbGllbnQpKSB7Cj4gPiA+ICAgICAgICAgIHJlbW92ZV9jbGll
bnQoY2xpZW50KTsKPiA+ID4gQEAgLTIzOSwxNCArMjQ4LDEzIEBAIHN0YXRpYyB2b2lkIG11eF9w
dXNoZWRfY2IoT3V0cHV0UXVldWUgKnEsIGdwb2ludGVyCj4gPiA+IHVzZXJfZGF0YSkKPiA+ID4g
ICAgICBjbGllbnRfdW5yZWYoY2xpZW50KTsKPiA+ID4gIH0KPiA+ID4KPiA+ID4gLSNkZWZpbmUg
TUFYX01VWF9TSVpFIEdfTUFYVUlOVDE2Cj4gPiA+IC0KPiA+ID4gIHN0YXRpYyB2b2lkIHNlcnZl
cl9yZXBseV9jYihHT2JqZWN0ICpzb3VyY2Vfb2JqZWN0LAo+ID4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIEdBc3luY1Jlc3VsdCAqcmVzLAo+ID4gPiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGdwb2ludGVyIHVzZXJfZGF0YSkKPiA+ID4gIHsKPiA+ID4gICAgICBDbGllbnQg
KmNsaWVudCA9IHVzZXJfZGF0YTsKPiA+ID4gICAgICBTcGljZVdlYmRhdkNoYW5uZWxQcml2YXRl
ICpjID0gY2xpZW50LT5zZWxmLT5wcml2Owo+ID4gPiArICAgIEdPdXRwdXRTdHJlYW0gKm11eF9v
dXQ7Cj4gPiA+ICAgICAgR0Vycm9yICplcnIgPSBOVUxMOwo+ID4gPiAgICAgIGdzc2l6ZSBzaXpl
Owo+ID4gPgo+ID4gPiBAQCAtMjU4LDEwICsyNjYsMTUgQEAgc3RhdGljIHZvaWQgc2VydmVyX3Jl
cGx5X2NiKEdPYmplY3QgKnNvdXJjZV9vYmplY3QsCj4gPiA+ICAgICAgZ19yZXR1cm5faWZfZmFp
bChzaXplID49IDApOwo+ID4gPiAgICAgIGNsaWVudC0+bXV4LnNpemUgPSBzaXplOwo+ID4gPgo+
ID4gPiAtICAgIG91dHB1dF9xdWV1ZV9wdXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4ICopJmNsaWVudC0+
bXV4LmlkLCBzaXplb2YoZ2ludDY0KSwKPiA+ID4gTlVMTCwgTlVMTCk7Cj4gPiA+ICsgICAgbXV4
X291dCA9IGdfaW9fc3RyZWFtX2dldF9vdXRwdXRfc3RyZWFtKEdfSU9fU1RSRUFNKGMtPnN0cmVh
bSkpOwo+ID4gPiArCj4gPiA+ICsgICAgZ19vdXRwdXRfc3RyZWFtX3dyaXRlKG11eF9vdXQsIChn
dWludDggKikmY2xpZW50LT5tdXguaWQsCj4gPiA+IHNpemVvZihnaW50NjQpLCBOVUxMLCBOVUxM
KTsKPiA+ID4gICAgICBjbGllbnQtPm11eC5zaXplID0gR1VJTlQxNl9UT19MRShjbGllbnQtPm11
eC5zaXplKTsKPiA+ID4gLSAgICBvdXRwdXRfcXVldWVfcHVzaChjLT5xdWV1ZSwgKGd1aW50OCAq
KSZjbGllbnQtPm11eC5zaXplLAo+ID4gPiBzaXplb2YoZ3VpbnQxNiksIE5VTEwsIE5VTEwpOwo+
ID4gPiAtICAgIG91dHB1dF9xdWV1ZV9wdXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4ICopY2xpZW50LT5t
dXguYnVmLCBzaXplLAo+ID4gPiAoR0Z1bmMpbXV4X3B1c2hlZF9jYiwgY2xpZW50KTsKPiA+ID4g
KyAgICBnX291dHB1dF9zdHJlYW1fd3JpdGUobXV4X291dCwgKGd1aW50OCAqKSZjbGllbnQtPm11
eC5zaXplLAo+ID4gPiBzaXplb2YoZ3VpbnQxNiksIE5VTEwsIE5VTEwpOwo+ID4gPiArICAgIC8q
IHRoaXMgaW50ZXJuYWxseSB1c2VzIHNwaWNlX3ZtY193cml0ZV9hc3luYygpLCBwcmlvcml0eSBp
cyBpZ25vcmVkOwo+ID4gPiArICAgICAqIHRoZSBjYWxsYmFjayBpcyBpbnZva2VkIG9uY2UgdGhl
IG1zZyBpcyB3cml0dGVuIG91dCB0byB0aGUgc29ja2V0ICovCj4gPiA+ICsgICAgZ19vdXRwdXRf
c3RyZWFtX3dyaXRlX2FzeW5jKG11eF9vdXQsIChndWludDggKiljbGllbnQtPm11eC5idWYsIHNp
emUsCj4gPiA+ICsgICAgICAgIEdfUFJJT1JJVFlfREVGQVVMVCwgY2xpZW50LT5jYW5jZWxsYWJs
ZSwgbXV4X21zZ19mbHVzaGVkX2NiLAo+ID4gPiBjbGllbnQpOwo+ID4KPiA+IFdoeSBkb24ndCB5
b3UgdXNlIGdfb3V0cHV0X3N0cmVhbV93cml0ZXZfYWxsX2FzeW5jIGhlcmUgd3JpdGluZyBhbGwg
MyBidWZmZXJzCj4gPiB0b2dldGhlciBhbmQgYXZvaWQgYmxvY2tpbmcgY2FsbHM/Cj4KPiBBY3R1
YWxseSwgYWxsIG9mIHRoZXNlIDMgY2FsbHMgYXJlIGluIGEgd2F5IHN5bmNocm9ub3VzIC0tIGxv
b2sgYXQKPiBTcGljZVZtY091dHB1dFN0cmVhbSBpbXBsZW1lbnRhdGlvbiwKPiB0aGV5IGFsbCBj
cmVhdGUgYSBuZXcgb3V0IG1lc3NhZ2UgYW5kIGFwcGVuZCBpdCB0byB0aGUgY2hhbm5lbCdzIHht
aXRfcXVldWUuCj4gVGhlIG9ubHkgZGlmZmVyZW5jZSBpcyB0aGF0IHdpdGggdGhlIGFzeW5jIGNh
bGwsIHdlIGNhbiBwcm92aWRlIGEKPiBmdW5jdGlvbiB0aGF0IGlzIGNhbGxlZCBiYWNrIG9uY2Ug
dGhlIG1lc3NhZ2UgaXMgd3JpdHRlbiBvdXQuCj4KPiBJIGFncmVlIHRoYXQgdGhlIDMgYnVmZmVy
cyBjb3VsZCBiZSB3cml0dGVuIHRvZ2V0aGVyLCBidXQgd3JpdGluZyB0aGVtCj4gc2VwYXJhdGVs
eSB3YXNuJ3QgaW50cm9kdWNlZCBieSBtZS4KPgo+ID4gV2VsbCwgaXQncyBhdmFpbGFibGUgc3Rh
cnRpbmcgZnJvbSBHTGliIDIuNjAgc28gcG9zc2libHkgeW91J2xsIGhhdmUKPiA+IHRvIHByb3Zp
ZGUgYSByZXBsYWNlbWVudCBmb3IgR0xpYiAyLjYwIHVzaW5nIGdfb3V0cHV0X3N0cmVhbV93cml0
ZV9hbGxfYXN5bmMuCj4gPgo+ID4gPgo+ID4gPiAgICAgIHJldHVybjsKPiA+ID4KPiA+ID4gQEAg
LTI4NCw4ICsyOTcsOSBAQCBzdGF0aWMgYm9vbCBjbGllbnRfc3RhcnRfcmVhZChDbGllbnQgKmNs
aWVudCkKPiA+ID4gICAgICBpZiAoZ19pbnB1dF9zdHJlYW1faXNfY2xvc2VkKGlucHV0KSkgewo+
ID4gPiAgICAgICAgICByZXR1cm4gZmFsc2U7Cj4gPiA+ICAgICAgfQo+ID4gPiArICAgIC8qIHVz
ZSBsb3cgcHJpb3JpdHkgdG8gbGVhdmUgZW5vdWdoIHRpbWUgZm9yIG90aGVyIGNoYW5uZWxzICov
Cj4gPiA+ICAgICAgZ19pbnB1dF9zdHJlYW1fcmVhZF9hc3luYyhpbnB1dCwgY2xpZW50LT5tdXgu
YnVmLCBNQVhfTVVYX1NJWkUsCj4gPiA+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBH
X1BSSU9SSVRZX0RFRkFVTFQsIGNsaWVudC0+Y2FuY2VsbGFibGUsCj4gPiA+IHNlcnZlcl9yZXBs
eV9jYiwKPiA+ID4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdfUFJJT1JJVFlfREVG
QVVMVF9JRExFLCBjbGllbnQtPmNhbmNlbGxhYmxlLAo+ID4gPiBzZXJ2ZXJfcmVwbHlfY2IsCj4g
PiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGllbnRfcmVmKGNsaWVudCkpOwo+
ID4gPiAgICAgIHJldHVybiB0cnVlOwo+ID4gPiAgfQo+ID4gPiBAQCAtNTQwLDkgKzU1NCw2IEBA
IHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVsX2luaXQoU3BpY2VXZWJkYXZDaGFubmVs
Cj4gPiA+ICpjaGFubmVsKQo+ID4gPiAgICAgIGMtPmNsaWVudHMgPSBnX2hhc2hfdGFibGVfbmV3
X2Z1bGwoZ19pbnQ2NF9oYXNoLCBnX2ludDY0X2VxdWFsLAo+ID4gPiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgTlVMTCwgY2xpZW50X3JlbW92ZV91bnJlZik7Cj4gPiA+
ICAgICAgYy0+ZGVtdXguYnVmID0gZ19tYWxsb2MwKE1BWF9NVVhfU0laRSk7Cj4gPiA+IC0KPiA+
ID4gLSAgICBHT3V0cHV0U3RyZWFtICpvc3RyZWFtID0KPiA+ID4gZ19pb19zdHJlYW1fZ2V0X291
dHB1dF9zdHJlYW0oR19JT19TVFJFQU0oYy0+c3RyZWFtKSk7Cj4gPiA+IC0gICAgYy0+cXVldWUg
PSBvdXRwdXRfcXVldWVfbmV3KG9zdHJlYW0pOwo+ID4gPiAgfQo+ID4gPgo+ID4gPiAgc3RhdGlj
IHZvaWQgc3BpY2Vfd2ViZGF2X2NoYW5uZWxfZmluYWxpemUoR09iamVjdCAqb2JqZWN0KQo+ID4g
PiBAQCAtNTYwLDcgKzU3MSw2IEBAIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVsX2Rp
c3Bvc2UoR09iamVjdCAqb2JqZWN0KQo+ID4gPgo+ID4gPiAgICAgIGdfY2FuY2VsbGFibGVfY2Fu
Y2VsKGMtPmNhbmNlbGxhYmxlKTsKPiA+ID4gICAgICBnX2NsZWFyX29iamVjdCgmYy0+Y2FuY2Vs
bGFibGUpOwo+ID4gPiAtICAgIGdfY2xlYXJfcG9pbnRlcigmYy0+cXVldWUsIG91dHB1dF9xdWV1
ZV9mcmVlKTsKPiA+ID4gICAgICBnX2NsZWFyX29iamVjdCgmYy0+c3RyZWFtKTsKPiA+ID4gICAg
ICBnX2hhc2hfdGFibGVfdW5yZWYoYy0+Y2xpZW50cyk7Cj4gPiA+Cj4gPiA+IEBAIC01NzIsNiAr
NTgyLDE4IEBAIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVsX3VwKFNwaWNlQ2hhbm5l
bAo+ID4gPiAqY2hhbm5lbCkKPiA+ID4gICAgICBDSEFOTkVMX0RFQlVHKGNoYW5uZWwsICJ1cCIp
Owo+ID4gPiAgfQo+ID4gPgo+ID4gPiArc3RhdGljIHZvaWQgc3BpY2Vfd2ViZGF2X2NoYW5uZWxf
cmVzZXQoU3BpY2VDaGFubmVsICpjaGFubmVsLCBnYm9vbGVhbgo+ID4gPiBtaWdyYXRpbmcpCj4g
PiA+ICt7Cj4gPiA+ICsgICAgU3BpY2VXZWJkYXZDaGFubmVsUHJpdmF0ZSAqYzsKPiA+ID4gKyAg
ICBjID0KPiA+ID4gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfZ2V0X2luc3RhbmNlX3ByaXZhdGUoU1BJ
Q0VfV0VCREFWX0NIQU5ORUwoY2hhbm5lbCkpOwo+ID4gPiArCj4gPiA+ICsgICAgZ19jYW5jZWxs
YWJsZV9jYW5jZWwoYy0+Y2FuY2VsbGFibGUpOwo+ID4gPiArICAgIGMtPmRlbXV4aW5nID0gRkFM
U0U7Cj4gPiA+ICsgICAgZ19oYXNoX3RhYmxlX3JlbW92ZV9hbGwoYy0+Y2xpZW50cyk7Cj4gPiA+
ICsKPiA+ID4gKwo+ID4gPiBTUElDRV9DSEFOTkVMX0NMQVNTKHNwaWNlX3dlYmRhdl9jaGFubmVs
X3BhcmVudF9jbGFzcyktPmNoYW5uZWxfcmVzZXQoY2hhbm5lbCwKPiA+ID4gbWlncmF0aW5nKTsK
PiA+ID4gK30KPiA+ID4gKwo+ID4gPiAgc3RhdGljIHZvaWQgc3BpY2Vfd2ViZGF2X2NoYW5uZWxf
Y2xhc3NfaW5pdChTcGljZVdlYmRhdkNoYW5uZWxDbGFzcyAqa2xhc3MpCj4gPiA+ICB7Cj4gPiA+
ICAgICAgR09iamVjdENsYXNzICpnb2JqZWN0X2NsYXNzID0gR19PQkpFQ1RfQ0xBU1Moa2xhc3Mp
Owo+ID4gPiBAQCAtNTgxLDYgKzYwMyw3IEBAIHN0YXRpYyB2b2lkCj4gPiA+IHNwaWNlX3dlYmRh
dl9jaGFubmVsX2NsYXNzX2luaXQoU3BpY2VXZWJkYXZDaGFubmVsQ2xhc3MgKmtsYXNzKQo+ID4g
PiAgICAgIGdvYmplY3RfY2xhc3MtPmZpbmFsaXplICAgICA9IHNwaWNlX3dlYmRhdl9jaGFubmVs
X2ZpbmFsaXplOwo+ID4gPiAgICAgIGNoYW5uZWxfY2xhc3MtPmhhbmRsZV9tc2cgICA9IHNwaWNl
X3dlYmRhdl9oYW5kbGVfbXNnOwo+ID4gPiAgICAgIGNoYW5uZWxfY2xhc3MtPmNoYW5uZWxfdXAg
ICA9IHNwaWNlX3dlYmRhdl9jaGFubmVsX3VwOwo+ID4gPiArICAgIGNoYW5uZWxfY2xhc3MtPmNo
YW5uZWxfcmVzZXQgPSBzcGljZV93ZWJkYXZfY2hhbm5lbF9yZXNldDsKPiA+ID4KPiA+ID4gICAg
ICBnX3NpZ25hbF9vdmVycmlkZV9jbGFzc19oYW5kbGVyKCJwb3J0LWV2ZW50IiwKPiA+ID4gICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQSUNFX1RZUEVfV0VCREFWX0NIQU5O
RUwsCj4gPgo+ID4gRnJlZGlhbm8KPgo+IFRoYW5rcywKPiBKYWt1YgpfX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QK
U3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0
b3Aub3JnL21haWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
