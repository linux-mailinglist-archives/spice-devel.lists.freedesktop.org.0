Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 4D5D457FC5
	for <lists+spice-devel@lfdr.de>; Thu, 27 Jun 2019 11:57:38 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id B84816E02A;
	Thu, 27 Jun 2019 09:57:36 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id C30546E02A
 for <spice-devel@lists.freedesktop.org>; Thu, 27 Jun 2019 09:57:35 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx06.intmail.prod.int.phx2.redhat.com
 [10.5.11.16])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 6EBFD30832E4
 for <spice-devel@lists.freedesktop.org>; Thu, 27 Jun 2019 09:57:35 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx01.intmail.prod.int.phx2.redhat.com [10.5.11.20])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id 672E15C1B4
 for <spice-devel@lists.freedesktop.org>; Thu, 27 Jun 2019 09:57:35 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id 5DA9C1806B1A;
 Thu, 27 Jun 2019 09:57:35 +0000 (UTC)
Date: Thu, 27 Jun 2019 05:57:35 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Snir Sheriber <ssheribe@redhat.com>
Message-ID: <123152630.24960310.1561629455297.JavaMail.zimbra@redhat.com>
In-Reply-To: <f287b064-ab66-7a56-2108-1038f8f627a1@redhat.com>
References: <20190626141026.30745-1-ssheribe@redhat.com>
 <933600511.24773314.1561562666277.JavaMail.zimbra@redhat.com>
 <f287b064-ab66-7a56-2108-1038f8f627a1@redhat.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.15, 10.4.195.3]
Thread-Topic: gst-plugin: Drop sstream and use dedicated functions instead
Thread-Index: dgxEwR2RQ/mrFJSzb6SxTf6ooq1ryA==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.16
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.44]); Thu, 27 Jun 2019 09:57:35 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-streaming-agent 1/2] gst-plugin:
 Drop sstream and use dedicated functions instead
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBIaSwKPiAKPiAKPiBPbiA2LzI2LzE5IDY6MjQgUE0sIEZyZWRpYW5vIFppZ2xpbyB3cm90
ZToKPiA+PiBTaWduZWQtb2ZmLWJ5OiBTbmlyIFNoZXJpYmVyIDxzc2hlcmliZUByZWRoYXQuY29t
Pgo+ID4gQ2FuIHlvdSBleHBsYWluIHdoeSB0aGlzIGlzIGJldHRlcj8gSXQncyBub3QgY2xlYXIg
ZnJvbSB0aGUgY29kZS4KPiAKPiAKPiBBY3R1YWxseSBpdCBpcyBub3QgbXVjaCBiZXR0ZXIsIGl0
IGp1c3Qgc2VlbXMgbW9yZSByZWFzb25hYmxlIHRvIG1lCj4gdG8gc2V0IHRoaXMgcHJvcGVydGll
cyB1c2luZyBhIGRlZGljYXRlZCBmdW5jdGlvbiB0aGFuIG1hbmlwdWxhdGluZwo+IGEgc3RyaW5n
IGFuZCBhbmQgdGhlbiBjb252ZXJ0IGl0Lgo+IAoKRmluZSB3aXRoIG1lLCBqdXN0IHdyaXRlIGl0
IGluIHRoZSBuZXh0IGNvbW1pdCBtZXNzYWdlLgoKPiAKPiA+Cj4gPj4gLS0tCj4gPj4gICBzcmMv
Z3N0LXBsdWdpbi5jcHAgfCAzMyArKysrKysrKysrKysrKysrKy0tLS0tLS0tLS0tLS0tLS0KPiA+
PiAgIDEgZmlsZSBjaGFuZ2VkLCAxNyBpbnNlcnRpb25zKCspLCAxNiBkZWxldGlvbnMoLSkKPiA+
Pgo+ID4+IGRpZmYgLS1naXQgYS9zcmMvZ3N0LXBsdWdpbi5jcHAgYi9zcmMvZ3N0LXBsdWdpbi5j
cHAKPiA+PiBpbmRleCA5ODU4YmViLi5jZjY2MGViIDEwMDY0NAo+ID4+IC0tLSBhL3NyYy9nc3Qt
cGx1Z2luLmNwcAo+ID4+ICsrKyBiL3NyYy9nc3QtcGx1Z2luLmNwcAo+ID4+IEBAIC04LDcgKzgs
NiBAQAo+ID4+ICAgI2luY2x1ZGUgPGNzdHJpbmc+Cj4gPj4gICAjaW5jbHVkZSA8ZXhjZXB0aW9u
Pgo+ID4+ICAgI2luY2x1ZGUgPHN0ZGV4Y2VwdD4KPiA+PiAtI2luY2x1ZGUgPHNzdHJlYW0+Cj4g
Pj4gICAjaW5jbHVkZSA8bWVtb3J5Pgo+ID4+ICAgI2luY2x1ZGUgPHN5c2xvZy5oPgo+ID4+ICAg
I2luY2x1ZGUgPHVuaXN0ZC5oPgo+ID4+IEBAIC0xMzIsMzQgKzEzMSwzMyBAQCBHc3RFbGVtZW50
Cj4gPj4gKkdzdHJlYW1lckZyYW1lQ2FwdHVyZTo6Z2V0X2VuY29kZXJfcGx1Z2luKGNvbnN0IEdz
dHJlYW1lckVuY29kZXJTZXR0Cj4gPj4gICAgICAgR0xpc3QgKmZpbHRlcmVkOwo+ID4+ICAgICAg
IEdzdEVsZW1lbnQgKmVuY29kZXI7Cj4gPj4gICAgICAgR3N0RWxlbWVudEZhY3RvcnkgKmZhY3Rv
cnkgPSBudWxscHRyOwo+ID4+IC0gICAgc3RkOjpzdHJpbmdzdHJlYW0gY2Fwc19zczsKPiA+PiAg
IAo+ID4+ICAgICAgIHN3aXRjaCAoc2V0dGluZ3MuY29kZWMpIHsKPiA+PiAgICAgICBjYXNlIFNQ
SUNFX1ZJREVPX0NPREVDX1RZUEVfSDI2NDoKPiA+PiAtICAgICAgICBjYXBzX3NzIDw8ICJ2aWRl
by94LWgyNjQiIDw8Cj4gPj4gIixzdHJlYW0tZm9ybWF0PShzdHJpbmcpYnl0ZS1zdHJlYW0iOwo+
ID4+ICsgICAgICAgIHNpbmtfY2Fwcy5yZXNldChnc3RfY2Fwc19uZXdfc2ltcGxlKCJ2aWRlby94
LWgyNjQiLAo+ID4+ICJzdHJlYW0tZm9ybWF0IiwKPiA+PiBHX1RZUEVfU1RSSU5HLCAiYnl0ZS1z
dHJlYW0iLCBudWxscHRyKSk7Cj4gPj4gICAgICAgICAgIGJyZWFrOwo+ID4+ICAgICAgIGNhc2Ug
U1BJQ0VfVklERU9fQ09ERUNfVFlQRV9NSlBFRzoKPiA+PiAtICAgICAgICBjYXBzX3NzIDw8ICJp
bWFnZS9qcGVnIjsKPiA+PiArICAgICAgICBzaW5rX2NhcHMucmVzZXQoZ3N0X2NhcHNfbmV3X2Vt
cHR5X3NpbXBsZSgiaW1hZ2UvanBlZyIpKTsKPiA+PiAgICAgICAgICAgYnJlYWs7Cj4gPj4gICAg
ICAgY2FzZSBTUElDRV9WSURFT19DT0RFQ19UWVBFX1ZQODoKPiA+PiAtICAgICAgICBjYXBzX3Nz
IDw8ICJ2aWRlby94LXZwOCI7Cj4gPj4gKyAgICAgICAgc2lua19jYXBzLnJlc2V0KGdzdF9jYXBz
X25ld19lbXB0eV9zaW1wbGUoInZpZGVvL3gtdnA4IikpOwo+ID4+ICAgICAgICAgICBicmVhazsK
PiA+PiAgICAgICBjYXNlIFNQSUNFX1ZJREVPX0NPREVDX1RZUEVfVlA5Ogo+ID4+IC0gICAgICAg
IGNhcHNfc3MgPDwgInZpZGVvL3gtdnA5IjsKPiA+PiArICAgICAgICBzaW5rX2NhcHMucmVzZXQo
Z3N0X2NhcHNfbmV3X2VtcHR5X3NpbXBsZSgidmlkZW8veC12cDkiKSk7Cj4gPj4gICAgICAgICAg
IGJyZWFrOwo+ID4+ICAgICAgIGNhc2UgU1BJQ0VfVklERU9fQ09ERUNfVFlQRV9IMjY1Ogo+ID4+
IC0gICAgICAgIGNhcHNfc3MgPDwgInZpZGVvL3gtaDI2NSI7Cj4gPj4gKyAgICAgICAgc2lua19j
YXBzLnJlc2V0KGdzdF9jYXBzX25ld19lbXB0eV9zaW1wbGUoInZpZGVvL3gtaDI2NSIpKTsKPiA+
PiAgICAgICAgICAgYnJlYWs7Cj4gPj4gICAgICAgZGVmYXVsdCA6IC8qIFNob3VsZCBub3QgaGFw
cGVuIC0ganVzdCB0byBhdm9pZCBjb21waWxlcidzIGNvbXBsYWludAo+ID4+ICAgICAgICovCj4g
Pj4gICAgICAgICAgIHRocm93IHN0ZDo6bG9naWNfZXJyb3IoIlVua25vd24gY29kZWMiKTsKPiA+
PiAgICAgICB9Cj4gPj4gLSAgICBjYXBzX3NzIDw8ICIsZnJhbWVyYXRlPSIgPDwgc2V0dGluZ3Mu
ZnBzIDw8ICIvMSI7Cj4gPj4gKyAgICBnc3RfY2Fwc19zZXRfc2ltcGxlKHNpbmtfY2Fwcy5nZXQo
KSwgImZyYW1lcmF0ZSIsIEdTVF9UWVBFX0ZSQUNUSU9OLAo+ID4+IHNldHRpbmdzLmZwcywgMSwg
bnVsbHB0cik7Cj4gPj4gKyAgICBnY2hhciAqY2Fwc19zdHIgPSBnc3RfY2Fwc190b19zdHJpbmco
c2lua19jYXBzLmdldCgpKTsKPiA+IEFzIHdlIGFyZSB1c2luZyBleGNlcHRpb24gSSB3b3VsZCBh
dm9pZCB1c2luZyBuYWtlZCBwb2ludGVycy4KPiAKPiAKPiBXaWxsIHNlbmQgYW5vdGhlciBwcm9w
b3NhbAo+IAo+IFNuaXIuCj4gCgpOb3QgbXVjaCBzdWdnZXN0aW9ucyBvbiBlbmNhcHN1bGF0aW5n
IGdjaGFyKiBpbiBhIGNsYXNzIG9yIHVzaW5nIHN0ZDo6c3RyaW5nCmFuZCBmcmVlIGdzdF9jYXBz
X3RvX3N0cmluZyBBU0FQLiBUaGF0J3Mgd2h5IEkgbGlrZWQgdGhlICJkZWZlciIgc3R5bGUgbWFj
cm8KdGltZSBhZ28uCgo+IAo+ID4KPiA+PiAgIAo+ID4+ICAgICAgIGVuY29kZXJzID0KPiA+PiAg
ICAgICBnc3RfZWxlbWVudF9mYWN0b3J5X2xpc3RfZ2V0X2VsZW1lbnRzKEdTVF9FTEVNRU5UX0ZB
Q1RPUllfVFlQRV9WSURFT19FTkNPREVSLAo+ID4+ICAgICAgIEdTVF9SQU5LX05PTkUpOwo+ID4+
IC0gICAgc2lua19jYXBzLnJlc2V0KGdzdF9jYXBzX2Zyb21fc3RyaW5nKGNhcHNfc3Muc3RyKCku
Y19zdHIoKSkpOwo+ID4+ICAgICAgIGZpbHRlcmVkID0gZ3N0X2VsZW1lbnRfZmFjdG9yeV9saXN0
X2ZpbHRlcihlbmNvZGVycywKPiA+PiAgICAgICBzaW5rX2NhcHMuZ2V0KCksCj4gPj4gICAgICAg
R1NUX1BBRF9TUkMsIGZhbHNlKTsKPiA+PiAgICAgICBpZiAoZmlsdGVyZWQpIHsKPiA+PiAtICAg
ICAgICBnc3Rfc3lzbG9nKExPR19OT1RJQ0UsICJMb29raW5nIGZvciBlbmNvZGVyIHBsdWdpbnMg
d2hpY2ggY2FuCj4gPj4gcHJvZHVjZSBhICclcycgc3RyZWFtIiwgY2Fwc19zcy5zdHIoKS5jX3N0
cigpKTsKPiA+PiArICAgICAgICBnc3Rfc3lzbG9nKExPR19OT1RJQ0UsICJMb29raW5nIGZvciBl
bmNvZGVyIHBsdWdpbnMgd2hpY2ggY2FuCj4gPj4gcHJvZHVjZSBhICclcycgc3RyZWFtIiwgY2Fw
c19zdHIpOwo+ID4+ICAgICAgICAgICBmb3IgKEdMaXN0ICpsID0gZmlsdGVyZWQ7IGwgIT0gbnVs
bHB0cjsgbCA9IGwtPm5leHQpIHsKPiA+PiAgICAgICAgICAgICAgIGlmICghZmFjdG9yeSAmJgo+
ID4+ICAgICAgICAgICAgICAgIXNldHRpbmdzLmVuY29kZXIuY29tcGFyZShHU1RfRUxFTUVOVF9O
QU1FKGwtPmRhdGEpKSkgewo+ID4+ICAgICAgICAgICAgICAgICAgIGZhY3RvcnkgPSAoR3N0RWxl
bWVudEZhY3RvcnkqKWwtPmRhdGE7Cj4gPj4gQEAgLTE2OSwxNCArMTY3LDE1IEBAIEdzdEVsZW1l
bnQKPiA+PiAqR3N0cmVhbWVyRnJhbWVDYXB0dXJlOjpnZXRfZW5jb2Rlcl9wbHVnaW4oY29uc3Qg
R3N0cmVhbWVyRW5jb2RlclNldHQKPiA+PiAgICAgICAgICAgaWYgKCFmYWN0b3J5ICYmICFzZXR0
aW5ncy5lbmNvZGVyLmVtcHR5KCkpIHsKPiA+PiAgICAgICAgICAgICAgIGdzdF9zeXNsb2coTE9H
X1dBUk5JTkcsCj4gPj4gICAgICAgICAgICAgICAgICAgICAgICAgICJTcGVjaWZpZWQgZW5jb2Rl
ciBuYW1lZCAnJXMnIGNhbm5vdCBwcm9kdWNlICclcycKPiA+PiAgICAgICAgICAgICAgICAgICAg
ICAgICAgc3RyZWFtLCBtYWtlIHN1cmUgbWF0Y2hpbmcgZ3N0LmNvZGVjIGlzIHNwZWNpZmllZAo+
ID4+ICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgcGx1Z2luJ3MgYXZhaWxhYmlsaXR5IiwK
PiA+PiAtICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5lbmNvZGVyLmNfc3RyKCksIGNh
cHNfc3Muc3RyKCkuY19zdHIoKSk7Cj4gPj4gKyAgICAgICAgICAgICAgICAgICAgICAgc2V0dGlu
Z3MuZW5jb2Rlci5jX3N0cigpLCBjYXBzX3N0cik7Cj4gPj4gICAgICAgICAgIH0KPiA+PiAgICAg
ICAgICAgZmFjdG9yeSA9IGZhY3RvcnkgPyBmYWN0b3J5IDoKPiA+PiAgICAgICAgICAgKEdzdEVs
ZW1lbnRGYWN0b3J5KilmaWx0ZXJlZC0+ZGF0YTsKPiA+PiAgICAgICAgICAgZ3N0X3N5c2xvZyhM
T0dfTk9USUNFLCAiJyVzJyBlbmNvZGVyIHBsdWdpbiBpcyB1c2VkIiwKPiA+PiAgICAgICAgICAg
R1NUX0VMRU1FTlRfTkFNRShmYWN0b3J5KSk7Cj4gPj4gICAKPiA+PiAgICAgICB9IGVsc2Ugewo+
ID4+IC0gICAgICAgIGdzdF9zeXNsb2coTE9HX0VSUiwgIk5vIHN1aXRhYmxlIGVuY29kZXIgd2Fz
IGZvdW5kIGZvciAnJXMnIiwKPiA+PiBjYXBzX3NzLnN0cigpLmNfc3RyKCkpOwo+ID4+ICsgICAg
ICAgIGdzdF9zeXNsb2coTE9HX0VSUiwgIk5vIHN1aXRhYmxlIGVuY29kZXIgd2FzIGZvdW5kIGZv
ciAnJXMnIiwKPiA+PiBjYXBzX3N0cik7Cj4gPj4gICAgICAgfQo+ID4+ICsgICAgZ19mcmVlKGNh
cHNfc3RyKTsKPiA+IFRoaXMgbGluZSBzaG91bGQgbm90IGV4aXN0Lgo+ID4KPiA+PiAgIAo+ID4+
ICAgICAgIGVuY29kZXIgPSBmYWN0b3J5ID8gZ3N0X2VsZW1lbnRfZmFjdG9yeV9jcmVhdGUoZmFj
dG9yeSwgImVuY29kZXIiKSA6Cj4gPj4gICAgICAgbnVsbHB0cjsKPiA+PiAgICAgICBpZiAoZW5j
b2RlcikgeyAvLyBJbnZhbGlkIHByb3BlcnRpZXMgd2lsbCBiZSBpZ25vcmVkIHNpbGVudGx5Cj4g
Pj4gQEAgLTM1MSwxMCArMzUwLDEyIEBAIHZvaWQgR3N0cmVhbWVyRnJhbWVDYXB0dXJlOjp4bGli
X2NhcHR1cmUoKQo+ID4+ICAgICAgICAgICB0aHJvdyBzdGQ6OnJ1bnRpbWVfZXJyb3IoIkZhaWxl
ZCB0byB3cmFwIGltYWdlIGluIGdzdHJlYW1lcgo+ID4+ICAgICAgICAgICBidWZmZXIiKTsKPiA+
PiAgICAgICB9Cj4gPj4gICAKPiA+PiAtICAgIHN0ZDo6c3RyaW5nc3RyZWFtIHNzOwo+ID4+IC0K
PiA+PiAtICAgIHNzIDw8ICJ2aWRlby94LXJhdyxmb3JtYXQ9QkdSeCx3aWR0aD0iIDw8IGltYWdl
LT53aWR0aCA8PCAiLGhlaWdodD0iCj4gPj4gPDwKPiA+PiBpbWFnZS0+aGVpZ2h0IDw8ICIsZnJh
bWVyYXRlPSIgPDwgc2V0dGluZ3MuZnBzIDw8ICIvMSI7Cj4gPj4gLSAgICBHc3RDYXBzVVB0ciBj
YXBzKGdzdF9jYXBzX2Zyb21fc3RyaW5nKHNzLnN0cigpLmNfc3RyKCkpKTsKPiA+PiArICAgIEdz
dENhcHNVUHRyIGNhcHMoZ3N0X2NhcHNfbmV3X3NpbXBsZSgidmlkZW8veC1yYXciLAo+ID4+ICsg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmb3JtYXQiLCBHX1RZUEVf
U1RSSU5HLCAiQkdSeCIsCj4gPj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIndpZHRoIiwgR19UWVBFX0lOVCwKPiA+PiBpbWFnZS0+d2lkdGgsCj4gPj4gKyAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCIsIEdfVFlQRV9JTlQs
Cj4gPj4gaW1hZ2UtPmhlaWdodCwKPiA+PiArICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAiZnJhbWVyYXRlIiwgR1NUX1RZUEVfRlJBQ1RJT04sCj4gPj4gc2V0dGluZ3Mu
ZnBzLCAxLAo+ID4+ICsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51
bGxwdHIpKTsKPiA+PiAgIAo+ID4+ICAgICAgIC8vIFB1c2ggc2FtcGxlCj4gPj4gICAgICAgR3N0
U2FtcGxlVVB0ciBhcHBzcmNfc2FtcGxlKGdzdF9zYW1wbGVfbmV3KGJ1ZiwgY2Fwcy5nZXQoKSwg
bnVsbHB0ciwKPiA+PiAgICAgICBudWxscHRyKSk7Cl9fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZl
bEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFp
bG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
