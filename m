Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2E2C33B5CE
	for <lists+spice-devel@lfdr.de>; Mon, 10 Jun 2019 15:11:31 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 979BF89126;
	Mon, 10 Jun 2019 13:11:29 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-it1-x142.google.com (mail-it1-x142.google.com
 [IPv6:2607:f8b0:4864:20::142])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 805F389141
 for <spice-devel@lists.freedesktop.org>; Mon, 10 Jun 2019 13:11:27 +0000 (UTC)
Received: by mail-it1-x142.google.com with SMTP id v193so10468496itc.0
 for <spice-devel@lists.freedesktop.org>; Mon, 10 Jun 2019 06:11:27 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc;
 bh=8kBtrg91RoMVowiZgBA5sygACmBl38A2QGYRuNp49F8=;
 b=ARJIkwLjm4chZC3wmr/Qkso5ceaIKCc+uxeSrvUauszUe34hy35ImGPSqwkhK+gPAS
 o0rrwDwdojW+OSjMji4CnxJiSNxDfIc0XJqzbLb9W2VTNGpSN13xQ1k3nzaT0BFr8TAX
 XcTc/HNsQ07miOMXJGbm2LWnQjIzZhVuLWRF8Ihprbf9G3g1h0kPoPFumf6WfXacKjN1
 hn62b9ujXF6co1DTuLx3O7t60nFxzx1qHu2XhBN8JXJ/2Ctobilf9Yr7HxWSNc16SVUZ
 rSgZTwVuTzuZt8qx4vbf5Sn69JQN4CKWY2BOrajx4vK5Ep1zGdVIW3g8AxvOkYvvs83z
 jenw==
X-Gm-Message-State: APjAAAUpenb0UDlzokJmo433lIzEW+FIJECLvjvp5zvfWeFY+TBbv2UN
 smabaRNmtHdHxx0ZMcCW0wELQXhY/nTfD5Y3M6pOOA==
X-Google-Smtp-Source: APXvYqypV5n/m1D8jhkOtUnrt+DKG+joajwIMJ3sCizn5vZtSs6iqasnRZ88DG2zkp2NDf5XQYn1+1FFGmc0YCyQgqk=
X-Received: by 2002:a02:8787:: with SMTP id t7mr46242228jai.29.1560172286884; 
 Mon, 10 Jun 2019 06:11:26 -0700 (PDT)
MIME-Version: 1.0
References: <20190410193139.10912-1-yuri.benditovich@daynix.com>
 <20190410193139.10912-4-yuri.benditovich@daynix.com>
 <20190610111552.zw7z5ndh6idei6kl@toolbox>
In-Reply-To: <20190610111552.zw7z5ndh6idei6kl@toolbox>
From: Yuri Benditovich <yuri.benditovich@daynix.com>
Date: Mon, 10 Jun 2019 16:11:13 +0300
Message-ID: <CAOEp5Of2wjDTvHLj1qhM+m-=-Gd_SxN7+W0pTfa3CN31oy-V0A@mail.gmail.com>
To: Victor Toso <victortoso@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=daynix-com.20150623.gappssmtp.com; s=20150623;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc;
 bh=8kBtrg91RoMVowiZgBA5sygACmBl38A2QGYRuNp49F8=;
 b=AJKwtwSnz8sqEBar0BYWSZpegRXLRJr0WVHSvYnPbHcXqrPvJSRZgHXtBRI5AO1vkh
 S2Q+qXQAHsShWUJQzxyu9ux3GF5zM0myO3JVdyB5fKGYJmM2Ku1U1fMZhg9LwQbjAuUK
 aeokta2TwpZCDvUvRozfv6JOv5L9Q8OvrVTXB4QK6fJ12o0a0zG2/cxTDnO16zfLa2kg
 vpQ51bWw5tutVPpsiVz1DQMwEnRnj8AWvHhbDVJlxX8PIBDRmvtWmbF4anvTtmzR/wxG
 7j78x8Pd8r8SDY+M8Gml5NU+OhJbz6hEg0l256FiOGrc+sjC1hrXbY1xkreGn15YnkKr
 9FdA==
Subject: Re: [Spice-devel] [PATCH 3/3] usb-redirection: do not duplicate USB
 device properties
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: Yan Vugenfirer <yan@daynix.com>,
 Spice List <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

T24gTW9uLCBKdW4gMTAsIDIwMTkgYXQgMjoxNSBQTSBWaWN0b3IgVG9zbyA8dmljdG9ydG9zb0By
ZWRoYXQuY29tPiB3cm90ZToKPgo+IE9uIFdlZCwgQXByIDEwLCAyMDE5IGF0IDEwOjMxOjM5UE0g
KzAzMDAsIFl1cmkgQmVuZGl0b3ZpY2ggd3JvdGU6Cj4gPiBEbyBub3Qga2VlcCBidXMsIGFkZHJl
c3MsIHZpZCBhbmQgcGlkIG9mIHRoZSBVU0IgZGV2aWNlCj4gPiBpbiBTcGljZVVzYkRldmljZUlu
Zm8gc3RydWN0dXJlLiBHZXR0ZXJzIGZvciB0aGVzZSBwcm9wZXJ0aWVzCj4gPiBjYW4gZWFzaWx5
IG9idGFpbiB0aGVtIGZyb20gcmVzcGVjdGl2ZSBiYWNrZW5kIGRldmljZS4KPgo+IFdoeSBzaG91
bGQgd2Uga2VlcCB0aGlzIHN0cnVjdHVyZSBhdCBhbGw/IGdib29sZWFuIGlzb2Nocm9ub3VzIGlz
Cj4gc2V0IHdpdGggc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX2lzb2NoKCkgc28gd2UgYmFzaWNh
bGx5IGhhdmUgYQo+IHJlZmVyZWNlIGNvdW50ZXIgYW5kIGEgcG9pbnRlciB0byBTcGljZVVzYkJh
Y2tlbmREZXZpY2UgYWZ0ZXIKPiB0aGlzIHBhdGNoLgpTcGljZVVzYkRldmljZUluZm8ga2VlcHMg
dGhlIGluZm8gYWJvdXQgaXNvY2hyb25vdXMgaW4gb3JkZXIgdG8KYXZvaWQgY2hlY2tpbmcgaXQg
ZWFjaCB0aW1lIHdlIG5lZWQgaXQsIGkuZS4gdXBvbiBlYWNoIGRldmljZSByZWRpcmVjdGlvbgog
KHRoaXMgaW52b2x2ZXMgZ2V0dGluZyBmdWxsIGRldmljZSBjb25maWd1cmF0aW9uIGZyb20gbGli
dXNiIGFuZCBwYXJzaW5nCiBhbGwgdGhlIGludGVyZmFjZXMgdG8gZmluZCBpc29jaCBlbmRwb2lu
dCkuIElmIHdlIHBsYWNlIGl0IGludG8KU3BpY2VVc2JCYWNrZW5kRGV2aWNlCndlIHdpbGwgbmVl
ZCB0byBjaGVjayBpdCBlYWNoIHRpbWUgdGhlIFNwaWNlVXNiQmFja2VuZERldmljZSBjcmVhdGVk
LgpPbiBMaW51eCB0aGlzIGNvdWxkIGJlIE9LIGFzIG9uIExpbnV4IHdlIGNyZWF0ZSBTcGljZVVz
YkJhY2tlbmREZXZpY2UKb25seSB3aGVuIG5ldyBkZXZpY2UgY29tZXMuIE9uIFdpbmRvd3MgdGhp
cyBpcyBlYWNoIHRpbWUgd2UgZW51bWVyYXRlCmRldmljZXMgKG9uIGVhY2ggJ2RldmljZSBjaGFu
Z2UnIGluZGljYXRpb24gZnJvbSBQblAuClRoaXMgaXMgYSByZWFzb24gd2h5IGl0IGlzIHBsYWNl
ZCBpbnRvIFNwaWNlVXNiRGV2aWNlSW5mby4KCj4KPiA+IFNpZ25lZC1vZmYtYnk6IFl1cmkgQmVu
ZGl0b3ZpY2ggPHl1cmkuYmVuZGl0b3ZpY2hAZGF5bml4LmNvbT4KPiA+IC0tLQo+ID4gIHNyYy91
c2ItZGV2aWNlLW1hbmFnZXIuYyB8IDI5ICsrKysrKysrKysrKystLS0tLS0tLS0tLS0tLS0tCj4g
PiAgMSBmaWxlIGNoYW5nZWQsIDEzIGluc2VydGlvbnMoKyksIDE2IGRlbGV0aW9ucygtKQo+ID4K
PiA+IGRpZmYgLS1naXQgYS9zcmMvdXNiLWRldmljZS1tYW5hZ2VyLmMgYi9zcmMvdXNiLWRldmlj
ZS1tYW5hZ2VyLmMKPiA+IGluZGV4IDJiZWU1NWQuLjY4OTg0NzIgMTAwNjQ0Cj4gPiAtLS0gYS9z
cmMvdXNiLWRldmljZS1tYW5hZ2VyLmMKPiA+ICsrKyBiL3NyYy91c2ItZGV2aWNlLW1hbmFnZXIu
Ywo+ID4gQEAgLTEyOSwxMyArMTI5LDkgQEAgZW51bSB7Cj4gPiAgI2lmZGVmIFVTRV9VU0JSRURJ
Ugo+ID4KPiA+ICB0eXBlZGVmIHN0cnVjdCBfU3BpY2VVc2JEZXZpY2VJbmZvIHsKPiA+IC0gICAg
Z3VpbnQ4ICBidXNudW07Cj4gPiAtICAgIGd1aW50OCAgZGV2YWRkcjsKPiA+IC0gICAgZ3VpbnQx
NiB2aWQ7Cj4gPiAtICAgIGd1aW50MTYgcGlkOwo+ID4gLSAgICBnYm9vbGVhbiBpc29jaHJvbm91
czsKPiA+ICAgICAgU3BpY2VVc2JCYWNrZW5kRGV2aWNlICpiZGV2Owo+ID4gICAgICBnaW50ICAg
IHJlZjsKPiA+ICsgICAgZ2Jvb2xlYW4gaXNvY2hyb25vdXM7Cj4gPiAgfSBTcGljZVVzYkRldmlj
ZUluZm87Cj4gPgo+ID4KPiA+IEBAIC0xNjEzLDE4ICsxNjA5LDExIEBAIGdjaGFyICpzcGljZV91
c2JfZGV2aWNlX2dldF9kZXNjcmlwdGlvbihTcGljZVVzYkRldmljZSAqZGV2aWNlLCBjb25zdCBn
Y2hhciAqZm9yCj4gPiAgc3RhdGljIFNwaWNlVXNiRGV2aWNlSW5mbyAqc3BpY2VfdXNiX2Rldmlj
ZV9uZXcoU3BpY2VVc2JCYWNrZW5kRGV2aWNlICpiZGV2KQo+ID4gIHsKPiA+ICAgICAgU3BpY2VV
c2JEZXZpY2VJbmZvICppbmZvOwo+ID4gLSAgICBjb25zdCBVc2JEZXZpY2VJbmZvcm1hdGlvbiAq
YmRldl9pbmZvOwo+ID4KPiA+ICAgICAgZ19yZXR1cm5fdmFsX2lmX2ZhaWwoYmRldiAhPSBOVUxM
LCBOVUxMKTsKPiA+Cj4gPiAtICAgIGJkZXZfaW5mbyA9IHNwaWNlX3VzYl9iYWNrZW5kX2Rldmlj
ZV9nZXRfaW5mbyhiZGV2KTsKPiA+IC0KPiA+ICAgICAgaW5mbyA9IGdfbmV3MChTcGljZVVzYkRl
dmljZUluZm8sIDEpOwo+ID4KPiA+IC0gICAgaW5mby0+YnVzbnVtICA9IGJkZXZfaW5mby0+YnVz
Owo+ID4gLSAgICBpbmZvLT5kZXZhZGRyID0gYmRldl9pbmZvLT5hZGRyZXNzOwo+ID4gLSAgICBp
bmZvLT52aWQgPSBiZGV2X2luZm8tPnZpZDsKPiA+IC0gICAgaW5mby0+cGlkID0gYmRldl9pbmZv
LT5waWQ7Cj4gPiAgICAgIGluZm8tPnJlZiA9IDE7Cj4gPiAgICAgIGluZm8tPmJkZXYgPSBzcGlj
ZV91c2JfYmFja2VuZF9kZXZpY2VfcmVmKGJkZXYpOwo+ID4gICAgICBpbmZvLT5pc29jaHJvbm91
cyA9IHNwaWNlX3VzYl9iYWNrZW5kX2RldmljZV9pc29jaChiZGV2KTsKPiA+IEBAIC0xNjM1LDM3
ICsxNjI0LDQ1IEBAIHN0YXRpYyBTcGljZVVzYkRldmljZUluZm8gKnNwaWNlX3VzYl9kZXZpY2Vf
bmV3KFNwaWNlVXNiQmFja2VuZERldmljZSAqYmRldikKPiA+ICBndWludDggc3BpY2VfdXNiX2Rl
dmljZV9nZXRfYnVzbnVtKGNvbnN0IFNwaWNlVXNiRGV2aWNlICpkZXZpY2UpCj4gPiAgewo+ID4g
ICAgICBjb25zdCBTcGljZVVzYkRldmljZUluZm8gKmluZm8gPSAoY29uc3QgU3BpY2VVc2JEZXZp
Y2VJbmZvICopZGV2aWNlOwo+ID4gKyAgICBjb25zdCBVc2JEZXZpY2VJbmZvcm1hdGlvbiAqYl9p
bmZvOwo+ID4KPiA+ICAgICAgZ19yZXR1cm5fdmFsX2lmX2ZhaWwoaW5mbyAhPSBOVUxMLCAwKTsK
PiA+Cj4gPiAtICAgIHJldHVybiBpbmZvLT5idXNudW07Cj4gPiArICAgIGJfaW5mbyA9IHNwaWNl
X3VzYl9iYWNrZW5kX2RldmljZV9nZXRfaW5mbyhpbmZvLT5iZGV2KTsKPiA+ICsgICAgcmV0dXJu
IGJfaW5mby0+YnVzOwo+ID4gIH0KPiA+Cj4gPiAgZ3VpbnQ4IHNwaWNlX3VzYl9kZXZpY2VfZ2V0
X2RldmFkZHIoY29uc3QgU3BpY2VVc2JEZXZpY2UgKmRldmljZSkKPiA+ICB7Cj4gPiAgICAgIGNv
bnN0IFNwaWNlVXNiRGV2aWNlSW5mbyAqaW5mbyA9IChjb25zdCBTcGljZVVzYkRldmljZUluZm8g
KilkZXZpY2U7Cj4gPiArICAgIGNvbnN0IFVzYkRldmljZUluZm9ybWF0aW9uICpiX2luZm87Cj4g
Pgo+ID4gICAgICBnX3JldHVybl92YWxfaWZfZmFpbChpbmZvICE9IE5VTEwsIDApOwo+ID4KPiA+
IC0gICAgcmV0dXJuIGluZm8tPmRldmFkZHI7Cj4gPiArICAgIGJfaW5mbyA9IHNwaWNlX3VzYl9i
YWNrZW5kX2RldmljZV9nZXRfaW5mbyhpbmZvLT5iZGV2KTsKPiA+ICsgICAgcmV0dXJuIGJfaW5m
by0+YWRkcmVzczsKPiA+ICB9Cj4gPgo+ID4gIGd1aW50MTYgc3BpY2VfdXNiX2RldmljZV9nZXRf
dmlkKGNvbnN0IFNwaWNlVXNiRGV2aWNlICpkZXZpY2UpCj4gPiAgewo+ID4gICAgICBjb25zdCBT
cGljZVVzYkRldmljZUluZm8gKmluZm8gPSAoY29uc3QgU3BpY2VVc2JEZXZpY2VJbmZvICopZGV2
aWNlOwo+ID4gKyAgICBjb25zdCBVc2JEZXZpY2VJbmZvcm1hdGlvbiAqYl9pbmZvOwo+ID4KPiA+
ICAgICAgZ19yZXR1cm5fdmFsX2lmX2ZhaWwoaW5mbyAhPSBOVUxMLCAwKTsKPiA+Cj4gPiAtICAg
IHJldHVybiBpbmZvLT52aWQ7Cj4gPiArICAgIGJfaW5mbyA9IHNwaWNlX3VzYl9iYWNrZW5kX2Rl
dmljZV9nZXRfaW5mbyhpbmZvLT5iZGV2KTsKPiA+ICsgICAgcmV0dXJuIGJfaW5mby0+dmlkOwo+
ID4gIH0KPiA+Cj4gPiAgZ3VpbnQxNiBzcGljZV91c2JfZGV2aWNlX2dldF9waWQoY29uc3QgU3Bp
Y2VVc2JEZXZpY2UgKmRldmljZSkKPiA+ICB7Cj4gPiAgICAgIGNvbnN0IFNwaWNlVXNiRGV2aWNl
SW5mbyAqaW5mbyA9IChjb25zdCBTcGljZVVzYkRldmljZUluZm8gKilkZXZpY2U7Cj4gPiArICAg
IGNvbnN0IFVzYkRldmljZUluZm9ybWF0aW9uICpiX2luZm87Cj4gPgo+ID4gICAgICBnX3JldHVy
bl92YWxfaWZfZmFpbChpbmZvICE9IE5VTEwsIDApOwo+ID4KPiA+IC0gICAgcmV0dXJuIGluZm8t
PnBpZDsKPiA+ICsgICAgYl9pbmZvID0gc3BpY2VfdXNiX2JhY2tlbmRfZGV2aWNlX2dldF9pbmZv
KGluZm8tPmJkZXYpOwo+ID4gKyAgICByZXR1cm4gYl9pbmZvLT5waWQ7Cj4gPiAgfQo+ID4KPiA+
ICBnYm9vbGVhbiBzcGljZV91c2JfZGV2aWNlX2lzX2lzb2Nocm9ub3VzKGNvbnN0IFNwaWNlVXNi
RGV2aWNlICpkZXZpY2UpCj4gPiAtLQo+ID4gMi4xNy4xCj4gPgo+ID4gX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KPiA+IFNwaWNlLWRldmVsIG1haWxpbmcg
bGlzdAo+ID4gU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gPiBodHRwczovL2xp
c3RzLmZyZWVkZXNrdG9wLm9yZy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVsCl9fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fClNwaWNlLWRldmVsIG1haWxp
bmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVza3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5m
cmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbA==
