Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id 2CE155BA44
	for <lists+spice-devel@lfdr.de>; Mon,  1 Jul 2019 13:02:05 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 71DF889C0D;
	Mon,  1 Jul 2019 11:02:03 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 7328089C0D
 for <spice-devel@lists.freedesktop.org>; Mon,  1 Jul 2019 11:02:02 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx05.intmail.prod.int.phx2.redhat.com
 [10.5.11.15])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id E68B23082E72
 for <spice-devel@lists.freedesktop.org>; Mon,  1 Jul 2019 11:02:01 +0000 (UTC)
Received: from colo-mx.corp.redhat.com
 (colo-mx01.intmail.prod.int.phx2.redhat.com [10.5.11.20])
 by smtp.corp.redhat.com (Postfix) with ESMTPS id DC92E18398
 for <spice-devel@lists.freedesktop.org>; Mon,  1 Jul 2019 11:02:01 +0000 (UTC)
Received: from zmail25.collab.prod.int.phx2.redhat.com
 (zmail25.collab.prod.int.phx2.redhat.com [10.5.83.31])
 by colo-mx.corp.redhat.com (Postfix) with ESMTP id D044B1806B15;
 Mon,  1 Jul 2019 11:02:01 +0000 (UTC)
Date: Mon, 1 Jul 2019 07:02:00 -0400 (EDT)
From: Frediano Ziglio <fziglio@redhat.com>
To: Jakub =?utf-8?Q?Jank=C5=AF?= <jjanku@redhat.com>
Message-ID: <1029094810.25942857.1561978920203.JavaMail.zimbra@redhat.com>
In-Reply-To: <20190701094744.18558-1-jjanku@redhat.com>
References: <20190701094744.18558-1-jjanku@redhat.com>
MIME-Version: 1.0
X-Originating-IP: [10.33.32.18, 10.4.195.15]
Thread-Topic: webdav: don't buffer input from phodav
Thread-Index: c2cIYdNYn7hq0wxMsovKNjie5pZxcg==
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.15
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.46]); Mon, 01 Jul 2019 11:02:01 +0000 (UTC)
Subject: Re: [Spice-devel] [PATCH spice-gtk] webdav: don't buffer input from
 phodav
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel@lists.freedesktop.org
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

PiAKPiBUaGUgY3VycmVudCBhcHByb2FjaCB3aXRoIE91dHB1dFF1ZXVlIGluIHdlYmRhdiBoYXMg
c2V2ZXJhbCBwcm9ibGVtczoKPiAKPiAqIGlmIHRoZSBjb25uZWN0aW9uIGlzIHNsb3csIHdlYmRh
diBrZWVwcyByZWFkaW5nIGZyb20gcGhvZGF2Cj4gYW5kIHB1c2hpbmcgbWVzc2FnZXMgdG8gdGhl
IGludGVybmFsIGNoYW5uZWwgeG1pdF9xdWV1ZS4KPiBUaGlzIHdheSwgdGhlIHF1ZXVlIGNhbiBn
cm93IHZlcnkgcXVpY2tseSBhbmQgdGhlIHdob2xlIGZpbGUKPiB0aGF0IGlzIGJlaW5nIHRyYW5z
ZmVycmVkIHVzaW5nIHdlYmRhdiBlc3NlbnRpYWxseSBnZXRzIGxvYWRlZCBpbnRvIG1lbW9yeS4K
PiAKPiAqIHNwaWNlIGNoYW5uZWwgZmlyc3QgZmx1c2hlcyBhbGwgbWVzc2FnZXMgaW4gdGhlIHht
aXRfcXVldWUgYW5kCj4gdGhlbiBwcm9jZWVkcyB0byByZWFkaW5nLiBJZiB3ZWJkYXYgZmxvb2Rz
IHRoZSB4bWl0X3F1ZXVlIHdpdGgKPiBhIHRvbiBvZiBtZXNzYWdlcywgc3BpY2UgY2hhbm5lbCBk
b2VzIG5vdCBsZWF2ZSBpdGVyYXRlX3dyaXRlIHVudGlsCj4gdGhlIHF1ZXVlIGdldHMgZW1wdHku
IFRoaXMgd2F5LCByZWFkaW5nIGZyb20gdGhlIGNoYW5uZWwgaXMgYmxvY2tlZAo+IHRpbGwgdGhl
IHdob2xlIGZpbGUgaXMgdHJhbnNmZXJyZWQuCj4gCj4gKiBPdXRwdXRRdWV1ZSB1c2VzIGdfb3V0
cHV0X3N0cmVhbV9mbHVzaF9hc3luYygpIG9uIFNwaWNlVm1jT3V0cHV0U3RyZWFtCj4gdGhhdCBk
b2VzIG5vdCBpbXBsZW1lbnQgZmx1c2gKPiAKPiBUbyBzb2x2ZSB0aGVzZSBpc3N1ZXMsIGRvbid0
IHJlYWQgZnJvbSBwaG9kYXYgdW50aWwgdGhlIGxhc3QgbWVzc2FnZQo+IGZvciBhIGdpdmVuIGNs
aWVudCBpcyB3cml0dGVuIG91dCB0byB0aGUgc29ja2V0Lgo+IChtYWluIGNoYW5uZWwgY3VycmVu
dGx5IHVzZXMgdGhlIHNhbWUgYXBwcm9hY2ggd2hlbiB0cmFuc2ZlcnJpbmcgZmlsZXMpCj4gCj4g
T3V0cHV0UXVldWUgdXNlZCBhbiBpZGxlIGZ1bmN0aW9uIHRvIHNjaGVkdWxlIHRoZSB3cml0ZSBh
bmQgdGhlbgo+IGNhbGxlZCBtdXhfcHVzaGVkX2NiIHdoaWNoIHN0YXJ0ZWQgcmVhZGluZyBmcm9t
IHBob2RhdiB3aXRoIHByaW9yaXR5Cj4gR19QUklPUklUWV9ERUZBVUxULgo+IFNpbmNlIHRoaXMg
bmV3IGFwcHJvYWNoIGRvZXMgbm90IHV0aWxpemUgdGhlIGlkbGUgc2NoZWR1bGluZywKPiBsb3dl
ciB0aGUgcHJpb3JpdHkgaW4gY2xpZW50X3N0YXJ0X3JlYWQoKSB0byBHX1BSSU9SSVRZX0RFRkFV
TFRfSURMRQo+IHRvIG1ha2Ugc3VyZSB3ZWJkYXYgZG9lcyBub3QgYmxvY2sgb3RoZXIgY2hhbm5l
bHMuCj4gCgpUaGlzIHNvdW5kcyBhIGJpdCB3b3JyeWluZy4gV2h5IHdpdGggYWxsIGNvcm91dGlu
ZS9hc3luYyBjb2RlIHdlCmhhdmUgd2Ugc2hvdWxkIGhhdmUgYSBibG9ja2FnZT8gVGhpcyBzb3Vu
ZHMgd3JvbmcuCgo+IEFsc28gaW1wbGVtZW50IHNwaWNlX3dlYmRhdl9jaGFubmVsX3Jlc2V0KCku
IFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2UKPiBzcGljZV92bWNfd3JpdGVfYXN5bmMoKSByZWZl
cmVuY2VzIHRoZSBjaGFubmVsLiBJZiB0aGUgY2hhbm5lbCBpcyB0byBiZQo+IGRpc2Nvbm5lY3Rl
ZCwgdGhlIHdyaXRlIG9wZXJhdGlvbnMgbmVlZCB0byBiZSBjYW5jZWxsZWQgc28gdGhhdAo+IHRo
ZSByZWZlcmVuY2VzIHRvIHRoZSBjaGFubmVsIGFyZSByZWxlYXNlZCBhc2FwLiBPdGhlcndpc2Us
Cj4gc3BpY2Ugc2Vzc2lvbiB3b3VsZCBiZSBzdHVjayB3YWl0aW5nIGZvciB0aGUgY2hhbm5lbCB0
byBmaW5hbGl6ZS4KPiAKPiBTaWduZWQtb2ZmLWJ5OiBKYWt1YiBKYW5rxa8gPGpqYW5rdUByZWRo
YXQuY29tPgo+IC0tLQo+IAo+IE5vdGU6IEkgbGVmdCB0aGUgT3V0cHV0UXVldWUgY29kZSBzdGls
bCBpbiBwbGFjZSBzaW5jZSBJJ20gY29uc2lkZXJpbmcKPiB1c2luZyBpdCBmb3IgdGhlIGRyYWcm
ZHJvcCBmdW5jdGlvbmFsaXR5Lgo+IAo+ICBzcmMvY2hhbm5lbC13ZWJkYXYuYyB8IDQ5ICsrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0tLS0tLS0tCj4gIDEgZmlsZSBjaGFuZ2Vk
LCAzNiBpbnNlcnRpb25zKCspLCAxMyBkZWxldGlvbnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvc3Jj
L2NoYW5uZWwtd2ViZGF2LmMgYi9zcmMvY2hhbm5lbC13ZWJkYXYuYwo+IGluZGV4IGY1YTM4YWQu
LjY2ZjhhNWIgMTAwNjQ0Cj4gLS0tIGEvc3JjL2NoYW5uZWwtd2ViZGF2LmMKPiArKysgYi9zcmMv
Y2hhbm5lbC13ZWJkYXYuYwo+IEBAIC00NSwxMyArNDUsMTIgQEAKPiAgICogU2luY2U6IDAuMjQK
PiAgICovCj4gIAo+IC10eXBlZGVmIHN0cnVjdCBfT3V0cHV0UXVldWUgT3V0cHV0UXVldWU7Cj4g
Ky8qIHR5cGVkZWYgc3RydWN0IF9PdXRwdXRRdWV1ZSBPdXRwdXRRdWV1ZTsgKi8KPiAgCj4gIHN0
cnVjdCBfU3BpY2VXZWJkYXZDaGFubmVsUHJpdmF0ZSB7Cj4gICAgICBTcGljZVZtY1N0cmVhbSAq
c3RyZWFtOwo+ICAgICAgR0NhbmNlbGxhYmxlICpjYW5jZWxsYWJsZTsKPiAgICAgIEdIYXNoVGFi
bGUgKmNsaWVudHM7Cj4gLSAgICBPdXRwdXRRdWV1ZSAqcXVldWU7Cj4gIAo+ICAgICAgZ2Jvb2xl
YW4gZGVtdXhpbmc7Cj4gICAgICBzdHJ1Y3QgX2RlbXV4IHsKPiBAQCAtNjUsNiArNjQsNyBAQCBH
X0RFRklORV9UWVBFX1dJVEhfUFJJVkFURShTcGljZVdlYmRhdkNoYW5uZWwsCj4gc3BpY2Vfd2Vi
ZGF2X2NoYW5uZWwsIFNQSUNFX1RZUEVfCj4gIAo+ICBzdGF0aWMgdm9pZCBzcGljZV93ZWJkYXZf
aGFuZGxlX21zZyhTcGljZUNoYW5uZWwgKmNoYW5uZWwsIFNwaWNlTXNnSW4gKm1zZyk7Cj4gIAo+
ICsjaWYgMAo+ICBzdHJ1Y3QgX091dHB1dFF1ZXVlIHsKPiAgICAgIEdPdXRwdXRTdHJlYW0gKm91
dHB1dDsKPiAgICAgIGdib29sZWFuIGZsdXNoaW5nOwo+IEBAIC0xNzksNiArMTc5LDggQEAgc3Rh
dGljIHZvaWQgb3V0cHV0X3F1ZXVlX3B1c2goT3V0cHV0UXVldWUgKnEsIGNvbnN0Cj4gZ3VpbnQ4
ICpidWYsIGdzaXplIHNpemUsCj4gICAgICAgICAgcS0+aWRsZV9pZCA9IGdfaWRsZV9hZGQob3V0
cHV0X3F1ZXVlX2lkbGUsIHEpOwo+ICB9Cj4gIAo+ICsjZW5kaWYKPiArCj4gIHR5cGVkZWYgc3Ry
dWN0IENsaWVudAo+ICB7Cj4gICAgICBndWludCByZWZzOwo+IEBAIC0yMjcsMTAgKzIyOSwxNyBA
QCBzdGF0aWMgdm9pZCByZW1vdmVfY2xpZW50KENsaWVudCAqY2xpZW50KQo+ICAgICAgZ19oYXNo
X3RhYmxlX3JlbW92ZShjbGllbnQtPnNlbGYtPnByaXYtPmNsaWVudHMsICZjbGllbnQtPmlkKTsK
PiAgfQo+ICAKPiAtc3RhdGljIHZvaWQgbXV4X3B1c2hlZF9jYihPdXRwdXRRdWV1ZSAqcSwgZ3Bv
aW50ZXIgdXNlcl9kYXRhKQo+ICsjZGVmaW5lIE1BWF9NVVhfU0laRSBHX01BWFVJTlQxNgo+ICsK
PiArc3RhdGljIHZvaWQKPiArbXV4X21zZ19mbHVzaGVkX2NiKEdPYmplY3QgKnNvdXJjZV9vYmpl
Y3QsCj4gKyAgICAgICAgICAgICAgICAgICBHQXN5bmNSZXN1bHQgKnJlc3VsdCwKPiArICAgICAg
ICAgICAgICAgICAgIGdwb2ludGVyIHVzZXJfZGF0YSkKPiAgewo+ICAgICAgQ2xpZW50ICpjbGll
bnQgPSB1c2VyX2RhdGE7Cj4gIAo+ICsgICAgZ19vdXRwdXRfc3RyZWFtX3dyaXRlX2ZpbmlzaChH
X09VVFBVVF9TVFJFQU0oc291cmNlX29iamVjdCksIHJlc3VsdCwKPiBOVUxMKTsKPiArCj4gICAg
ICBpZiAoY2xpZW50LT5tdXguc2l6ZSA9PSAwIHx8Cj4gICAgICAgICAgIWNsaWVudF9zdGFydF9y
ZWFkKGNsaWVudCkpIHsKPiAgICAgICAgICByZW1vdmVfY2xpZW50KGNsaWVudCk7Cj4gQEAgLTIz
OSwxNCArMjQ4LDEzIEBAIHN0YXRpYyB2b2lkIG11eF9wdXNoZWRfY2IoT3V0cHV0UXVldWUgKnEs
IGdwb2ludGVyCj4gdXNlcl9kYXRhKQo+ICAgICAgY2xpZW50X3VucmVmKGNsaWVudCk7Cj4gIH0K
PiAgCj4gLSNkZWZpbmUgTUFYX01VWF9TSVpFIEdfTUFYVUlOVDE2Cj4gLQo+ICBzdGF0aWMgdm9p
ZCBzZXJ2ZXJfcmVwbHlfY2IoR09iamVjdCAqc291cmNlX29iamVjdCwKPiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIEdBc3luY1Jlc3VsdCAqcmVzLAo+ICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZ3BvaW50ZXIgdXNlcl9kYXRhKQo+ICB7Cj4gICAgICBDbGllbnQgKmNsaWVudCA9
IHVzZXJfZGF0YTsKPiAgICAgIFNwaWNlV2ViZGF2Q2hhbm5lbFByaXZhdGUgKmMgPSBjbGllbnQt
PnNlbGYtPnByaXY7Cj4gKyAgICBHT3V0cHV0U3RyZWFtICptdXhfb3V0Owo+ICAgICAgR0Vycm9y
ICplcnIgPSBOVUxMOwo+ICAgICAgZ3NzaXplIHNpemU7Cj4gIAo+IEBAIC0yNTgsMTAgKzI2Niwx
NSBAQCBzdGF0aWMgdm9pZCBzZXJ2ZXJfcmVwbHlfY2IoR09iamVjdCAqc291cmNlX29iamVjdCwK
PiAgICAgIGdfcmV0dXJuX2lmX2ZhaWwoc2l6ZSA+PSAwKTsKPiAgICAgIGNsaWVudC0+bXV4LnNp
emUgPSBzaXplOwo+ICAKPiAtICAgIG91dHB1dF9xdWV1ZV9wdXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4
ICopJmNsaWVudC0+bXV4LmlkLCBzaXplb2YoZ2ludDY0KSwKPiBOVUxMLCBOVUxMKTsKPiArICAg
IG11eF9vdXQgPSBnX2lvX3N0cmVhbV9nZXRfb3V0cHV0X3N0cmVhbShHX0lPX1NUUkVBTShjLT5z
dHJlYW0pKTsKPiArCj4gKyAgICBnX291dHB1dF9zdHJlYW1fd3JpdGUobXV4X291dCwgKGd1aW50
OCAqKSZjbGllbnQtPm11eC5pZCwKPiBzaXplb2YoZ2ludDY0KSwgTlVMTCwgTlVMTCk7Cj4gICAg
ICBjbGllbnQtPm11eC5zaXplID0gR1VJTlQxNl9UT19MRShjbGllbnQtPm11eC5zaXplKTsKPiAt
ICAgIG91dHB1dF9xdWV1ZV9wdXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4ICopJmNsaWVudC0+bXV4LnNp
emUsCj4gc2l6ZW9mKGd1aW50MTYpLCBOVUxMLCBOVUxMKTsKPiAtICAgIG91dHB1dF9xdWV1ZV9w
dXNoKGMtPnF1ZXVlLCAoZ3VpbnQ4ICopY2xpZW50LT5tdXguYnVmLCBzaXplLAo+IChHRnVuYylt
dXhfcHVzaGVkX2NiLCBjbGllbnQpOwo+ICsgICAgZ19vdXRwdXRfc3RyZWFtX3dyaXRlKG11eF9v
dXQsIChndWludDggKikmY2xpZW50LT5tdXguc2l6ZSwKPiBzaXplb2YoZ3VpbnQxNiksIE5VTEws
IE5VTEwpOwo+ICsgICAgLyogdGhpcyBpbnRlcm5hbGx5IHVzZXMgc3BpY2Vfdm1jX3dyaXRlX2Fz
eW5jKCksIHByaW9yaXR5IGlzIGlnbm9yZWQ7Cj4gKyAgICAgKiB0aGUgY2FsbGJhY2sgaXMgaW52
b2tlZCBvbmNlIHRoZSBtc2cgaXMgd3JpdHRlbiBvdXQgdG8gdGhlIHNvY2tldCAqLwo+ICsgICAg
Z19vdXRwdXRfc3RyZWFtX3dyaXRlX2FzeW5jKG11eF9vdXQsIChndWludDggKiljbGllbnQtPm11
eC5idWYsIHNpemUsCj4gKyAgICAgICAgR19QUklPUklUWV9ERUZBVUxULCBjbGllbnQtPmNhbmNl
bGxhYmxlLCBtdXhfbXNnX2ZsdXNoZWRfY2IsCj4gY2xpZW50KTsKCldoeSBkb24ndCB5b3UgdXNl
IGdfb3V0cHV0X3N0cmVhbV93cml0ZXZfYWxsX2FzeW5jIGhlcmUgd3JpdGluZyBhbGwgMyBidWZm
ZXJzCnRvZ2V0aGVyIGFuZCBhdm9pZCBibG9ja2luZyBjYWxscz8KV2VsbCwgaXQncyBhdmFpbGFi
bGUgc3RhcnRpbmcgZnJvbSBHTGliIDIuNjAgc28gcG9zc2libHkgeW91J2xsIGhhdmUKdG8gcHJv
dmlkZSBhIHJlcGxhY2VtZW50IGZvciBHTGliIDIuNjAgdXNpbmcgZ19vdXRwdXRfc3RyZWFtX3dy
aXRlX2FsbF9hc3luYy4KCj4gIAo+ICAgICAgcmV0dXJuOwo+ICAKPiBAQCAtMjg0LDggKzI5Nyw5
IEBAIHN0YXRpYyBib29sIGNsaWVudF9zdGFydF9yZWFkKENsaWVudCAqY2xpZW50KQo+ICAgICAg
aWYgKGdfaW5wdXRfc3RyZWFtX2lzX2Nsb3NlZChpbnB1dCkpIHsKPiAgICAgICAgICByZXR1cm4g
ZmFsc2U7Cj4gICAgICB9Cj4gKyAgICAvKiB1c2UgbG93IHByaW9yaXR5IHRvIGxlYXZlIGVub3Vn
aCB0aW1lIGZvciBvdGhlciBjaGFubmVscyAqLwo+ICAgICAgZ19pbnB1dF9zdHJlYW1fcmVhZF9h
c3luYyhpbnB1dCwgY2xpZW50LT5tdXguYnVmLCBNQVhfTVVYX1NJWkUsCj4gLSAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIEdfUFJJT1JJVFlfREVGQVVMVCwgY2xpZW50LT5jYW5jZWxsYWJs
ZSwKPiBzZXJ2ZXJfcmVwbHlfY2IsCj4gKyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdf
UFJJT1JJVFlfREVGQVVMVF9JRExFLCBjbGllbnQtPmNhbmNlbGxhYmxlLAo+IHNlcnZlcl9yZXBs
eV9jYiwKPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3JlZihjbGllbnQp
KTsKPiAgICAgIHJldHVybiB0cnVlOwo+ICB9Cj4gQEAgLTU0MCw5ICs1NTQsNiBAQCBzdGF0aWMg
dm9pZCBzcGljZV93ZWJkYXZfY2hhbm5lbF9pbml0KFNwaWNlV2ViZGF2Q2hhbm5lbAo+ICpjaGFu
bmVsKQo+ICAgICAgYy0+Y2xpZW50cyA9IGdfaGFzaF90YWJsZV9uZXdfZnVsbChnX2ludDY0X2hh
c2gsIGdfaW50NjRfZXF1YWwsCj4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIE5VTEwsIGNsaWVudF9yZW1vdmVfdW5yZWYpOwo+ICAgICAgYy0+ZGVtdXguYnVmID0gZ19t
YWxsb2MwKE1BWF9NVVhfU0laRSk7Cj4gLQo+IC0gICAgR091dHB1dFN0cmVhbSAqb3N0cmVhbSA9
Cj4gZ19pb19zdHJlYW1fZ2V0X291dHB1dF9zdHJlYW0oR19JT19TVFJFQU0oYy0+c3RyZWFtKSk7
Cj4gLSAgICBjLT5xdWV1ZSA9IG91dHB1dF9xdWV1ZV9uZXcob3N0cmVhbSk7Cj4gIH0KPiAgCj4g
IHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVsX2ZpbmFsaXplKEdPYmplY3QgKm9iamVj
dCkKPiBAQCAtNTYwLDcgKzU3MSw2IEBAIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9jaGFubmVs
X2Rpc3Bvc2UoR09iamVjdCAqb2JqZWN0KQo+ICAKPiAgICAgIGdfY2FuY2VsbGFibGVfY2FuY2Vs
KGMtPmNhbmNlbGxhYmxlKTsKPiAgICAgIGdfY2xlYXJfb2JqZWN0KCZjLT5jYW5jZWxsYWJsZSk7
Cj4gLSAgICBnX2NsZWFyX3BvaW50ZXIoJmMtPnF1ZXVlLCBvdXRwdXRfcXVldWVfZnJlZSk7Cj4g
ICAgICBnX2NsZWFyX29iamVjdCgmYy0+c3RyZWFtKTsKPiAgICAgIGdfaGFzaF90YWJsZV91bnJl
ZihjLT5jbGllbnRzKTsKPiAgCj4gQEAgLTU3Miw2ICs1ODIsMTggQEAgc3RhdGljIHZvaWQgc3Bp
Y2Vfd2ViZGF2X2NoYW5uZWxfdXAoU3BpY2VDaGFubmVsCj4gKmNoYW5uZWwpCj4gICAgICBDSEFO
TkVMX0RFQlVHKGNoYW5uZWwsICJ1cCIpOwo+ICB9Cj4gIAo+ICtzdGF0aWMgdm9pZCBzcGljZV93
ZWJkYXZfY2hhbm5lbF9yZXNldChTcGljZUNoYW5uZWwgKmNoYW5uZWwsIGdib29sZWFuCj4gbWln
cmF0aW5nKQo+ICt7Cj4gKyAgICBTcGljZVdlYmRhdkNoYW5uZWxQcml2YXRlICpjOwo+ICsgICAg
YyA9Cj4gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfZ2V0X2luc3RhbmNlX3ByaXZhdGUoU1BJQ0VfV0VC
REFWX0NIQU5ORUwoY2hhbm5lbCkpOwo+ICsKPiArICAgIGdfY2FuY2VsbGFibGVfY2FuY2VsKGMt
PmNhbmNlbGxhYmxlKTsKPiArICAgIGMtPmRlbXV4aW5nID0gRkFMU0U7Cj4gKyAgICBnX2hhc2hf
dGFibGVfcmVtb3ZlX2FsbChjLT5jbGllbnRzKTsKPiArCj4gKwo+IFNQSUNFX0NIQU5ORUxfQ0xB
U1Moc3BpY2Vfd2ViZGF2X2NoYW5uZWxfcGFyZW50X2NsYXNzKS0+Y2hhbm5lbF9yZXNldChjaGFu
bmVsLAo+IG1pZ3JhdGluZyk7Cj4gK30KPiArCj4gIHN0YXRpYyB2b2lkIHNwaWNlX3dlYmRhdl9j
aGFubmVsX2NsYXNzX2luaXQoU3BpY2VXZWJkYXZDaGFubmVsQ2xhc3MgKmtsYXNzKQo+ICB7Cj4g
ICAgICBHT2JqZWN0Q2xhc3MgKmdvYmplY3RfY2xhc3MgPSBHX09CSkVDVF9DTEFTUyhrbGFzcyk7
Cj4gQEAgLTU4MSw2ICs2MDMsNyBAQCBzdGF0aWMgdm9pZAo+IHNwaWNlX3dlYmRhdl9jaGFubmVs
X2NsYXNzX2luaXQoU3BpY2VXZWJkYXZDaGFubmVsQ2xhc3MgKmtsYXNzKQo+ICAgICAgZ29iamVj
dF9jbGFzcy0+ZmluYWxpemUgICAgID0gc3BpY2Vfd2ViZGF2X2NoYW5uZWxfZmluYWxpemU7Cj4g
ICAgICBjaGFubmVsX2NsYXNzLT5oYW5kbGVfbXNnICAgPSBzcGljZV93ZWJkYXZfaGFuZGxlX21z
ZzsKPiAgICAgIGNoYW5uZWxfY2xhc3MtPmNoYW5uZWxfdXAgICA9IHNwaWNlX3dlYmRhdl9jaGFu
bmVsX3VwOwo+ICsgICAgY2hhbm5lbF9jbGFzcy0+Y2hhbm5lbF9yZXNldCA9IHNwaWNlX3dlYmRh
dl9jaGFubmVsX3Jlc2V0Owo+ICAKPiAgICAgIGdfc2lnbmFsX292ZXJyaWRlX2NsYXNzX2hhbmRs
ZXIoInBvcnQtZXZlbnQiLAo+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBT
UElDRV9UWVBFX1dFQkRBVl9DSEFOTkVMLAoKRnJlZGlhbm8KX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX18KU3BpY2UtZGV2ZWwgbWFpbGluZyBsaXN0ClNwaWNl
LWRldmVsQGxpc3RzLmZyZWVkZXNrdG9wLm9yZwpodHRwczovL2xpc3RzLmZyZWVkZXNrdG9wLm9y
Zy9tYWlsbWFuL2xpc3RpbmZvL3NwaWNlLWRldmVs
