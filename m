Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [131.252.210.177])
	by mail.lfdr.de (Postfix) with ESMTPS id 085243D5AB
	for <lists+spice-devel@lfdr.de>; Tue, 11 Jun 2019 20:43:54 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 7AFF5891DA;
	Tue, 11 Jun 2019 18:43:52 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mx1.redhat.com (mx1.redhat.com [209.132.183.28])
 by gabe.freedesktop.org (Postfix) with ESMTPS id B8094891DA
 for <spice-devel@lists.freedesktop.org>; Tue, 11 Jun 2019 18:43:50 +0000 (UTC)
Received: from smtp.corp.redhat.com (int-mx02.intmail.prod.int.phx2.redhat.com
 [10.5.11.12])
 (using TLSv1.2 with cipher AECDH-AES256-SHA (256/256 bits))
 (No client certificate requested)
 by mx1.redhat.com (Postfix) with ESMTPS id 57976C05B03F
 for <spice-devel@lists.freedesktop.org>; Tue, 11 Jun 2019 18:43:50 +0000 (UTC)
Received: from fziglio.remote.csb (ovpn-204-113.brq.redhat.com [10.40.204.113])
 by smtp.corp.redhat.com (Postfix) with ESMTP id BFA6B60BF1;
 Tue, 11 Jun 2019 18:43:47 +0000 (UTC)
From: Frediano Ziglio <fziglio@redhat.com>
To: spice-devel@lists.freedesktop.org
Date: Tue, 11 Jun 2019 19:43:40 +0100
Message-Id: <20190611184341.16697-1-fziglio@redhat.com>
MIME-Version: 1.0
X-Scanned-By: MIMEDefang 2.79 on 10.5.11.12
X-Greylist: Sender IP whitelisted, not delayed by milter-greylist-4.5.16
 (mx1.redhat.com [10.5.110.31]); Tue, 11 Jun 2019 18:43:50 +0000 (UTC)
Subject: [Spice-devel] [PATCH spice-server 1/2] Fix compile warnings on
 Linux 32bit system
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

QmFzZWQgb24gYSBwYXRjaCBmcm9tIEhvbmd6aGkuU29uZyA8aG9uZ3poaS5zb25nIGF0IHdpbmRy
aXZlci5jb20+LgoKVGhlcmUgYXJlIGZvbGxvd2luZyBjb21waWxlIGVycm9ycyBvbiBMaW51eCAz
MmJpdCBzeXN0ZW0gd2l0aCAtV2Vycm9yCmZvciBnY2MuCgpyZWQtY2hhbm5lbC5jOjIwNzo3Mzog
ZXJyb3I6IGZvcm1hdCAnJXgnIGV4cGVjdHMgYXJndW1lbnQgb2YgdHlwZQondW5zaWduZWQgaW50
JywgYnV0IGFyZ3VtZW50IDcgaGFzIHR5cGUgJ2xvbmcgdW5zaWduZWQgaW50JyBbLVdlcnJvcj1m
b3JtYXQ9XQp8MjA3fCByZWRfY2hhbm5lbF9kZWJ1ZyhzZWxmLCAidGhyZWFkX2lkIDB4JSIgR19H
U0laRV9NT0RJRklFUiAieCIsCgkJCQl+fn5+fn5+fn5+fn5+fn5+fn5+fn5eCgkJCXNlbGYtPnBy
aXYtPnRocmVhZF9pZCk7CgkJfn5+fn5+fn5+fn5+fn5+fn5+fn5+XgoKcHRocmVhZF90IGlzIGFu
IG9wYXF1ZSB0eXBlIHNvIHRoZXJlIGl0J3Mgbm90IGVhc3kgdG8gZ2V0IHBvcnRhYmx5CnRoZSBw
cmludGYgZm9ybWF0IHN0cmluZy4gSG93ZXZlciB0aGUgdHlwZSBtdXN0IGJlIGNvbXBhcmFibGUg
aW4gQwpzbyB0aGlzIChleGNsdWRpbmcgZmxvYXRpbmcgcG9pbnQgd2hpY2ggZG9lcyBub3QgbWFr
ZSBzZW5zZSkgbWVhbnMKYW4gaW50ZWdyYWwgdHlwZSBvciBhIHBvaW50ZXIuClVuZGVyICpCU0Qg
dGhpcyBpcyBhIHBvaW50ZXIgc28gY2FuIGJlIGNvbnZlcnRlZCB3aXRob3V0IGxvb3NpbmcKcHJl
Y2lzaW9uIHRvIHZvaWQqLgpVbmRlciBMaW51eCB0aGlzIGlzIGEgInVuc2lnbmVkIGxvbmcgaW50
IiB0eXBlLCBiZWluZyBMaW51eCBMUDMyIG9yCkxQNjQgdGhpcyBtZWFucyB0aGF0IHRoZSBzaXpl
IG9mIHB0aHJlYWRfdCBpcyB0aGUgc2FtZSBhcyBzaXplX3QKc28gY2FuIGJlIGNvbnZlcnRlZCB3
aXRob3V0IGxvb3NpbmcgcHJlY2lzaW9uIHRvIHZvaWQqLgpVbmRlciBNaW5nVyAodGhlIHB0aHJl
YWQgcG9ydCB0byBXaW5kb3dzKSB0aGlzIGlzIGEgdWludHB0cl90IHR5cGUKdGhhdCBpcyBjYW4g
YmUgY29udmVydGVkIHdpdGhvdXQgbG9vc2luZyBwcmVjaXNpb24gdG8gdm9pZCouCk9uIGFueSBw
b3RlbnRpYWwgZnV0dXJlIHBsYXRmb3JtcyBpZiB0aGUgaW50ZWdyYWwgdHlwZSBpcyBzbWFsbGVy
CnRoYW4gYSB1aW50cHRyX3QgdHlwZSAod2hpY2ggaGFzIHRoZSBzYW1lIHNpemUgb2Ygdm9pZCop
IHRoZSBjYXN0CnNob3VsZCB0cmlnZ2VyIGEgd2FybmluZyBhbmQgaWYgbm90IHdvbid0IGxvb3Nl
IHByZWNpc2lvbjsgdGhlCmludGVncmFsIHR5cGUgaXMgdW5saWtlbHkgdG8gYmUgYmlnZ2VyIHRo
YW4gYSBwb2ludGVyIGFuZCBsaWtlbHkKdGhlIGNhc3Qgd291bGQgdHJpZ2dlciBhIHdhcm5pbmcu
CgpUaGUgY2FzdCBvbiByZWFkX2JpbmFyeSAocmVkLXJlcGxheS1xeGwuYykgaXMgc2FmZSwgIipz
aXplIiBpcyBhCnNpemVfdCB3aGlsZSAic3RybS50b3RhbF9vdXQiIGlzIHRoZSBudW1iZXIgb2Yg
d3JpdHRlbiBieXRlcyBpbgphIGJ1ZmZlciB3aGljaCBjYW5ub3QgYmUgYmlnZ2VyIHRoYW4gYSBz
aXplX3QuCgpTaWduZWQtb2ZmLWJ5OiBGcmVkaWFubyBaaWdsaW8gPGZ6aWdsaW9AcmVkaGF0LmNv
bT4KLS0tCiBzZXJ2ZXIvcmVkLWNoYW5uZWwuYyAgICB8ICA4ICsrKystLS0tCiBzZXJ2ZXIvcmVk
LWNsaWVudC5jICAgICB8IDE0ICsrKysrKystLS0tLS0tCiBzZXJ2ZXIvcmVkLXJlcGxheS1xeGwu
YyB8ICAyICstCiAzIGZpbGVzIGNoYW5nZWQsIDEyIGluc2VydGlvbnMoKyksIDEyIGRlbGV0aW9u
cygtKQoKZGlmZiAtLWdpdCBhL3NlcnZlci9yZWQtY2hhbm5lbC5jIGIvc2VydmVyL3JlZC1jaGFu
bmVsLmMKaW5kZXggODJlNTIyMzk1Li5lMDllZGFjZjggMTAwNjQ0Ci0tLSBhL3NlcnZlci9yZWQt
Y2hhbm5lbC5jCisrKyBiL3NlcnZlci9yZWQtY2hhbm5lbC5jCkBAIC0yMDIsNyArMjAyLDcgQEAg
cmVkX2NoYW5uZWxfY29uc3RydWN0ZWQoR09iamVjdCAqb2JqZWN0KQogewogICAgIFJlZENoYW5u
ZWwgKnNlbGYgPSBSRURfQ0hBTk5FTChvYmplY3QpOwogCi0gICAgcmVkX2NoYW5uZWxfZGVidWco
c2VsZiwgInRocmVhZF9pZCAweCUiIEdfR1NJWkVfTU9ESUZJRVIgIngiLCBzZWxmLT5wcml2LT50
aHJlYWRfaWQpOworICAgIHJlZF9jaGFubmVsX2RlYnVnKHNlbGYsICJ0aHJlYWRfaWQgJXAiLCAo
dm9pZCopIHNlbGYtPnByaXYtPnRocmVhZF9pZCk7CiAKICAgICBSZWRDaGFubmVsQ2xhc3MgKmts
YXNzID0gUkVEX0NIQU5ORUxfR0VUX0NMQVNTKHNlbGYpOwogCkBAIC00NzMsMTEgKzQ3MywxMSBA
QCB2b2lkIHJlZF9jaGFubmVsX3JlbW92ZV9jbGllbnQoUmVkQ2hhbm5lbCAqY2hhbm5lbCwgUmVk
Q2hhbm5lbENsaWVudCAqcmNjKQogCiAgICAgaWYgKCFwdGhyZWFkX2VxdWFsKHB0aHJlYWRfc2Vs
ZigpLCBjaGFubmVsLT5wcml2LT50aHJlYWRfaWQpKSB7CiAgICAgICAgIHJlZF9jaGFubmVsX3dh
cm5pbmcoY2hhbm5lbCwKLSAgICAgICAgICAgICAgICAgICAgICAgICAgICAiY2hhbm5lbC0+dGhy
ZWFkX2lkICgweCUiIEdfR1NJWkVfTU9ESUZJRVIgIngpICE9ICIKLSAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAicHRocmVhZF9zZWxmICgweCUiIEdfR1NJWkVfTU9ESUZJRVIgIngpLiIKKyAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAiY2hhbm5lbC0+dGhyZWFkX2lkICglcCkgIT0gIgor
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICJwdGhyZWFkX3NlbGYgKCVwKS4iCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIklmIG9uZSBvZiB0aGUgdGhyZWFkcyBpcyAhPSBpby10aHJl
YWQgJiYgIT0gdmNwdS10aHJlYWQsICIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidGhp
cyBtaWdodCBiZSBhIEJVRyIsCi0gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbC0+
cHJpdi0+dGhyZWFkX2lkLCBwdGhyZWFkX3NlbGYoKSk7CisgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgKHZvaWQqKSBjaGFubmVsLT5wcml2LT50aHJlYWRfaWQsICh2b2lkKikgcHRocmVhZF9z
ZWxmKCkpOwogICAgIH0KICAgICBzcGljZV9yZXR1cm5faWZfZmFpbChjaGFubmVsKTsKICAgICBs
aW5rID0gZ19saXN0X2ZpbmQoY2hhbm5lbC0+cHJpdi0+Y2xpZW50cywgcmNjKTsKZGlmZiAtLWdp
dCBhL3NlcnZlci9yZWQtY2xpZW50LmMgYi9zZXJ2ZXIvcmVkLWNsaWVudC5jCmluZGV4IDk2MWI0
OTcwZS4uYTRjNzlhMTc0IDEwMDY0NAotLS0gYS9zZXJ2ZXIvcmVkLWNsaWVudC5jCisrKyBiL3Nl
cnZlci9yZWQtY2xpZW50LmMKQEAgLTE3NCwxMSArMTc0LDExIEBAIHZvaWQgcmVkX2NsaWVudF9t
aWdyYXRlKFJlZENsaWVudCAqY2xpZW50KQogICAgIFJlZENoYW5uZWwgKmNoYW5uZWw7CiAKICAg
ICBpZiAoIXB0aHJlYWRfZXF1YWwocHRocmVhZF9zZWxmKCksIGNsaWVudC0+dGhyZWFkX2lkKSkg
ewotICAgICAgICBzcGljZV93YXJuaW5nKCJjbGllbnQtPnRocmVhZF9pZCAoMHglIiBHX0dTSVpF
X01PRElGSUVSICJ4KSAhPSAiCi0gICAgICAgICAgICAgICAgICAgICAgInB0aHJlYWRfc2VsZiAo
MHglIiBHX0dTSVpFX01PRElGSUVSICJ4KS4iCisgICAgICAgIHNwaWNlX3dhcm5pbmcoImNsaWVu
dC0+dGhyZWFkX2lkICglcCkgIT0gIgorICAgICAgICAgICAgICAgICAgICAgICJwdGhyZWFkX3Nl
bGYgKCVwKS4iCiAgICAgICAgICAgICAgICAgICAgICAgIklmIG9uZSBvZiB0aGUgdGhyZWFkcyBp
cyAhPSBpby10aHJlYWQgJiYgIT0gdmNwdS10aHJlYWQsIgogICAgICAgICAgICAgICAgICAgICAg
ICIgdGhpcyBtaWdodCBiZSBhIEJVRyIsCi0gICAgICAgICAgICAgICAgICAgICAgY2xpZW50LT50
aHJlYWRfaWQsIHB0aHJlYWRfc2VsZigpKTsKKyAgICAgICAgICAgICAgICAgICAgICAodm9pZCop
IGNsaWVudC0+dGhyZWFkX2lkLCAodm9pZCopIHB0aHJlYWRfc2VsZigpKTsKICAgICB9CiAgICAg
Rk9SRUFDSF9DSEFOTkVMX0NMSUVOVChjbGllbnQsIHJjYykgewogICAgICAgICBpZiAocmVkX2No
YW5uZWxfY2xpZW50X2lzX2Nvbm5lY3RlZChyY2MpKSB7CkBAIC0xOTMsMTIgKzE5MywxMiBAQCB2
b2lkIHJlZF9jbGllbnRfZGVzdHJveShSZWRDbGllbnQgKmNsaWVudCkKICAgICBSZWRDaGFubmVs
Q2xpZW50ICpyY2M7CiAKICAgICBpZiAoIXB0aHJlYWRfZXF1YWwocHRocmVhZF9zZWxmKCksIGNs
aWVudC0+dGhyZWFkX2lkKSkgewotICAgICAgICBzcGljZV93YXJuaW5nKCJjbGllbnQtPnRocmVh
ZF9pZCAoMHglIiBHX0dTSVpFX01PRElGSUVSICJ4KSAhPSAiCi0gICAgICAgICAgICAgICAgICAg
ICAgInB0aHJlYWRfc2VsZiAoMHglIiBHX0dTSVpFX01PRElGSUVSICJ4KS4iCisgICAgICAgIHNw
aWNlX3dhcm5pbmcoImNsaWVudC0+dGhyZWFkX2lkICglcCkgIT0gIgorICAgICAgICAgICAgICAg
ICAgICAgICJwdGhyZWFkX3NlbGYgKCVwKS4iCiAgICAgICAgICAgICAgICAgICAgICAgIklmIG9u
ZSBvZiB0aGUgdGhyZWFkcyBpcyAhPSBpby10aHJlYWQgJiYgIT0gdmNwdS10aHJlYWQsIgogICAg
ICAgICAgICAgICAgICAgICAgICIgdGhpcyBtaWdodCBiZSBhIEJVRyIsCi0gICAgICAgICAgICAg
ICAgICAgICAgY2xpZW50LT50aHJlYWRfaWQsCi0gICAgICAgICAgICAgICAgICAgICAgcHRocmVh
ZF9zZWxmKCkpOworICAgICAgICAgICAgICAgICAgICAgICh2b2lkKikgY2xpZW50LT50aHJlYWRf
aWQsCisgICAgICAgICAgICAgICAgICAgICAgKHZvaWQqKSBwdGhyZWFkX3NlbGYoKSk7CiAgICAg
fQogICAgIHJlZF9jbGllbnRfc2V0X2Rpc2Nvbm5lY3RpbmcoY2xpZW50KTsKICAgICBGT1JFQUNI
X0NIQU5ORUxfQ0xJRU5UKGNsaWVudCwgcmNjKSB7CmRpZmYgLS1naXQgYS9zZXJ2ZXIvcmVkLXJl
cGxheS1xeGwuYyBiL3NlcnZlci9yZWQtcmVwbGF5LXF4bC5jCmluZGV4IDZkMzQ4MTgwNS4uZmE0
NGZhN2M0IDEwMDY0NAotLS0gYS9zZXJ2ZXIvcmVkLXJlcGxheS1xeGwuYworKysgYi9zZXJ2ZXIv
cmVkLXJlcGxheS1xeGwuYwpAQCAtMjY1LDcgKzI2NSw3IEBAIHN0YXRpYyByZXBsYXlfdCByZWFk
X2JpbmFyeShTcGljZVJlcGxheSAqcmVwbGF5LCBjb25zdCBjaGFyICpwcmVmaXgsIHNpemVfdCAq
c2l6CiAgICAgICAgIH0KICAgICAgICAgaWYgKChyZXQgPSBpbmZsYXRlKCZzdHJtLCBaX05PX0ZM
VVNIKSkgIT0gWl9TVFJFQU1fRU5EKSB7CiAgICAgICAgICAgICBzcGljZV9lcnJvcigiaW5mbGF0
ZSBlcnJvciAlZCAoZGlzYzogJSIgR19HU1NJWkVfRk9STUFUICIpIiwKLSAgICAgICAgICAgICAg
ICAgICAgICAgIHJldCwgKnNpemUgLSBzdHJtLnRvdGFsX291dCk7CisgICAgICAgICAgICAgICAg
ICAgICAgICByZXQsIChzaXplX3QpICgqc2l6ZSAtIHN0cm0udG90YWxfb3V0KSk7CiAgICAgICAg
ICAgICBpZiAocmV0ID09IFpfREFUQV9FUlJPUikgewogICAgICAgICAgICAgICAgIC8qIGxhc3Qg
b3BlcmF0aW9uIG1heSBiZSB3cm9uZy4gc2luY2Ugd2UgZG8gdGhlIHJlY29yZGluZwogICAgICAg
ICAgICAgICAgICAqIGluIHJlZF93b3JrZXIsIHdoZW4gdGhlcmUgaXMgYSBzaHV0ZG93biBmcm9t
IHRoZSB2Y3B1L2lvIHRocmVhZAotLSAKMi4yMC4xCgpfX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fXwpTcGljZS1kZXZlbCBtYWlsaW5nIGxpc3QKU3BpY2UtZGV2
ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCmh0dHBzOi8vbGlzdHMuZnJlZWRlc2t0b3Aub3JnL21h
aWxtYW4vbGlzdGluZm8vc3BpY2UtZGV2ZWw=
