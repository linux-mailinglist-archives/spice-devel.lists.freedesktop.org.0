Return-Path: <spice-devel-bounces@lists.freedesktop.org>
X-Original-To: lists+spice-devel@lfdr.de
Delivered-To: lists+spice-devel@lfdr.de
Received: from gabe.freedesktop.org (gabe.freedesktop.org [IPv6:2610:10:20:722:a800:ff:fe36:1795])
	by mail.lfdr.de (Postfix) with ESMTPS id D519927E5F
	for <lists+spice-devel@lfdr.de>; Thu, 23 May 2019 15:42:35 +0200 (CEST)
Received: from gabe.freedesktop.org (localhost [127.0.0.1])
	by gabe.freedesktop.org (Postfix) with ESMTP id 6764C89DF9;
	Thu, 23 May 2019 13:42:34 +0000 (UTC)
X-Original-To: spice-devel@lists.freedesktop.org
Delivered-To: spice-devel@lists.freedesktop.org
Received: from mail-wr1-x442.google.com (mail-wr1-x442.google.com
 [IPv6:2a00:1450:4864:20::442])
 by gabe.freedesktop.org (Postfix) with ESMTPS id 2461189811
 for <spice-devel@lists.freedesktop.org>; Thu, 23 May 2019 13:42:32 +0000 (UTC)
Received: by mail-wr1-x442.google.com with SMTP id e15so6364425wrs.4
 for <spice-devel@lists.freedesktop.org>; Thu, 23 May 2019 06:42:32 -0700 (PDT)
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20161025;
 h=x-gm-message-state:mime-version:references:in-reply-to:from:date
 :message-id:subject:to:cc:content-transfer-encoding;
 bh=lWhJUdDEMu49qNGY95CF9bciudEmV2qhKZyPi4CL0iA=;
 b=chZ/7q7YGHV4g3MnwffaFCcM10CT7LPc2VW87jpUQNaHuH3qBcelzPcGYCWxpd9Fmp
 J+gd1q9XoNZ8oUqoN3EmMnJKNjrO/t7WKVXJUZASFuvFShyiwgxRgUYJRsVEp6SaCUsi
 2eduRNHyoCXHf9+70IAbC/ughBeOyO3IjSs6lkp1g1DB4odet6nT8F0lAvbpfVJzQImI
 G5RKOXqjwxlcAR3vcMp5KMM8vZU0loBq9OW4Uhwd0/VDuqumwdjGbD1B17p07YCn/V80
 XOhYwspVOyd7TeTEZXHzqc+b+4jiA78ZYr6+g13FDWmbrhm/UxmWqYwVzKcf8rFvSiE1
 xWJg==
X-Gm-Message-State: APjAAAW9yVb93jB5E0Qp2y9Lxz2TnmTlY8Sje94XrHQj8Dp+tki1uXBf
 Wc487+HI+Vl3fmC8JS5QOY7MOPaGrOJ5Grb8nLPmf2it
X-Google-Smtp-Source: APXvYqxHOXI+Ob81FrgyMu8aVW5+FtbUmAA/XW42hhZ0AwRvZM5eI7poMwptG2CrIDtSDxIylDNahCOdSu/EwwF3vE4=
X-Received: by 2002:adf:83c5:: with SMTP id 63mr29232244wre.33.1558618950697; 
 Thu, 23 May 2019 06:42:30 -0700 (PDT)
MIME-Version: 1.0
References: <20190523083725.1554-1-jjanku@redhat.com>
 <20190523083725.1554-12-jjanku@redhat.com>
In-Reply-To: <20190523083725.1554-12-jjanku@redhat.com>
From: =?UTF-8?B?TWFyYy1BbmRyw6kgTHVyZWF1?= <marcandre.lureau@gmail.com>
Date: Thu, 23 May 2019 15:42:19 +0200
Message-ID: <CAJ+F1C+jiu0nCdA4LLqVDT=8NhVHFC66DAidg31m2EGV3U5OQg@mail.gmail.com>
To: =?UTF-8?B?SmFrdWIgSmFua8Wv?= <jjanku@redhat.com>
X-Mailman-Original-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=gmail.com; s=20161025;
 h=mime-version:references:in-reply-to:from:date:message-id:subject:to
 :cc:content-transfer-encoding;
 bh=lWhJUdDEMu49qNGY95CF9bciudEmV2qhKZyPi4CL0iA=;
 b=u5w5prrYtzrPuBcR3It9GinKYZxMRsBge1RWgyRavfmfhr79rvL7QrifihJcd7i96p
 TIGhP1JAmttpzUpFSjGXGxCgkqmU11aPmmyevgjTmDGyO21Hc294yEp5OgqMQWdufO4e
 qHglZZFZkSWhT/4g3KLJzZotvnooDXZaJqndo+p3pt3IoMCaWd7fd/l/CBZS8Z5qusdY
 aV8xhaXFE0hfrDzP+p2yqF9xjKqJ2hGcVLhS1+sAldXBBRY7WMoVtAyyKkNPHsVeFwD2
 FPBPWWd4YUNHlTQcHECP6CBrPtZs0ONEvjYUNjpVUYDfGNkurjYZNX9WleZRppIt/MZ/
 /Uog==
Subject: Re: [Spice-devel] [PATCH phodav 11/13] spice: move OutputQueue to
 file
X-BeenThere: spice-devel@lists.freedesktop.org
X-Mailman-Version: 2.1.23
Precedence: list
List-Id: <spice-devel.lists.freedesktop.org>
List-Unsubscribe: <https://lists.freedesktop.org/mailman/options/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=unsubscribe>
List-Archive: <https://lists.freedesktop.org/archives/spice-devel>
List-Post: <mailto:spice-devel@lists.freedesktop.org>
List-Help: <mailto:spice-devel-request@lists.freedesktop.org?subject=help>
List-Subscribe: <https://lists.freedesktop.org/mailman/listinfo/spice-devel>, 
 <mailto:spice-devel-request@lists.freedesktop.org?subject=subscribe>
Cc: spice-devel <spice-devel@lists.freedesktop.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: spice-devel-bounces@lists.freedesktop.org
Sender: "Spice-devel" <spice-devel-bounces@lists.freedesktop.org>

SGkKCk9uIFRodSwgTWF5IDIzLCAyMDE5IGF0IDEwOjM3IEFNIEpha3ViIEphbmvFryA8amphbmt1
QHJlZGhhdC5jb20+IHdyb3RlOgo+Cj4gT3V0cHV0UXVldWUgaXMgYSBzZWxmLWNvbnRhaW5lZCB1
bml0IGFuZCBhcyBzdWNoIGNhbiBiZSBwdXQgaW4KPiBhIHNlcGFyYXRlIGZpbGUgdG8gbWFrZSB0
aGUgc3BpY2Utd2ViZGF2ZC5jIGxlc3MgY2x1dHRlcmVkLgo+Cj4gQWxzbywgYXMgdGhlIGN1cnJl
bnQgaW1wbGVtZW50YXRpb24gZGVmaW5lcyBvdXRwdXRfcXVldWVfe3JlZiwgdW5yZWZ9LAo+IHR1
cm4gT3V0cHV0UXVldWUgaW50byBhIEdPYmplY3Qgd2hpY2ggY2FuIGhhbmRsZSB0aGVzZSBmb3Ig
dXMuCj4KPiBTaWduZWQtb2ZmLWJ5OiBKYWt1YiBKYW5rxa8gPGpqYW5rdUByZWRoYXQuY29tPgoK
YWNrIGluIHByaW5jaXBsZSwgbWlub3IgY29kaW5nIHN0eWxlIGlzc3VlcwoKVGhlIHBob2RhdiBz
b3VyY2UgY29kZSB0cmllcyB0byBmb2xsb3cgZ2xpYiBjb2RlIHN0eWxlLiBDYW4geW91IGluZGVu
dAphY2NvcmRpbmdseT8KCj4gLS0tCj4gIHNwaWNlL21lc29uLmJ1aWxkICAgICB8ICAgOCArKy0K
PiAgc3BpY2Uvb3V0cHV0LXF1ZXVlLmMgIHwgMTY0ICsrKysrKysrKysrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKwo+ICBzcGljZS9vdXRwdXQtcXVldWUuaCAgfCAgMzggKysrKysrKysr
Kwo+ICBzcGljZS9zcGljZS13ZWJkYXZkLmMgfCAxNjIgKystLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0KPiAgNCBmaWxlcyBjaGFuZ2VkLCAyMTQgaW5zZXJ0aW9ucygrKSwg
MTU4IGRlbGV0aW9ucygtKQo+ICBjcmVhdGUgbW9kZSAxMDA2NDQgc3BpY2Uvb3V0cHV0LXF1ZXVl
LmMKPiAgY3JlYXRlIG1vZGUgMTAwNjQ0IHNwaWNlL291dHB1dC1xdWV1ZS5oCj4KPiBkaWZmIC0t
Z2l0IGEvc3BpY2UvbWVzb24uYnVpbGQgYi9zcGljZS9tZXNvbi5idWlsZAo+IGluZGV4IDZkYjIy
Y2MuLjA2ZDIwZTYgMTAwNjQ0Cj4gLS0tIGEvc3BpY2UvbWVzb24uYnVpbGQKPiArKysgYi9zcGlj
ZS9tZXNvbi5idWlsZAo+IEBAIC00LDkgKzQsMTUgQEAgaWYgaG9zdF9tYWNoaW5lLnN5c3RlbSgp
ID09ICd3aW5kb3dzJwo+ICAgIHdpbjMyX2RlcHMgKz0gY29tcGlsZXIuZmluZF9saWJyYXJ5KCdt
cHInKQo+ICBlbmRpZgo+Cj4gK3NvdXJjZXMgPSBbCj4gKyAgJ3NwaWNlLXdlYmRhdmQuYycsCj4g
KyAgJ291dHB1dC1xdWV1ZS5jJywKPiArICAnb3V0cHV0LXF1ZXVlLmgnCj4gK10KPiArCj4gIGV4
ZWN1dGFibGUoCj4gICAgJ3NwaWNlLXdlYmRhdmQnLAo+IC0gIFsgJ3NwaWNlLXdlYmRhdmQuYycg
XSwKPiArICBzb3VyY2VzLAo+ICAgIGluc3RhbGxfZGlyIDogc2JpbmRpciwKPiAgICBpbmNsdWRl
X2RpcmVjdG9yaWVzIDogaW5jZGlyLAo+ICAgIGRlcGVuZGVuY2llcyA6IHdpbjMyX2RlcHMgKyBh
dmFoaV9kZXBzICsgZGVwcywKPiBkaWZmIC0tZ2l0IGEvc3BpY2Uvb3V0cHV0LXF1ZXVlLmMgYi9z
cGljZS9vdXRwdXQtcXVldWUuYwo+IG5ldyBmaWxlIG1vZGUgMTAwNjQ0Cj4gaW5kZXggMDAwMDAw
MC4uNjk5MTQ5Mwo+IC0tLSAvZGV2L251bGwKPiArKysgYi9zcGljZS9vdXRwdXQtcXVldWUuYwo+
IEBAIC0wLDAgKzEsMTY0IEBACj4gKy8qCj4gKyAqIENvcHlyaWdodCAoQykgMjAxOSBSZWQgSGF0
LCBJbmMuCj4gKyAqCj4gKyAqIFRoaXMgbGlicmFyeSBpcyBmcmVlIHNvZnR3YXJlOyB5b3UgY2Fu
IHJlZGlzdHJpYnV0ZSBpdCBhbmQvb3IKPiArICogbW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBv
ZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYwo+ICsgKiBMaWNlbnNlIGFzIHB1Ymxpc2hl
ZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uOyBlaXRoZXIKPiArICogdmVyc2lvbiAy
LjEgb2YgdGhlIExpY2Vuc2UsIG9yIChhdCB5b3VyIG9wdGlvbikgYW55IGxhdGVyIHZlcnNpb24u
Cj4gKyAqCj4gKyAqIFRoaXMgbGlicmFyeSBpcyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0
IGl0IHdpbGwgYmUgdXNlZnVsLAo+ICsgKiBidXQgV0lUSE9VVCBBTlkgV0FSUkFOVFk7IHdpdGhv
dXQgZXZlbiB0aGUgaW1wbGllZCB3YXJyYW50eSBvZgo+ICsgKiBNRVJDSEFOVEFCSUxJVFkgb3Ig
RklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUgdGhlIEdOVQo+ICsgKiBMZXNz
ZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9yZSBkZXRhaWxzLgo+ICsgKgo+ICsgKiBZ
b3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVyYWwg
UHVibGljCj4gKyAqIExpY2Vuc2UgYWxvbmcgd2l0aCB0aGlzIGxpYnJhcnk7IGlmIG5vdCwgc2Vl
IDxodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvPi4KPiArICovCj4gKyNpbmNsdWRlIDxjb25m
aWcuaD4KPiArCj4gKyNpbmNsdWRlICJvdXRwdXQtcXVldWUuaCIKPiArCj4gK3R5cGVkZWYgc3Ry
dWN0IF9PdXRwdXRRdWV1ZUVsZW0KPiArewo+ICsgIE91dHB1dFF1ZXVlICAqcXVldWU7Cj4gKyAg
Y29uc3QgZ3VpbnQ4ICpidWY7Cj4gKyAgZ3NpemUgICAgICAgICBzaXplOwo+ICsgIFB1c2hlZENi
ICAgICAgY2I7Cj4gKyAgZ3BvaW50ZXIgICAgICB1c2VyX2RhdGE7Cj4gK30gT3V0cHV0UXVldWVF
bGVtOwo+ICsKPiArc3RydWN0IF9PdXRwdXRRdWV1ZQo+ICt7Cj4gKyAgR09iamVjdCAgICAgICAg
cGFyZW50X2luc3RhbmNlOwo+ICsgIEdPdXRwdXRTdHJlYW0gKm91dHB1dDsKPiArICBnYm9vbGVh
biAgICAgICBmbHVzaGluZzsKPiArICBndWludCAgICAgICAgICBpZGxlX2lkOwo+ICsgIEdRdWV1
ZSAgICAgICAgKnF1ZXVlOwo+ICsgIEdDYW5jZWxsYWJsZSAgKmNhbmNlbDsKPiArfTsKPiArCj4g
K0dfREVGSU5FX1RZUEUoT3V0cHV0UXVldWUsIG91dHB1dF9xdWV1ZSwgR19UWVBFX09CSkVDVCk7
Cj4gKwo+ICtzdGF0aWMgdm9pZCBvdXRwdXRfcXVldWVfaW5pdChPdXRwdXRRdWV1ZSAqc2VsZikK
PiArewo+ICsgICAgc2VsZi0+cXVldWUgPSBnX3F1ZXVlX25ldyAoKTsKPiArfQo+ICsKPiArc3Rh
dGljIHZvaWQgb3V0cHV0X3F1ZXVlX2ZpbmFsaXplKEdPYmplY3QgKm9iaikKPiArewo+ICsgICAg
T3V0cHV0UXVldWUgKnNlbGYgPSBPVVRQVVRfUVVFVUUob2JqKTsKPiArCj4gKyAgICBnX3dhcm5f
aWZfZmFpbCAoZ19xdWV1ZV9nZXRfbGVuZ3RoIChzZWxmLT5xdWV1ZSkgPT0gMCk7Cj4gKyAgICBn
X3dhcm5faWZfZmFpbCAoIXNlbGYtPmZsdXNoaW5nKTsKPiArICAgIGdfd2Fybl9pZl9mYWlsICgh
c2VsZi0+aWRsZV9pZCk7Cj4gKwo+ICsgICAgZ19xdWV1ZV9mcmVlX2Z1bGwgKHNlbGYtPnF1ZXVl
LCBnX2ZyZWUpOwo+ICsgICAgZ19vYmplY3RfdW5yZWYgKHNlbGYtPm91dHB1dCk7Cj4gKyAgICBn
X29iamVjdF91bnJlZiAoc2VsZi0+Y2FuY2VsKTsKPiArCj4gKyAgICBHX09CSkVDVF9DTEFTUyhv
dXRwdXRfcXVldWVfcGFyZW50X2NsYXNzKS0+ZmluYWxpemUob2JqKTsKPiArfQo+ICsKPiArc3Rh
dGljIHZvaWQgb3V0cHV0X3F1ZXVlX2NsYXNzX2luaXQoT3V0cHV0UXVldWVDbGFzcyAqa2xhc3Mp
Cj4gK3sKPiArICAgIEdPYmplY3RDbGFzcyAqZ29iamVjdF9jbGFzcyA9IEdfT0JKRUNUX0NMQVNT
KGtsYXNzKTsKPiArICAgIGdvYmplY3RfY2xhc3MtPmZpbmFsaXplID0gb3V0cHV0X3F1ZXVlX2Zp
bmFsaXplOwo+ICt9Cj4gKwo+ICtPdXRwdXRRdWV1ZSogb3V0cHV0X3F1ZXVlX25ldyAoR091dHB1
dFN0cmVhbSAqb3V0cHV0LCBHQ2FuY2VsbGFibGUgKmNhbmNlbCkKPiArewo+ICsgIE91dHB1dFF1
ZXVlICpzZWxmID0gZ19vYmplY3RfbmV3KE9VVFBVVF9UWVBFX1FVRVVFLCBOVUxMKTsKPiArICBz
ZWxmLT5vdXRwdXQgPSBnX29iamVjdF9yZWYgKG91dHB1dCk7Cj4gKyAgc2VsZi0+Y2FuY2VsID0g
Z19vYmplY3RfcmVmIChjYW5jZWwpOwo+ICsgIHJldHVybiBzZWxmOwo+ICt9Cj4gKwo+ICtzdGF0
aWMgZ2Jvb2xlYW4gb3V0cHV0X3F1ZXVlX2lkbGUgKGdwb2ludGVyIHVzZXJfZGF0YSk7Cj4gKwo+
ICtzdGF0aWMgdm9pZAo+ICtvdXRwdXRfcXVldWVfZmx1c2hfY2IgKEdPYmplY3QgICAgICAqc291
cmNlX29iamVjdCwKPiArICAgICAgICAgICAgICAgICAgICAgICBHQXN5bmNSZXN1bHQgKnJlcywK
PiArICAgICAgICAgICAgICAgICAgICAgICBncG9pbnRlciAgICAgIHVzZXJfZGF0YSkKPiArewo+
ICsgIEdFcnJvciAqZXJyb3IgPSBOVUxMOwo+ICsgIE91dHB1dFF1ZXVlRWxlbSAqZSA9IHVzZXJf
ZGF0YTsKPiArICBPdXRwdXRRdWV1ZSAqcSA9IGUtPnF1ZXVlOwo+ICsKPiArICBnX2RlYnVnICgi
Zmx1c2hlZCIpOwo+ICsgIHEtPmZsdXNoaW5nID0gRkFMU0U7Cj4gKyAgZ19vdXRwdXRfc3RyZWFt
X2ZsdXNoX2ZpbmlzaCAoR19PVVRQVVRfU1RSRUFNIChzb3VyY2Vfb2JqZWN0KSwKPiArICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICByZXMsICZlcnJvcik7Cj4gKyAgaWYgKGVycm9yKQo+
ICsgICAgZ193YXJuaW5nICgiZXJyb3I6ICVzIiwgZXJyb3ItPm1lc3NhZ2UpOwo+ICsKPiArICBn
X2NsZWFyX2Vycm9yICgmZXJyb3IpOwo+ICsKPiArICBpZiAoIXEtPmlkbGVfaWQpCj4gKyAgICBx
LT5pZGxlX2lkID0gZ19pZGxlX2FkZCAob3V0cHV0X3F1ZXVlX2lkbGUsIGdfb2JqZWN0X3JlZiAo
cSkpOwo+ICsKPiArICBnX2ZyZWUgKGUpOwo+ICsgIGdfb2JqZWN0X3VucmVmIChxKTsKPiArfQo+
ICsKPiArc3RhdGljIGdib29sZWFuCj4gK291dHB1dF9xdWV1ZV9pZGxlIChncG9pbnRlciB1c2Vy
X2RhdGEpCj4gK3sKPiArICBPdXRwdXRRdWV1ZSAqcSA9IHVzZXJfZGF0YTsKPiArICBPdXRwdXRR
dWV1ZUVsZW0gKmUgPSBOVUxMOwo+ICsgIEdFcnJvciAqZXJyb3IgPSBOVUxMOwo+ICsKPiArICBp
ZiAocS0+Zmx1c2hpbmcpCj4gKyAgICB7Cj4gKyAgICAgIGdfZGVidWcgKCJhbHJlYWR5IGZsdXNo
aW5nIik7Cj4gKyAgICAgIGdvdG8gZW5kOwo+ICsgICAgfQo+ICsKPiArICBlID0gZ19xdWV1ZV9w
b3BfaGVhZCAocS0+cXVldWUpOwo+ICsgIGlmICghZSkKPiArICAgIHsKPiArICAgICAgZ19kZWJ1
ZyAoIk5vIG1vcmUgZGF0YSB0byBmbHVzaCIpOwo+ICsgICAgICBnb3RvIGVuZDsKPiArICAgIH0K
PiArCj4gKyAgZ19kZWJ1ZyAoImZsdXNoaW5nICUiIEdfR1NJWkVfRk9STUFULCBlLT5zaXplKTsK
PiArICBnX291dHB1dF9zdHJlYW1fd3JpdGVfYWxsIChxLT5vdXRwdXQsIGUtPmJ1ZiwgZS0+c2l6
ZSwgTlVMTCwgcS0+Y2FuY2VsLCAmZXJyb3IpOwo+ICsgIGlmIChlLT5jYikKPiArICAgIGUtPmNi
IChxLCBlLT51c2VyX2RhdGEsIGVycm9yKTsKPiArCj4gKyAgaWYgKGVycm9yKQo+ICsgICAgICBn
b3RvIGVuZDsKPiArCj4gKyAgcS0+Zmx1c2hpbmcgPSBUUlVFOwo+ICsgIGdfb3V0cHV0X3N0cmVh
bV9mbHVzaF9hc3luYyAocS0+b3V0cHV0LCBHX1BSSU9SSVRZX0RFRkFVTFQsIHEtPmNhbmNlbCwg
b3V0cHV0X3F1ZXVlX2ZsdXNoX2NiLCBlKTsKPiArCj4gKyAgcS0+aWRsZV9pZCA9IDA7Cj4gKyAg
cmV0dXJuIEZBTFNFOwo+ICsKPiArZW5kOgo+ICsgIGdfY2xlYXJfZXJyb3IgKCZlcnJvcik7Cj4g
KyAgcS0+aWRsZV9pZCA9IDA7Cj4gKyAgZ19mcmVlIChlKTsKPiArICBnX29iamVjdF91bnJlZiAo
cSk7Cj4gKwo+ICsgIHJldHVybiBGQUxTRTsKPiArfQo+ICsKPiArdm9pZAo+ICtvdXRwdXRfcXVl
dWVfcHVzaCAoT3V0cHV0UXVldWUgKnEsIGNvbnN0IGd1aW50OCAqYnVmLCBnc2l6ZSBzaXplLAo+
ICsgICAgICAgICAgICAgICAgICAgUHVzaGVkQ2IgcHVzaGVkX2NiLCBncG9pbnRlciB1c2VyX2Rh
dGEpCj4gK3sKPiArICBPdXRwdXRRdWV1ZUVsZW0gKmU7Cj4gKwo+ICsgIGdfcmV0dXJuX2lmX2Zh
aWwgKHEgIT0gTlVMTCk7Cj4gKwo+ICsgIGUgPSBnX25ldyAoT3V0cHV0UXVldWVFbGVtLCAxKTsK
PiArICBlLT5idWYgPSBidWY7Cj4gKyAgZS0+c2l6ZSA9IHNpemU7Cj4gKyAgZS0+Y2IgPSBwdXNo
ZWRfY2I7Cj4gKyAgZS0+dXNlcl9kYXRhID0gdXNlcl9kYXRhOwo+ICsgIGUtPnF1ZXVlID0gcTsK
PiArICBnX3F1ZXVlX3B1c2hfdGFpbCAocS0+cXVldWUsIGUpOwo+ICsKPiArICBpZiAoIXEtPmlk
bGVfaWQgJiYgIXEtPmZsdXNoaW5nKQo+ICsgICAgcS0+aWRsZV9pZCA9IGdfaWRsZV9hZGQgKG91
dHB1dF9xdWV1ZV9pZGxlLCBnX29iamVjdF9yZWYgKHEpKTsKPiArfQo+IGRpZmYgLS1naXQgYS9z
cGljZS9vdXRwdXQtcXVldWUuaCBiL3NwaWNlL291dHB1dC1xdWV1ZS5oCj4gbmV3IGZpbGUgbW9k
ZSAxMDA2NDQKPiBpbmRleCAwMDAwMDAwLi5hYjhmNmViCj4gLS0tIC9kZXYvbnVsbAo+ICsrKyBi
L3NwaWNlL291dHB1dC1xdWV1ZS5oCj4gQEAgLTAsMCArMSwzOCBAQAo+ICsvKgo+ICsgKiBDb3B5
cmlnaHQgKEMpIDIwMTkgUmVkIEhhdCwgSW5jLgo+ICsgKgo+ICsgKiBUaGlzIGxpYnJhcnkgaXMg
ZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5kL29yCj4gKyAqIG1vZGlm
eSBpdCB1bmRlciB0aGUgdGVybXMgb2YgdGhlIEdOVSBMZXNzZXIgR2VuZXJhbCBQdWJsaWMKPiAr
ICogTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbjsg
ZWl0aGVyCj4gKyAqIHZlcnNpb24gMi4xIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQgeW91ciBvcHRp
b24pIGFueSBsYXRlciB2ZXJzaW9uLgo+ICsgKgo+ICsgKiBUaGlzIGxpYnJhcnkgaXMgZGlzdHJp
YnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKPiArICogYnV0IFdJVEhP
VVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkgb2YKPiAr
ICogTUVSQ0hBTlRBQklMSVRZIG9yIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLiAg
U2VlIHRoZSBHTlUKPiArICogTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUg
ZGV0YWlscy4KPiArICoKPiArICogWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0
aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYwo+ICsgKiBMaWNlbnNlIGFsb25nIHdpdGggdGhp
cyBsaWJyYXJ5OyBpZiBub3QsIHNlZSA8aHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uCj4g
KyAqLwo+ICsKPiArI2lmbmRlZiBfX09VVFBVVF9RVUVVRV9ICj4gKyNkZWZpbmUgX19PVVRQVVRf
UVVFVUVfSAo+ICsKPiArI2luY2x1ZGUgPGdpby9naW8uaD4KPiArI2luY2x1ZGUgPGdsaWItb2Jq
ZWN0Lmg+Cj4gKwo+ICtHX0JFR0lOX0RFQ0xTCj4gKwo+ICsjZGVmaW5lIE9VVFBVVF9UWVBFX1FV
RVVFIG91dHB1dF9xdWV1ZV9nZXRfdHlwZSgpCj4gK0dfREVDTEFSRV9GSU5BTF9UWVBFKE91dHB1
dFF1ZXVlLCBvdXRwdXRfcXVldWUsIE9VVFBVVCwgUVVFVUUsIEdPYmplY3QpOwo+ICsKPiArT3V0
cHV0UXVldWUqIG91dHB1dF9xdWV1ZV9uZXcgKEdPdXRwdXRTdHJlYW0gKm91dHB1dCwgR0NhbmNl
bGxhYmxlICpjYW5jZWwpOwo+ICsKPiArdHlwZWRlZiB2b2lkICgqUHVzaGVkQ2IpIChPdXRwdXRR
dWV1ZSAqcSwgZ3BvaW50ZXIgdXNlcl9kYXRhLCBHRXJyb3IgKmVycm9yKTsKPiArCj4gK3ZvaWQg
b3V0cHV0X3F1ZXVlX3B1c2ggKE91dHB1dFF1ZXVlICpxLCBjb25zdCBndWludDggKmJ1ZiwgZ3Np
emUgc2l6ZSwKPiArICAgICAgICAgICAgICAgICAgICAgICAgUHVzaGVkQ2IgcHVzaGVkX2NiLCBn
cG9pbnRlciB1c2VyX2RhdGEpOwo+ICsKPiArR19FTkRfREVDTFMKPiArCj4gKyNlbmRpZgo+IGRp
ZmYgLS1naXQgYS9zcGljZS9zcGljZS13ZWJkYXZkLmMgYi9zcGljZS9zcGljZS13ZWJkYXZkLmMK
PiBpbmRleCBmMmM3ZjA3Li44NGFiNzcwIDEwMDY0NAo+IC0tLSBhL3NwaWNlL3NwaWNlLXdlYmRh
dmQuYwo+ICsrKyBiL3NwaWNlL3NwaWNlLXdlYmRhdmQuYwo+IEBAIC0zOSwyNSArMzksNyBAQAo+
ICAjaW5jbHVkZSA8YXZhaGktZ29iamVjdC9nYS1lbnRyeS1ncm91cC5oPgo+ICAjZW5kaWYKPgo+
IC10eXBlZGVmIHN0cnVjdCBfT3V0cHV0UXVldWUKPiAtewo+IC0gIGd1aW50ICAgICAgICAgIHJl
ZnM7Cj4gLSAgR091dHB1dFN0cmVhbSAqb3V0cHV0Owo+IC0gIGdib29sZWFuICAgICAgIGZsdXNo
aW5nOwo+IC0gIGd1aW50ICAgICAgICAgIGlkbGVfaWQ7Cj4gLSAgR1F1ZXVlICAgICAgICAqcXVl
dWU7Cj4gLX0gT3V0cHV0UXVldWU7Cj4gLQo+IC10eXBlZGVmIHZvaWQgKCpQdXNoZWRDYikgKE91
dHB1dFF1ZXVlICpxLCBncG9pbnRlciB1c2VyX2RhdGEsIEdFcnJvciAqZXJyb3IpOwo+IC0KPiAt
dHlwZWRlZiBzdHJ1Y3QgX091dHB1dFF1ZXVlRWxlbQo+IC17Cj4gLSAgT3V0cHV0UXVldWUgICpx
dWV1ZTsKPiAtICBjb25zdCBndWludDggKmJ1ZjsKPiAtICBnc2l6ZSAgICAgICAgIHNpemU7Cj4g
LSAgUHVzaGVkQ2IgICAgICBjYjsKPiAtICBncG9pbnRlciAgICAgIHVzZXJfZGF0YTsKPiAtfSBP
dXRwdXRRdWV1ZUVsZW07Cj4gKyNpbmNsdWRlICJvdXRwdXQtcXVldWUuaCIKPgo+ICB0eXBlZGVm
IHN0cnVjdCBfU2VydmljZURhdGEKPiAgewo+IEBAIC02OSwxMzkgKzUxLDYgQEAgdHlwZWRlZiBz
dHJ1Y3QgX1NlcnZpY2VEYXRhCj4KPiAgc3RhdGljIEdDYW5jZWxsYWJsZSAqY2FuY2VsOwo+Cj4g
LXN0YXRpYyBPdXRwdXRRdWV1ZSoKPiAtb3V0cHV0X3F1ZXVlX25ldyAoR091dHB1dFN0cmVhbSAq
b3V0cHV0KQo+IC17Cj4gLSAgT3V0cHV0UXVldWUgKnF1ZXVlID0gZ19uZXcwIChPdXRwdXRRdWV1
ZSwgMSk7Cj4gLQo+IC0gIHF1ZXVlLT5vdXRwdXQgPSBnX29iamVjdF9yZWYgKG91dHB1dCk7Cj4g
LSAgcXVldWUtPnF1ZXVlID0gZ19xdWV1ZV9uZXcgKCk7Cj4gLSAgcXVldWUtPnJlZnMgPSAxOwo+
IC0KPiAtICByZXR1cm4gcXVldWU7Cj4gLX0KPiAtCj4gLXN0YXRpYwo+IC12b2lkCj4gLW91dHB1
dF9xdWV1ZV9mcmVlIChPdXRwdXRRdWV1ZSAqcXVldWUpCj4gLXsKPiAtICBnX3dhcm5faWZfZmFp
bCAoZ19xdWV1ZV9nZXRfbGVuZ3RoIChxdWV1ZS0+cXVldWUpID09IDApOwo+IC0gIGdfd2Fybl9p
Zl9mYWlsICghcXVldWUtPmZsdXNoaW5nKTsKPiAtICBnX3dhcm5faWZfZmFpbCAoIXF1ZXVlLT5p
ZGxlX2lkKTsKPiAtCj4gLSAgZ19xdWV1ZV9mcmVlX2Z1bGwgKHF1ZXVlLT5xdWV1ZSwgZ19mcmVl
KTsKPiAtICBnX2NsZWFyX29iamVjdCAoJnF1ZXVlLT5vdXRwdXQpOwo+IC0gIGdfZnJlZSAocXVl
dWUpOwo+IC19Cj4gLQo+IC1zdGF0aWMgT3V0cHV0UXVldWUqCj4gLW91dHB1dF9xdWV1ZV9yZWYg
KE91dHB1dFF1ZXVlICpxKQo+IC17Cj4gLSAgcS0+cmVmcysrOwo+IC0gIHJldHVybiBxOwo+IC19
Cj4gLQo+IC1zdGF0aWMgdm9pZAo+IC1vdXRwdXRfcXVldWVfdW5yZWYgKE91dHB1dFF1ZXVlICpx
KQo+IC17Cj4gLSAgZ19yZXR1cm5faWZfZmFpbCAocSAhPSBOVUxMKTsKPiAtCj4gLSAgcS0+cmVm
cy0tOwo+IC0gIGlmIChxLT5yZWZzID09IDApCj4gLSAgICBvdXRwdXRfcXVldWVfZnJlZSAocSk7
Cj4gLX0KPiAtCj4gLXN0YXRpYyBnYm9vbGVhbiBvdXRwdXRfcXVldWVfaWRsZSAoZ3BvaW50ZXIg
dXNlcl9kYXRhKTsKPiAtCj4gLXN0YXRpYyB2b2lkCj4gLW91dHB1dF9xdWV1ZV9mbHVzaF9jYiAo
R09iamVjdCAgICAgICpzb3VyY2Vfb2JqZWN0LAo+IC0gICAgICAgICAgICAgICAgICAgICAgIEdB
c3luY1Jlc3VsdCAqcmVzLAo+IC0gICAgICAgICAgICAgICAgICAgICAgIGdwb2ludGVyICAgICAg
dXNlcl9kYXRhKQo+IC17Cj4gLSAgR0Vycm9yICplcnJvciA9IE5VTEw7Cj4gLSAgT3V0cHV0UXVl
dWVFbGVtICplID0gdXNlcl9kYXRhOwo+IC0gIE91dHB1dFF1ZXVlICpxID0gZS0+cXVldWU7Cj4g
LQo+IC0gIGdfZGVidWcgKCJmbHVzaGVkIik7Cj4gLSAgcS0+Zmx1c2hpbmcgPSBGQUxTRTsKPiAt
ICBnX291dHB1dF9zdHJlYW1fZmx1c2hfZmluaXNoIChHX09VVFBVVF9TVFJFQU0gKHNvdXJjZV9v
YmplY3QpLAo+IC0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcywgJmVycm9yKTsK
PiAtICBpZiAoZXJyb3IpCj4gLSAgICBnX3dhcm5pbmcgKCJlcnJvcjogJXMiLCBlcnJvci0+bWVz
c2FnZSk7Cj4gLQo+IC0gIGdfY2xlYXJfZXJyb3IgKCZlcnJvcik7Cj4gLQo+IC0gIGlmICghcS0+
aWRsZV9pZCkKPiAtICAgIHEtPmlkbGVfaWQgPSBnX2lkbGVfYWRkIChvdXRwdXRfcXVldWVfaWRs
ZSwgb3V0cHV0X3F1ZXVlX3JlZiAocSkpOwo+IC0KPiAtICBnX2ZyZWUgKGUpOwo+IC0gIG91dHB1
dF9xdWV1ZV91bnJlZiAocSk7Cj4gLX0KPiAtCj4gLXN0YXRpYyBnYm9vbGVhbgo+IC1vdXRwdXRf
cXVldWVfaWRsZSAoZ3BvaW50ZXIgdXNlcl9kYXRhKQo+IC17Cj4gLSAgT3V0cHV0UXVldWUgKnEg
PSB1c2VyX2RhdGE7Cj4gLSAgT3V0cHV0UXVldWVFbGVtICplID0gTlVMTDsKPiAtICBHRXJyb3Ig
KmVycm9yID0gTlVMTDsKPiAtCj4gLSAgaWYgKHEtPmZsdXNoaW5nKQo+IC0gICAgewo+IC0gICAg
ICBnX2RlYnVnICgiYWxyZWFkeSBmbHVzaGluZyIpOwo+IC0gICAgICBnb3RvIGVuZDsKPiAtICAg
IH0KPiAtCj4gLSAgZSA9IGdfcXVldWVfcG9wX2hlYWQgKHEtPnF1ZXVlKTsKPiAtICBpZiAoIWUp
Cj4gLSAgICB7Cj4gLSAgICAgIGdfZGVidWcgKCJObyBtb3JlIGRhdGEgdG8gZmx1c2giKTsKPiAt
ICAgICAgZ290byBlbmQ7Cj4gLSAgICB9Cj4gLQo+IC0gIGdfZGVidWcgKCJmbHVzaGluZyAlIiBH
X0dTSVpFX0ZPUk1BVCwgZS0+c2l6ZSk7Cj4gLSAgZ19vdXRwdXRfc3RyZWFtX3dyaXRlX2FsbCAo
cS0+b3V0cHV0LCBlLT5idWYsIGUtPnNpemUsIE5VTEwsIGNhbmNlbCwgJmVycm9yKTsKPiAtICBp
ZiAoZS0+Y2IpCj4gLSAgICBlLT5jYiAocSwgZS0+dXNlcl9kYXRhLCBlcnJvcik7Cj4gLQo+IC0g
IGlmIChlcnJvcikKPiAtICAgICAgZ290byBlbmQ7Cj4gLQo+IC0gIHEtPmZsdXNoaW5nID0gVFJV
RTsKPiAtICBnX291dHB1dF9zdHJlYW1fZmx1c2hfYXN5bmMgKHEtPm91dHB1dCwgR19QUklPUklU
WV9ERUZBVUxULCBjYW5jZWwsIG91dHB1dF9xdWV1ZV9mbHVzaF9jYiwgZSk7Cj4gLQo+IC0gIHEt
PmlkbGVfaWQgPSAwOwo+IC0gIHJldHVybiBGQUxTRTsKPiAtCj4gLWVuZDoKPiAtICBnX2NsZWFy
X2Vycm9yICgmZXJyb3IpOwo+IC0gIHEtPmlkbGVfaWQgPSAwOwo+IC0gIGdfZnJlZSAoZSk7Cj4g
LSAgb3V0cHV0X3F1ZXVlX3VucmVmIChxKTsKPiAtCj4gLSAgcmV0dXJuIEZBTFNFOwo+IC19Cj4g
LQo+IC1zdGF0aWMgdm9pZAo+IC1vdXRwdXRfcXVldWVfcHVzaCAoT3V0cHV0UXVldWUgKnEsIGNv
bnN0IGd1aW50OCAqYnVmLCBnc2l6ZSBzaXplLAo+IC0gICAgICAgICAgICAgICAgICAgUHVzaGVk
Q2IgcHVzaGVkX2NiLCBncG9pbnRlciB1c2VyX2RhdGEpCj4gLXsKPiAtICBPdXRwdXRRdWV1ZUVs
ZW0gKmU7Cj4gLQo+IC0gIGdfcmV0dXJuX2lmX2ZhaWwgKHEgIT0gTlVMTCk7Cj4gLQo+IC0gIGUg
PSBnX25ldyAoT3V0cHV0UXVldWVFbGVtLCAxKTsKPiAtICBlLT5idWYgPSBidWY7Cj4gLSAgZS0+
c2l6ZSA9IHNpemU7Cj4gLSAgZS0+Y2IgPSBwdXNoZWRfY2I7Cj4gLSAgZS0+dXNlcl9kYXRhID0g
dXNlcl9kYXRhOwo+IC0gIGUtPnF1ZXVlID0gcTsKPiAtICBnX3F1ZXVlX3B1c2hfdGFpbCAocS0+
cXVldWUsIGUpOwo+IC0KPiAtICBpZiAoIXEtPmlkbGVfaWQgJiYgIXEtPmZsdXNoaW5nKQo+IC0g
ICAgcS0+aWRsZV9pZCA9IGdfaWRsZV9hZGQgKG91dHB1dF9xdWV1ZV9pZGxlLCBvdXRwdXRfcXVl
dWVfcmVmIChxKSk7Cj4gLX0KPiAtCj4gLQo+ICBzdGF0aWMgc3RydWN0IF9EZW11eERhdGEKPiAg
ewo+ICAgIGdpbnQ2NCAgY2xpZW50Owo+IEBAIC0yNjQsNyArMTEzLDcgQEAgYWRkX2NsaWVudCAo
R1NvY2tldENvbm5lY3Rpb24gKmNsaWVudF9jb25uZWN0aW9uKQo+ICAgIGNsaWVudC0+Y2xpZW50
X2Nvbm5lY3Rpb24gPSBnX29iamVjdF9yZWYgKGNsaWVudF9jb25uZWN0aW9uKTsKPiAgICAvLyBU
T0RPOiBjaGVjayBpZiB1c2FnZSBvZiB0aGlzIGlkaW9tIGlzIHBvcnRhYmxlLCBvciBpZiB3ZSBu
ZWVkIHRvIGNoZWNrIGNvbGxpc2lvbnMKPiAgICBjbGllbnQtPmlkID0gR1BPSU5URVJfVE9fSU5U
IChjbGllbnRfY29ubmVjdGlvbik7Cj4gLSAgY2xpZW50LT5xdWV1ZSA9IG91dHB1dF9xdWV1ZV9u
ZXcgKGJvc3RyZWFtKTsKPiArICBjbGllbnQtPnF1ZXVlID0gb3V0cHV0X3F1ZXVlX25ldyAoYm9z
dHJlYW0sIGNhbmNlbCk7Cj4gICAgZ19vYmplY3RfdW5yZWYgKGJvc3RyZWFtKTsKPgo+ICAgIGdf
aGFzaF90YWJsZV9pbnNlcnQgKGNsaWVudHMsICZjbGllbnQtPmlkLCBjbGllbnQpOwo+IEBAIC0y
ODAsNyArMTI5LDcgQEAgY2xpZW50X2ZyZWUgKENsaWVudCAqYykKPgo+ICAgIGdfaW9fc3RyZWFt
X2Nsb3NlIChHX0lPX1NUUkVBTSAoYy0+Y2xpZW50X2Nvbm5lY3Rpb24pLCBOVUxMLCBOVUxMKTsK
PiAgICBnX29iamVjdF91bnJlZiAoYy0+Y2xpZW50X2Nvbm5lY3Rpb24pOwo+IC0gIG91dHB1dF9x
dWV1ZV91bnJlZiAoYy0+cXVldWUpOwo+ICsgIGdfb2JqZWN0X3VucmVmIChjLT5xdWV1ZSk7Cj4g
ICAgZ19mcmVlIChjKTsKPiAgfQo+Cj4gQEAgLTczMiw3ICs1ODEsNyBAQCBvcGVuX211eF9wYXRo
IChjb25zdCBjaGFyICpwYXRoKQo+ICAgIG11eF9pc3RyZWFtID0gR19JTlBVVF9TVFJFQU0gKGdf
d2luMzJfaW5wdXRfc3RyZWFtX25ldyAocG9ydF9oYW5kbGUsIFRSVUUpKTsKPiAgI2VuZGlmCj4K
PiAtICBtdXhfcXVldWUgPSBvdXRwdXRfcXVldWVfbmV3IChHX09VVFBVVF9TVFJFQU0gKG11eF9v
c3RyZWFtKSk7Cj4gKyAgbXV4X3F1ZXVlID0gb3V0cHV0X3F1ZXVlX25ldyAoR19PVVRQVVRfU1RS
RUFNIChtdXhfb3N0cmVhbSksIGNhbmNlbCk7Cj4gIH0KPgo+ICAjaWZkZWYgR19PU19XSU4zMgo+
IEBAIC0xMDAyLDEyICs4NTEsMTEgQEAgcnVuX3NlcnZpY2UgKFNlcnZpY2VEYXRhICpzZXJ2aWNl
X2RhdGEpCj4gICAgZ19jbGVhcl9vYmplY3QgKCZtdXhfaXN0cmVhbSk7Cj4gICAgZ19jbGVhcl9v
YmplY3QgKCZtdXhfb3N0cmVhbSk7Cj4KPiAtICBvdXRwdXRfcXVldWVfdW5yZWYgKG11eF9xdWV1
ZSk7Cj4gKyAgZ19jbGVhcl9vYmplY3QgKCZtdXhfcXVldWUpOwo+ICAgIGdfaGFzaF90YWJsZV91
bnJlZiAoY2xpZW50cyk7Cj4KPiAgICBnX3NvY2tldF9zZXJ2aWNlX3N0b3AgKHNvY2tldF9zZXJ2
aWNlKTsKPgo+IC0gIG11eF9xdWV1ZSA9IE5VTEw7Cj4gICAgZ19jbGVhcl9vYmplY3QgKCZjYW5j
ZWwpOwo+Cj4gICNpZmRlZiBHX09TX1dJTjMyCj4gLS0KPiAyLjIxLjAKPgo+IF9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCj4gU3BpY2UtZGV2ZWwgbWFpbGlu
ZyBsaXN0Cj4gU3BpY2UtZGV2ZWxAbGlzdHMuZnJlZWRlc2t0b3Aub3JnCj4gaHR0cHM6Ly9saXN0
cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9zcGljZS1kZXZlbAoKCgotLSAKTWFy
Yy1BbmRyw6kgTHVyZWF1Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fClNwaWNlLWRldmVsIG1haWxpbmcgbGlzdApTcGljZS1kZXZlbEBsaXN0cy5mcmVlZGVz
a3RvcC5vcmcKaHR0cHM6Ly9saXN0cy5mcmVlZGVza3RvcC5vcmcvbWFpbG1hbi9saXN0aW5mby9z
cGljZS1kZXZlbA==
